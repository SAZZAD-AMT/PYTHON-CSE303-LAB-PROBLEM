module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=83)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"a",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"b",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"d",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"g",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"e",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"f",(function(){return __spread}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return dynamicRequire})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isNodeEnv})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getGlobalObject})),__webpack_require__.d(__webpack_exports__,"n",(function(){return uuid4})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getEventDescription})),__webpack_require__.d(__webpack_exports__,"d",(function(){return consoleSandbox})),__webpack_require__.d(__webpack_exports__,"c",(function(){return addExceptionTypeValue})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addExceptionMechanism})),__webpack_require__.d(__webpack_exports__,"i",(function(){return htmlTreeAsString})),__webpack_require__.d(__webpack_exports__,"m",(function(){return timestampWithMs})),__webpack_require__.d(__webpack_exports__,"l",(function(){return parseSemver})),__webpack_require__.d(__webpack_exports__,"k",(function(){return parseRetryAfterHeader})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getFunctionName})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addContextToFrame}));var _is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16);function dynamicRequire(mod,request){return mod.require(request)}function isNodeEnv(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}var fallbackGlobalObject={};function getGlobalObject(){return isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function uuid4(){var global=getGlobalObject(),crypto=global.crypto||global.msCrypto;if(void 0!==crypto&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function getEventDescription(event){if(event.message)return event.message;if(event.exception&&event.exception.values&&event.exception.values[0]){var exception=event.exception.values[0];return exception.type&&exception.value?exception.type+": "+exception.value:exception.type||exception.value||event.event_id||"<unknown>"}return event.event_id||"<unknown>"}function consoleSandbox(callback){var global=getGlobalObject();if(!("console"in global))return callback();var originalConsole=global.console,wrappedLevels={};["debug","info","warn","error","log","assert"].forEach((function(level){level in global.console&&originalConsole[level].__sentry_original__&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalConsole[level].__sentry_original__)}));var result=callback();return Object.keys(wrappedLevels).forEach((function(level){originalConsole[level]=wrappedLevels[level]})),result}function addExceptionTypeValue(event,value,type){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].value=event.exception.values[0].value||value||"",event.exception.values[0].type=event.exception.values[0].type||type||"Error"}function addExceptionMechanism(event,mechanism){void 0===mechanism&&(mechanism={});try{event.exception.values[0].mechanism=event.exception.values[0].mechanism||{},Object.keys(mechanism).forEach((function(key){event.exception.values[0].mechanism[key]=mechanism[key]}))}catch(_oO){}}function htmlTreeAsString(elem){try{for(var currentElem=elem,out=[],height=0,len=0,sepLength=" > ".length,nextStr=void 0;currentElem&&height++<5&&!("html"===(nextStr=_htmlElementAsString(currentElem))||height>1&&len+out.length*sepLength+nextStr.length>=80);)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(" > ")}catch(_oO){return"<unknown>"}}function _htmlElementAsString(el){var className,classes,key,attr,i,elem=el,out=[];if(!elem||!elem.tagName)return"";if(out.push(elem.tagName.toLowerCase()),elem.id&&out.push("#"+elem.id),(className=elem.className)&&Object(_is__WEBPACK_IMPORTED_MODULE_0__.h)(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var attrWhitelist=["type","name","title","alt"];for(i=0;i<attrWhitelist.length;i++)key=attrWhitelist[i],(attr=elem.getAttribute(key))&&out.push("["+key+'="'+attr+'"]');return out.join("")}function timestampWithMs(){return(new Date).getTime()/1e3}var SEMVER_REGEXP=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function parseSemver(input){var match=input.match(SEMVER_REGEXP)||[],major=parseInt(match[1],10),minor=parseInt(match[2],10),patch=parseInt(match[3],10);return{buildmetadata:match[5],major:isNaN(major)?void 0:major,minor:isNaN(minor)?void 0:minor,patch:isNaN(patch)?void 0:patch,prerelease:match[4]}}function parseRetryAfterHeader(now,header){if(!header)return 6e4;var headerDelay=parseInt(""+header,10);if(!isNaN(headerDelay))return 1e3*headerDelay;var headerDate=Date.parse(""+header);return isNaN(headerDate)?6e4:headerDate-now}function getFunctionName(fn){try{return fn&&"function"==typeof fn&&fn.name||"<anonymous>"}catch(e){return"<anonymous>"}}function addContextToFrame(lines,frame,linesOfContext){void 0===linesOfContext&&(linesOfContext=5);var lineno=frame.lineno||0,maxLines=lines.length,sourceLine=Math.max(Math.min(maxLines,lineno-1),0);frame.pre_context=lines.slice(Math.max(0,sourceLine-linesOfContext),sourceLine).map((function(line){return Object(_string__WEBPACK_IMPORTED_MODULE_1__.b)(line,0)})),frame.context_line=Object(_string__WEBPACK_IMPORTED_MODULE_1__.b)(lines[Math.min(maxLines-1,sourceLine)],frame.colno||0),frame.post_context=lines.slice(Math.min(sourceLine+1,maxLines),sourceLine+1+linesOfContext).map((function(line){return Object(_string__WEBPACK_IMPORTED_MODULE_1__.b)(line,0)}))}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(75),__webpack_require__(216),__webpack_require__(217),__webpack_require__(218),__webpack_require__(219),__webpack_require__(78),__webpack_require__(220),__webpack_require__(51),__webpack_require__(49)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_alter,_aggregation,_assign,_binary,_case,_func,_interval,_select,_union){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.exprToSQL=exprToSQL,_exports.getExprListSQL=getExprListSQL,_exports.varToSQL=varToSQL,_exports.orderOrPartitionByToSQL=function(expr,prefix){if(!Array.isArray(expr))return"";let expressions=[];const upperPrefix=(0,_util.toUpper)(prefix);switch(upperPrefix){case"ORDER BY":expressions=expr.map(info=>`${exprToSQL(info.expr)} ${info.type}`);break;case"PARTITION BY":default:expressions=expr.map(info=>""+(0,_util.columnRefToSQL)(info.expr))}return(0,_util.connector)(upperPrefix,expressions.join(", "))},_exports.exprToSQLConvertFn=void 0;const exprToSQLConvertFn={alter:_alter.alterExprToSQL,aggr_func:_aggregation.aggrToSQL,assign:_assign.assignToSQL,binary_expr:_binary.binaryToSQL,case:_case.caseToSQL,cast:_func.castToSQL,column_ref:_util.columnRefToSQL,function:_func.funcToSQL,interval:_interval.intervalToSQL};function varToSQL(expr){const{prefix:prefix="@",name:name,members:members,keyword:keyword}=expr,val=[];keyword&&val.push(keyword);const varName=members&&members.length>0?`${name}.${members.join(".")}`:name;return val.push(`${prefix||""}${varName}`),val.join(" ")}function exprToSQL(exprOrigin){const expr=exprOrigin;if(exprOrigin.ast){const{ast:ast}=expr;Reflect.deleteProperty(expr,ast);for(const key of Object.keys(ast))expr[key]=ast[key]}return exprToSQLConvertFn[expr.type]?exprToSQLConvertFn[expr.type](expr):(0,_util.literalToSQL)(expr)}function getExprListSQL(exprList){return exprList?exprList.map(exprToSQL):[]}_exports.exprToSQLConvertFn=exprToSQLConvertFn,exprToSQLConvertFn.var=varToSQL,exprToSQLConvertFn.expr_list=expr=>{const str=getExprListSQL(expr.value);return expr.parentheses?`(${str})`:str},exprToSQLConvertFn.select=expr=>{const str="object"==typeof expr._next?(0,_union.unionToSQL)(expr):(0,_select.selectToSQL)(expr);return expr.parentheses?`(${str})`:str},exprToSQLConvertFn.unary_expr=function(expr){const str=`${expr.operator} ${exprToSQL(expr.expr)}`;return expr.parentheses?`(${str})`:str}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.autoIncreatementToSQL=function(autoIncreatement){if(!autoIncreatement||"string"==typeof autoIncreatement)return toUpper(autoIncreatement);const{keyword:keyword,seed:seed,increment:increment,parentheses:parentheses}=autoIncreatement;let result=toUpper(keyword);return parentheses&&(result+=`(${literalToSQL(seed)}, ${literalToSQL(increment)})`),result},_exports.commonKeywordArgsToSQL=function(kwArgs){return kwArgs?[toUpper(kwArgs.keyword),toUpper(kwArgs.args)]:[]},_exports.commonOptionConnector=function(keyword,action,opt){if(opt)return keyword?`${keyword.toUpperCase()} ${action(opt)}`:action(opt)},_exports.connector=function(keyword,str){if(str)return`${keyword.toUpperCase()} ${str}`},_exports.commonTypeValue=commonTypeValue,_exports.columnRefToSQL=columnRefToSQL,_exports.commentToSQL=function(comment){if(!comment)return;const result=[],{keyword:keyword,symbol:symbol,value:value}=comment;return result.push(keyword.toUpperCase()),symbol&&result.push(symbol),result.push(literalToSQL(value)),result.join(" ")},_exports.createBinaryExpr=function(operator,left,right){const expr={operator:operator,type:"binary_expr"};return expr.left=left.type?left:createValueExpr(left),"BETWEEN"===operator||"NOT BETWEEN"===operator?(expr.right={type:"expr_list",value:[createValueExpr(right[0]),createValueExpr(right[1])]},expr):(expr.right=right.type?right:createValueExpr(right),expr)},_exports.createValueExpr=createValueExpr,_exports.escape=escape,_exports.literalToSQL=literalToSQL,_exports.identifierToSql=identifierToSql,_exports.replaceParams=function(ast,params){return function replaceParamsInner(ast,keys){return Object.keys(ast).filter(key=>{const value=ast[key];return Array.isArray(value)||"object"==typeof value&&null!==value}).forEach(key=>{const expr=ast[key];if("object"!=typeof expr||"param"!==expr.type)return replaceParamsInner(expr,keys);if(void 0===keys[expr.value])throw new Error(`no value for parameter :${expr.value} found`);return ast[key]=createValueExpr(keys[expr.value]),null}),ast}(JSON.parse(JSON.stringify(ast)),params)},_exports.returningToSQL=function(returning){if(!returning)return"";const{columns:columns}=returning;return["RETURNING",columns.map(columnRefToSQL).filter(hasVal).join(", ")].join(" ")},_exports.hasVal=hasVal,_exports.setParserOpt=function(opt){parserOpt=opt},_exports.toUpper=toUpper,_exports.topToSQL=function(opt){if(!opt)return;const{value:value,percent:percent}=opt,prefix="TOP "+value;return percent?`${prefix} ${percent.toUpperCase()}`:prefix},_exports.triggerEventToSQL=function(events){return events.map(event=>{const{keyword:kw,args:args}=event,result=[toUpper(kw)];if(args){const{keyword:kwArgs,columns:columns}=args;result.push(toUpper(kwArgs),columns.map(columnRefToSQL).join(", "))}return result.join(" ")}).join(" OR ")},_exports.DEFAULT_OPT=void 0;const escapeMap={"\0":"\\0","'":"\\'",'"':'\\"',"\b":"\\b","\n":"\\n","\r":"\\r","\t":"\\t","":"\\Z"},DEFAULT_OPT={database:"mysql",type:"table"};_exports.DEFAULT_OPT=DEFAULT_OPT;let parserOpt=DEFAULT_OPT;function createValueExpr(value){const type=typeof value;if(Array.isArray(value))return{type:"expr_list",value:value.map(createValueExpr)};if(null===value)return{type:"null",value:null};switch(type){case"boolean":return{type:"bool",value:value};case"string":return{type:"string",value:value};case"number":return{type:"number",value:value};default:throw new Error(`Cannot convert value "${type}" to SQL`)}}function escape(str){const res=[];for(let i=0,len=str.length;i<len;++i){let char=str[i];const escaped=escapeMap[char];escaped&&(char=escaped),res.push(char)}return res.join("")}function identifierToSql(ident,isDual){const{database:database}=parserOpt;if(!0===isDual)return`'${ident}'`;if(ident)switch(database&&database.toLowerCase()){case"mysql":case"mariadb":return`\`${ident}\``;case"postgresql":return`"${ident}"`;case"transactsql":return`[${ident}]`;default:return`\`${ident}\``}}function literalToSQL(literal){const{type:type,parentheses:parentheses,value:value}=literal;let str=value;switch(type){case"string":str=`'${escape(value)}'`;break;case"single_quote_string":str=`'${value}'`;break;case"boolean":case"bool":str=value?"TRUE":"FALSE";break;case"null":str="NULL";break;case"star":str="*";break;case"param":str=":"+value;break;case"origin":str=value.toUpperCase();break;case"time":case"date":case"timestamp":str=`${type.toUpperCase()} '${value}'`}return parentheses?`(${str})`:str}function commonTypeValue(opt){const result=[];if(!opt)return result;const{type:type,value:value}=opt;return result.push(type.toUpperCase()),result.push(value.toUpperCase()),result}function columnRefToSQL(expr){const{arrow:arrow,collate:collate,column:column,isDual:isDual,table:table,parentheses:parentheses,property:property}=expr;let str="*"===column?"*":identifierToSql(column,isDual);return table&&(str=`${identifierToSql(table)}.${str}`),arrow&&(str+=` ${arrow} ${literalToSQL(property)}`),collate&&(str+=" "+commonTypeValue(collate).join(" ")),parentheses?`(${str})`:str}function toUpper(val){if(val)return val.toUpperCase()}function hasVal(val){return val}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function isError(wat){switch(Object.prototype.toString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}}function isString(wat){return"[object String]"===Object.prototype.toString.call(wat)}function isPrimitive(wat){return null===wat||"object"!=typeof wat&&"function"!=typeof wat}function isPlainObject(wat){return"[object Object]"===Object.prototype.toString.call(wat)}function isEvent(wat){return"undefined"!=typeof Event&&isInstanceOf(wat,Event)}function isElement(wat){return"undefined"!=typeof Element&&isInstanceOf(wat,Element)}function isRegExp(wat){return"[object RegExp]"===Object.prototype.toString.call(wat)}function isThenable(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)}function isSyntheticEvent(wat){return isPlainObject(wat)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat}function isInstanceOf(wat,base){try{return wat instanceof base}catch(_e){return!1}}__webpack_require__.d(__webpack_exports__,"b",(function(){return isError})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isString})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isPrimitive})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isPlainObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isEvent})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isElement})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isRegExp})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isThenable})),__webpack_require__.d(__webpack_exports__,"i",(function(){return isSyntheticEvent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isInstanceOf}))},function(module,exports){module.exports=require("fs")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10);class ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0{constructor(method){super(method)}}exports.ProtocolRequestType0=ProtocolRequestType0;class ProtocolRequestType extends vscode_jsonrpc_1.RequestType{constructor(method){super(method)}}exports.ProtocolRequestType=ProtocolRequestType;class ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType{constructor(method){super(method)}}exports.ProtocolNotificationType=ProtocolNotificationType;class ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0{constructor(method){super(method)}}exports.ProtocolNotificationType0=ProtocolNotificationType0},function(module,exports){module.exports=require("path")},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10);exports.ErrorCodes=vscode_jsonrpc_1.ErrorCodes,exports.ResponseError=vscode_jsonrpc_1.ResponseError,exports.CancellationToken=vscode_jsonrpc_1.CancellationToken,exports.CancellationTokenSource=vscode_jsonrpc_1.CancellationTokenSource,exports.Disposable=vscode_jsonrpc_1.Disposable,exports.Event=vscode_jsonrpc_1.Event,exports.Emitter=vscode_jsonrpc_1.Emitter,exports.Trace=vscode_jsonrpc_1.Trace,exports.TraceFormat=vscode_jsonrpc_1.TraceFormat,exports.SetTraceNotification=vscode_jsonrpc_1.SetTraceNotification,exports.LogTraceNotification=vscode_jsonrpc_1.LogTraceNotification,exports.RequestType=vscode_jsonrpc_1.RequestType,exports.RequestType0=vscode_jsonrpc_1.RequestType0,exports.NotificationType=vscode_jsonrpc_1.NotificationType,exports.NotificationType0=vscode_jsonrpc_1.NotificationType0,exports.MessageReader=vscode_jsonrpc_1.MessageReader,exports.MessageWriter=vscode_jsonrpc_1.MessageWriter,exports.ConnectionStrategy=vscode_jsonrpc_1.ConnectionStrategy,exports.StreamMessageReader=vscode_jsonrpc_1.StreamMessageReader,exports.StreamMessageWriter=vscode_jsonrpc_1.StreamMessageWriter,exports.IPCMessageReader=vscode_jsonrpc_1.IPCMessageReader,exports.IPCMessageWriter=vscode_jsonrpc_1.IPCMessageWriter,exports.createClientPipeTransport=vscode_jsonrpc_1.createClientPipeTransport,exports.createServerPipeTransport=vscode_jsonrpc_1.createServerPipeTransport,exports.generateRandomPipeName=vscode_jsonrpc_1.generateRandomPipeName,exports.createClientSocketTransport=vscode_jsonrpc_1.createClientSocketTransport,exports.createServerSocketTransport=vscode_jsonrpc_1.createServerSocketTransport,exports.ProgressType=vscode_jsonrpc_1.ProgressType,__export(__webpack_require__(96)),__export(__webpack_require__(97));const callHierarchy=__webpack_require__(108),st=__webpack_require__(109);!function(Proposed){let CallHierarchyPrepareRequest,CallHierarchyIncomingCallsRequest,CallHierarchyOutgoingCallsRequest,SemanticTokensRequest,SemanticTokensEditsRequest,SemanticTokensRangeRequest;!function(CallHierarchyPrepareRequest){CallHierarchyPrepareRequest.method=callHierarchy.CallHierarchyPrepareRequest.method,CallHierarchyPrepareRequest.type=callHierarchy.CallHierarchyPrepareRequest.type}(CallHierarchyPrepareRequest=Proposed.CallHierarchyPrepareRequest||(Proposed.CallHierarchyPrepareRequest={})),function(CallHierarchyIncomingCallsRequest){CallHierarchyIncomingCallsRequest.method=callHierarchy.CallHierarchyIncomingCallsRequest.method,CallHierarchyIncomingCallsRequest.type=callHierarchy.CallHierarchyIncomingCallsRequest.type}(CallHierarchyIncomingCallsRequest=Proposed.CallHierarchyIncomingCallsRequest||(Proposed.CallHierarchyIncomingCallsRequest={})),function(CallHierarchyOutgoingCallsRequest){CallHierarchyOutgoingCallsRequest.method=callHierarchy.CallHierarchyOutgoingCallsRequest.method,CallHierarchyOutgoingCallsRequest.type=callHierarchy.CallHierarchyOutgoingCallsRequest.type}(CallHierarchyOutgoingCallsRequest=Proposed.CallHierarchyOutgoingCallsRequest||(Proposed.CallHierarchyOutgoingCallsRequest={})),Proposed.SemanticTokenTypes=st.SemanticTokenTypes,Proposed.SemanticTokenModifiers=st.SemanticTokenModifiers,Proposed.SemanticTokens=st.SemanticTokens,function(SemanticTokensRequest){SemanticTokensRequest.method=st.SemanticTokensRequest.method,SemanticTokensRequest.type=st.SemanticTokensRequest.type}(SemanticTokensRequest=Proposed.SemanticTokensRequest||(Proposed.SemanticTokensRequest={})),function(SemanticTokensEditsRequest){SemanticTokensEditsRequest.method=st.SemanticTokensEditsRequest.method,SemanticTokensEditsRequest.type=st.SemanticTokensEditsRequest.type}(SemanticTokensEditsRequest=Proposed.SemanticTokensEditsRequest||(Proposed.SemanticTokensEditsRequest={})),function(SemanticTokensRangeRequest){SemanticTokensRangeRequest.method=st.SemanticTokensRangeRequest.method,SemanticTokensRangeRequest.type=st.SemanticTokensRangeRequest.type}(SemanticTokensRangeRequest=Proposed.SemanticTokensRangeRequest||(Proposed.SemanticTokensRangeRequest={}))}(exports.Proposed||(exports.Proposed={})),exports.createProtocolConnection=function(reader,writer,logger,strategy){return vscode_jsonrpc_1.createMessageConnection(reader,writer,logger,strategy)}},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0});const Is=__webpack_require__(22),messages_1=__webpack_require__(91);exports.RequestType=messages_1.RequestType,exports.RequestType0=messages_1.RequestType0,exports.RequestType1=messages_1.RequestType1,exports.RequestType2=messages_1.RequestType2,exports.RequestType3=messages_1.RequestType3,exports.RequestType4=messages_1.RequestType4,exports.RequestType5=messages_1.RequestType5,exports.RequestType6=messages_1.RequestType6,exports.RequestType7=messages_1.RequestType7,exports.RequestType8=messages_1.RequestType8,exports.RequestType9=messages_1.RequestType9,exports.ResponseError=messages_1.ResponseError,exports.ErrorCodes=messages_1.ErrorCodes,exports.NotificationType=messages_1.NotificationType,exports.NotificationType0=messages_1.NotificationType0,exports.NotificationType1=messages_1.NotificationType1,exports.NotificationType2=messages_1.NotificationType2,exports.NotificationType3=messages_1.NotificationType3,exports.NotificationType4=messages_1.NotificationType4,exports.NotificationType5=messages_1.NotificationType5,exports.NotificationType6=messages_1.NotificationType6,exports.NotificationType7=messages_1.NotificationType7,exports.NotificationType8=messages_1.NotificationType8,exports.NotificationType9=messages_1.NotificationType9;const messageReader_1=__webpack_require__(38);exports.MessageReader=messageReader_1.MessageReader,exports.StreamMessageReader=messageReader_1.StreamMessageReader,exports.IPCMessageReader=messageReader_1.IPCMessageReader,exports.SocketMessageReader=messageReader_1.SocketMessageReader;const messageWriter_1=__webpack_require__(39);exports.MessageWriter=messageWriter_1.MessageWriter,exports.StreamMessageWriter=messageWriter_1.StreamMessageWriter,exports.IPCMessageWriter=messageWriter_1.IPCMessageWriter,exports.SocketMessageWriter=messageWriter_1.SocketMessageWriter;const events_1=__webpack_require__(28);exports.Disposable=events_1.Disposable,exports.Event=events_1.Event,exports.Emitter=events_1.Emitter;const cancellation_1=__webpack_require__(92);exports.CancellationTokenSource=cancellation_1.CancellationTokenSource,exports.CancellationToken=cancellation_1.CancellationToken;const linkedMap_1=__webpack_require__(93);var CancelNotification,ProgressNotification,Trace,TraceFormat,SetTraceNotification,LogTraceNotification,ConnectionErrors,ConnectionState;__export(__webpack_require__(94)),__export(__webpack_require__(95)),function(CancelNotification){CancelNotification.type=new messages_1.NotificationType("$/cancelRequest")}(CancelNotification||(CancelNotification={})),function(ProgressNotification){ProgressNotification.type=new messages_1.NotificationType("$/progress")}(ProgressNotification||(ProgressNotification={}));exports.ProgressType=class ProgressType{constructor(){}},exports.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(Trace){Trace[Trace.Off=0]="Off",Trace[Trace.Messages=1]="Messages",Trace[Trace.Verbose=2]="Verbose"}(Trace=exports.Trace||(exports.Trace={})),function(Trace){Trace.fromString=function(value){if(!Is.string(value))return Trace.Off;switch(value=value.toLowerCase()){case"off":return Trace.Off;case"messages":return Trace.Messages;case"verbose":return Trace.Verbose;default:return Trace.Off}},Trace.toString=function(value){switch(value){case Trace.Off:return"off";case Trace.Messages:return"messages";case Trace.Verbose:return"verbose";default:return"off"}}}(Trace=exports.Trace||(exports.Trace={})),function(TraceFormat){TraceFormat.Text="text",TraceFormat.JSON="json"}(exports.TraceFormat||(exports.TraceFormat={})),function(TraceFormat){TraceFormat.fromString=function(value){return"json"===(value=value.toLowerCase())?TraceFormat.JSON:TraceFormat.Text}}(TraceFormat=exports.TraceFormat||(exports.TraceFormat={})),function(SetTraceNotification){SetTraceNotification.type=new messages_1.NotificationType("$/setTraceNotification")}(SetTraceNotification=exports.SetTraceNotification||(exports.SetTraceNotification={})),function(LogTraceNotification){LogTraceNotification.type=new messages_1.NotificationType("$/logTraceNotification")}(LogTraceNotification=exports.LogTraceNotification||(exports.LogTraceNotification={})),function(ConnectionErrors){ConnectionErrors[ConnectionErrors.Closed=1]="Closed",ConnectionErrors[ConnectionErrors.Disposed=2]="Disposed",ConnectionErrors[ConnectionErrors.AlreadyListening=3]="AlreadyListening"}(ConnectionErrors=exports.ConnectionErrors||(exports.ConnectionErrors={}));class ConnectionError extends Error{constructor(code,message){super(message),this.code=code,Object.setPrototypeOf(this,ConnectionError.prototype)}}function _createMessageConnection(messageReader,messageWriter,logger,strategy){let sequenceNumber=0,notificationSquenceNumber=0,unknownResponseSquenceNumber=0;let timer,tracer,starRequestHandler=void 0,requestHandlers=Object.create(null),starNotificationHandler=void 0,notificationHandlers=Object.create(null),progressHandlers=new Map,messageQueue=new linkedMap_1.LinkedMap,responsePromises=Object.create(null),requestTokens=Object.create(null),trace=Trace.Off,traceFormat=TraceFormat.Text,state=ConnectionState.New,errorEmitter=new events_1.Emitter,closeEmitter=new events_1.Emitter,unhandledNotificationEmitter=new events_1.Emitter,unhandledProgressEmitter=new events_1.Emitter,disposeEmitter=new events_1.Emitter;function createRequestQueueKey(id){return"req-"+id.toString()}function addMessageToQueue(queue,message){var id;messages_1.isRequestMessage(message)?queue.set(createRequestQueueKey(message.id),message):messages_1.isResponseMessage(message)?queue.set(null===(id=message.id)?"res-unknown-"+(++unknownResponseSquenceNumber).toString():"res-"+id.toString(),message):queue.set("not-"+(++notificationSquenceNumber).toString(),message)}function cancelUndispatched(_message){}function isListening(){return state===ConnectionState.Listening}function isClosed(){return state===ConnectionState.Closed}function isDisposed(){return state===ConnectionState.Disposed}function closeHandler(){state!==ConnectionState.New&&state!==ConnectionState.Listening||(state=ConnectionState.Closed,closeEmitter.fire(void 0))}function triggerMessageQueue(){timer||0===messageQueue.size||(timer=setImmediate(()=>{timer=void 0,function(){if(0===messageQueue.size)return;let message=messageQueue.shift();try{messages_1.isRequestMessage(message)?function(requestMessage){if(isDisposed())return;function reply(resultOrError,method,startTime){let message={jsonrpc:"2.0",id:requestMessage.id};resultOrError instanceof messages_1.ResponseError?message.error=resultOrError.toJson():message.result=void 0===resultOrError?null:resultOrError,traceSendingResponse(message,method,startTime),messageWriter.write(message)}function replyError(error,method,startTime){let message={jsonrpc:"2.0",id:requestMessage.id,error:error.toJson()};traceSendingResponse(message,method,startTime),messageWriter.write(message)}!function(message){if(trace===Trace.Off||!tracer)return;if(traceFormat===TraceFormat.Text){let data=void 0;trace===Trace.Verbose&&message.params&&(data=`Params: ${JSON.stringify(message.params,null,4)}\n\n`),tracer.log(`Received request '${message.method} - (${message.id})'.`,data)}else logLSPMessage("receive-request",message)}(requestMessage);let type,requestHandler,element=requestHandlers[requestMessage.method];element&&(type=element.type,requestHandler=element.handler);let startTime=Date.now();if(requestHandler||starRequestHandler){let cancellationSource=new cancellation_1.CancellationTokenSource,tokenKey=String(requestMessage.id);requestTokens[tokenKey]=cancellationSource;try{let handlerResult;handlerResult=void 0===requestMessage.params||void 0!==type&&0===type.numberOfParams?requestHandler?requestHandler(cancellationSource.token):starRequestHandler(requestMessage.method,cancellationSource.token):Is.array(requestMessage.params)&&(void 0===type||type.numberOfParams>1)?requestHandler?requestHandler(...requestMessage.params,cancellationSource.token):starRequestHandler(requestMessage.method,...requestMessage.params,cancellationSource.token):requestHandler?requestHandler(requestMessage.params,cancellationSource.token):starRequestHandler(requestMessage.method,requestMessage.params,cancellationSource.token);let promise=handlerResult;handlerResult?promise.then?promise.then(resultOrError=>{delete requestTokens[tokenKey],reply(resultOrError,requestMessage.method,startTime)},error=>{delete requestTokens[tokenKey],error instanceof messages_1.ResponseError?replyError(error,requestMessage.method,startTime):error&&Is.string(error.message)?replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime):replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}):(delete requestTokens[tokenKey],reply(handlerResult,requestMessage.method,startTime)):(delete requestTokens[tokenKey],function(result,method,startTime){void 0===result&&(result=null);let message={jsonrpc:"2.0",id:requestMessage.id,result:result};traceSendingResponse(message,method,startTime),messageWriter.write(message)}(handlerResult,requestMessage.method,startTime))}catch(error){delete requestTokens[tokenKey],error instanceof messages_1.ResponseError?reply(error,requestMessage.method,startTime):error&&Is.string(error.message)?replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime):replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}}else replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound,"Unhandled method "+requestMessage.method),requestMessage.method,startTime)}(message):messages_1.isNotificationMessage(message)?function(message){if(isDisposed())return;let notificationHandler,type=void 0;if(message.method===CancelNotification.type.method)notificationHandler=params=>{let id=params.id,source=requestTokens[String(id)];source&&source.cancel()};else{let element=notificationHandlers[message.method];element&&(notificationHandler=element.handler,type=element.type)}if(notificationHandler||starNotificationHandler)try{!function(message){if(trace===Trace.Off||!tracer||message.method===LogTraceNotification.type.method)return;if(traceFormat===TraceFormat.Text){let data=void 0;trace===Trace.Verbose&&(data=message.params?`Params: ${JSON.stringify(message.params,null,4)}\n\n`:"No parameters provided.\n\n"),tracer.log(`Received notification '${message.method}'.`,data)}else logLSPMessage("receive-notification",message)}(message),void 0===message.params||void 0!==type&&0===type.numberOfParams?notificationHandler?notificationHandler():starNotificationHandler(message.method):Is.array(message.params)&&(void 0===type||type.numberOfParams>1)?notificationHandler?notificationHandler(...message.params):starNotificationHandler(message.method,...message.params):notificationHandler?notificationHandler(message.params):starNotificationHandler(message.method,message.params)}catch(error){error.message?logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`):logger.error(`Notification handler '${message.method}' failed unexpectedly.`)}else unhandledNotificationEmitter.fire(message)}(message):messages_1.isResponseMessage(message)?function(responseMessage){if(isDisposed())return;if(null===responseMessage.id)responseMessage.error?logger.error("Received response message without id: Error is: \n"+JSON.stringify(responseMessage.error,void 0,4)):logger.error("Received response message without id. No further error information provided.");else{let key=String(responseMessage.id),responsePromise=responsePromises[key];if(function(message,responsePromise){if(trace===Trace.Off||!tracer)return;if(traceFormat===TraceFormat.Text){let data=void 0;if(trace===Trace.Verbose&&(message.error&&message.error.data?data=`Error data: ${JSON.stringify(message.error.data,null,4)}\n\n`:message.result?data=`Result: ${JSON.stringify(message.result,null,4)}\n\n`:void 0===message.error&&(data="No result returned.\n\n")),responsePromise){let error=message.error?` Request failed: ${message.error.message} (${message.error.code}).`:"";tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now()-responsePromise.timerStart}ms.${error}`,data)}else tracer.log(`Received response ${message.id} without active response promise.`,data)}else logLSPMessage("receive-response",message)}(responseMessage,responsePromise),responsePromise){delete responsePromises[key];try{if(responseMessage.error){let error=responseMessage.error;responsePromise.reject(new messages_1.ResponseError(error.code,error.message,error.data))}else{if(void 0===responseMessage.result)throw new Error("Should never happen.");responsePromise.resolve(responseMessage.result)}}catch(error){error.message?logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`):logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`)}}}}(message):function(message){if(!message)return void logger.error("Received empty message.");logger.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(message,null,4));let responseMessage=message;if(Is.string(responseMessage.id)||Is.number(responseMessage.id)){let key=String(responseMessage.id),responseHandler=responsePromises[key];responseHandler&&responseHandler.reject(new Error("The received response has neither a result nor an error property."))}}(message)}finally{triggerMessageQueue()}}()}))}messageReader.onClose(closeHandler),messageReader.onError((function(error){errorEmitter.fire([error,void 0,void 0])})),messageWriter.onClose(closeHandler),messageWriter.onError((function(data){errorEmitter.fire(data)}));let callback=message=>{try{if(messages_1.isNotificationMessage(message)&&message.method===CancelNotification.type.method){let key=createRequestQueueKey(message.params.id),toCancel=messageQueue.get(key);if(messages_1.isRequestMessage(toCancel)){let response=strategy&&strategy.cancelUndispatched?strategy.cancelUndispatched(toCancel,cancelUndispatched):void 0;if(response&&(void 0!==response.error||void 0!==response.result))return messageQueue.delete(key),response.id=toCancel.id,traceSendingResponse(response,message.method,Date.now()),void messageWriter.write(response)}}addMessageToQueue(messageQueue,message)}finally{triggerMessageQueue()}};function traceSendingResponse(message,method,startTime){if(trace!==Trace.Off&&tracer)if(traceFormat===TraceFormat.Text){let data=void 0;trace===Trace.Verbose&&(message.error&&message.error.data?data=`Error data: ${JSON.stringify(message.error.data,null,4)}\n\n`:message.result?data=`Result: ${JSON.stringify(message.result,null,4)}\n\n`:void 0===message.error&&(data="No result returned.\n\n")),tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now()-startTime}ms`,data)}else logLSPMessage("send-response",message)}function logLSPMessage(type,message){if(!tracer||trace===Trace.Off)return;const lspMessage={isLSPMessage:!0,type:type,message:message,timestamp:Date.now()};tracer.log(lspMessage)}function throwIfClosedOrDisposed(){if(isClosed())throw new ConnectionError(ConnectionErrors.Closed,"Connection is closed.");if(isDisposed())throw new ConnectionError(ConnectionErrors.Disposed,"Connection is disposed.")}function undefinedToNull(param){return void 0===param?null:param}function computeMessageParams(type,params){let result,numberOfParams=type.numberOfParams;switch(numberOfParams){case 0:result=null;break;case 1:result=undefinedToNull(params[0]);break;default:result=[];for(let i=0;i<params.length&&i<numberOfParams;i++)result.push(undefinedToNull(params[i]));if(params.length<numberOfParams)for(let i=params.length;i<numberOfParams;i++)result.push(null)}return result}let connection={sendNotification:(type,...params)=>{let method,messageParams;if(throwIfClosedOrDisposed(),Is.string(type))switch(method=type,params.length){case 0:messageParams=null;break;case 1:messageParams=params[0];break;default:messageParams=params}else method=type.method,messageParams=computeMessageParams(type,params);let notificationMessage={jsonrpc:"2.0",method:method,params:messageParams};!function(message){if(trace!==Trace.Off&&tracer)if(traceFormat===TraceFormat.Text){let data=void 0;trace===Trace.Verbose&&(data=message.params?`Params: ${JSON.stringify(message.params,null,4)}\n\n`:"No parameters provided.\n\n"),tracer.log(`Sending notification '${message.method}'.`,data)}else logLSPMessage("send-notification",message)}(notificationMessage),messageWriter.write(notificationMessage)},onNotification:(type,handler)=>{throwIfClosedOrDisposed(),Is.func(type)?starNotificationHandler=type:handler&&(Is.string(type)?notificationHandlers[type]={type:void 0,handler:handler}:notificationHandlers[type.method]={type:type,handler:handler})},onProgress:(_type,token,handler)=>{if(progressHandlers.has(token))throw new Error(`Progress handler for token ${token} already registered`);return progressHandlers.set(token,handler),{dispose:()=>{progressHandlers.delete(token)}}},sendProgress:(_type,token,value)=>{connection.sendNotification(ProgressNotification.type,{token:token,value:value})},onUnhandledProgress:unhandledProgressEmitter.event,sendRequest:(type,...params)=>{let method,messageParams;throwIfClosedOrDisposed(),function(){if(!isListening())throw new Error("Call listen() first.")}();let token=void 0;if(Is.string(type))switch(method=type,params.length){case 0:messageParams=null;break;case 1:cancellation_1.CancellationToken.is(params[0])?(messageParams=null,token=params[0]):messageParams=undefinedToNull(params[0]);break;default:const last=params.length-1;cancellation_1.CancellationToken.is(params[last])?(token=params[last],messageParams=2===params.length?undefinedToNull(params[0]):params.slice(0,last).map(value=>undefinedToNull(value))):messageParams=params.map(value=>undefinedToNull(value))}else{method=type.method,messageParams=computeMessageParams(type,params);let numberOfParams=type.numberOfParams;token=cancellation_1.CancellationToken.is(params[numberOfParams])?params[numberOfParams]:void 0}let id=sequenceNumber++,result=new Promise((resolve,reject)=>{let requestMessage={jsonrpc:"2.0",id:id,method:method,params:messageParams},responsePromise={method:method,timerStart:Date.now(),resolve:resolve,reject:reject};!function(message){if(trace!==Trace.Off&&tracer)if(traceFormat===TraceFormat.Text){let data=void 0;trace===Trace.Verbose&&message.params&&(data=`Params: ${JSON.stringify(message.params,null,4)}\n\n`),tracer.log(`Sending request '${message.method} - (${message.id})'.`,data)}else logLSPMessage("send-request",message)}(requestMessage);try{messageWriter.write(requestMessage)}catch(e){responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),responsePromise=null}responsePromise&&(responsePromises[String(id)]=responsePromise)});return token&&token.onCancellationRequested(()=>{connection.sendNotification(CancelNotification.type,{id:id})}),result},onRequest:(type,handler)=>{throwIfClosedOrDisposed(),Is.func(type)?starRequestHandler=type:handler&&(Is.string(type)?requestHandlers[type]={type:void 0,handler:handler}:requestHandlers[type.method]={type:type,handler:handler})},trace:(_value,_tracer,sendNotificationOrTraceOptions)=>{let _sendNotification=!1,_traceFormat=TraceFormat.Text;void 0!==sendNotificationOrTraceOptions&&(Is.boolean(sendNotificationOrTraceOptions)?_sendNotification=sendNotificationOrTraceOptions:(_sendNotification=sendNotificationOrTraceOptions.sendNotification||!1,_traceFormat=sendNotificationOrTraceOptions.traceFormat||TraceFormat.Text)),trace=_value,traceFormat=_traceFormat,tracer=trace===Trace.Off?void 0:_tracer,!_sendNotification||isClosed()||isDisposed()||connection.sendNotification(SetTraceNotification.type,{value:Trace.toString(_value)})},onError:errorEmitter.event,onClose:closeEmitter.event,onUnhandledNotification:unhandledNotificationEmitter.event,onDispose:disposeEmitter.event,dispose:()=>{if(isDisposed())return;state=ConnectionState.Disposed,disposeEmitter.fire(void 0);let error=new Error("Connection got disposed.");Object.keys(responsePromises).forEach(key=>{responsePromises[key].reject(error)}),responsePromises=Object.create(null),requestTokens=Object.create(null),messageQueue=new linkedMap_1.LinkedMap,Is.func(messageWriter.dispose)&&messageWriter.dispose(),Is.func(messageReader.dispose)&&messageReader.dispose()},listen:()=>{throwIfClosedOrDisposed(),function(){if(isListening())throw new ConnectionError(ConnectionErrors.AlreadyListening,"Connection is already listening")}(),state=ConnectionState.Listening,messageReader.listen(callback)},inspect:()=>{console.log("inspect")}};return connection.onNotification(LogTraceNotification.type,params=>{trace!==Trace.Off&&tracer&&tracer.log(params.message,trace===Trace.Verbose?params.verbose:void 0)}),connection.onNotification(ProgressNotification.type,params=>{const handler=progressHandlers.get(params.token);handler?handler(params.value):unhandledProgressEmitter.fire(params)}),connection}exports.ConnectionError=ConnectionError,function(ConnectionStrategy){ConnectionStrategy.is=function(value){let candidate=value;return candidate&&Is.func(candidate.cancelUndispatched)}}(exports.ConnectionStrategy||(exports.ConnectionStrategy={})),function(ConnectionState){ConnectionState[ConnectionState.New=1]="New",ConnectionState[ConnectionState.Listening=2]="Listening",ConnectionState[ConnectionState.Closed=3]="Closed",ConnectionState[ConnectionState.Disposed=4]="Disposed"}(ConnectionState||(ConnectionState={})),exports.createMessageConnection=function(input,output,logger,strategy){var value;return logger||(logger=exports.NullLogger),_createMessageConnection(void 0!==(value=input).listen&&void 0===value.read?input:new messageReader_1.StreamMessageReader(input),function(value){return void 0!==value.write&&void 0===value.end}(output)?output:new messageWriter_1.StreamMessageWriter(output),logger,strategy)}},function(module,exports,__webpack_require__){"use strict";let logger;Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLogger=void 0;logger=__webpack_require__(120).default,exports.createLogger=function(ns,bindings={}){return ns?logger.child({...bindings,ns:ns}):logger},exports.default=logger},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_expr){"use strict";function tableToSQL(tableInfo){const{table:table,db:db,as:as,expr:expr}=tableInfo,database=(0,_util.identifierToSql)(db),tableName=table?(0,_util.identifierToSql)(table):(0,_expr.exprToSQL)(expr),str=database?`${database}.${tableName}`:tableName;return as?`${str} AS ${(0,_util.identifierToSql)(as)}`:str}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.tablesToSQL=function(tables){const baseTable=tables[0],clauses=[];if("dual"===baseTable.type)return"DUAL";clauses.push(tableToSQL(baseTable));for(let i=1;i<tables.length;++i){const joinExpr=tables[i],{on:on,using:using,join:join}=joinExpr,str=[];str.push(join?" "+join:","),str.push(tableToSQL(joinExpr)),str.push((0,_util.commonOptionConnector)("ON",_expr.exprToSQL,on)),using&&str.push(`USING (${using.map(_util.identifierToSql).join(", ")})`),clauses.push(str.filter(_util.hasVal).join(" "))}return clauses.filter(_util.hasVal).join("")},_exports.tableOptionToSQL=function(tableOption){const{keyword:keyword,symbol:symbol,value:value}=tableOption,sql=[keyword.toUpperCase()];return symbol&&sql.push(symbol),sql.push(value),sql.join(" ")},_exports.tableToSQL=tableToSQL})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports){module.exports=require("os")},function(module,exports){module.exports=require("util")},function(module,exports){module.exports=require("crypto")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return truncate})),__webpack_require__.d(__webpack_exports__,"b",(function(){return snipLine})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isMatchingPattern}));var _is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);function truncate(str,max){return void 0===max&&(max=0),"string"!=typeof str||0===max||str.length<=max?str:str.substr(0,max)+"..."}function snipLine(line,colno){var newLine=line,ll=newLine.length;if(ll<=150)return newLine;colno>ll&&(colno=ll);var start=Math.max(colno-60,0);start<5&&(start=0);var end=Math.min(start+140,ll);return end>ll-5&&(end=ll),end===ll&&(start=Math.max(end-140,0)),newLine=newLine.slice(start,end),start>0&&(newLine="'{snip} "+newLine),end<ll&&(newLine+=" {snip}"),newLine}function isMatchingPattern(value,pattern){return Object(_is__WEBPACK_IMPORTED_MODULE_0__.g)(pattern)?pattern.test(value):"string"==typeof pattern&&-1!==value.indexOf(pattern)}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9);exports.Event=vscode_languageserver_protocol_1.Event;const configuration_1=__webpack_require__(110),workspaceFolders_1=__webpack_require__(111),progress_1=__webpack_require__(112),Is=__webpack_require__(52),UUID=__webpack_require__(53);!function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(9));const fm=__webpack_require__(113);!function(Files){Files.uriToFilePath=fm.uriToFilePath,Files.resolveGlobalNodePath=fm.resolveGlobalNodePath,Files.resolveGlobalYarnPath=fm.resolveGlobalYarnPath,Files.resolve=fm.resolve,Files.resolveModulePath=fm.resolveModulePath}(exports.Files||(exports.Files={}));let shutdownReceived=!1,exitTimer=void 0;function null2Undefined(value){if(null!==value)return value}!function(){function runTimer(value){try{let processId=parseInt(value);isNaN(processId)||(exitTimer=setInterval(()=>{try{process.kill(processId,0)}catch(ex){process.exit(shutdownReceived?0:1)}},3e3))}catch(e){}}for(let i=2;i<process.argv.length;i++){let arg=process.argv[i];if("--clientProcessId"===arg&&i+1<process.argv.length)return void runTimer(process.argv[i+1]);{let args=arg.split("=");"--clientProcessId"===args[0]&&runTimer(args[1])}}}();exports.TextDocuments=class TextDocuments{constructor(configuration){this._documents=Object.create(null),this._configuration=configuration,this._onDidChangeContent=new vscode_languageserver_protocol_1.Emitter,this._onDidOpen=new vscode_languageserver_protocol_1.Emitter,this._onDidClose=new vscode_languageserver_protocol_1.Emitter,this._onDidSave=new vscode_languageserver_protocol_1.Emitter,this._onWillSave=new vscode_languageserver_protocol_1.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(handler){this._willSaveWaitUntil=handler}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(uri){return this._documents[uri]}all(){return Object.keys(this._documents).map(key=>this._documents[key])}keys(){return Object.keys(this._documents)}listen(connection){connection.__textDocumentSync=vscode_languageserver_protocol_1.TextDocumentSyncKind.Full,connection.onDidOpenTextDocument(event=>{let td=event.textDocument,document=this._configuration.create(td.uri,td.languageId,td.version,td.text);this._documents[td.uri]=document;let toFire=Object.freeze({document:document});this._onDidOpen.fire(toFire),this._onDidChangeContent.fire(toFire)}),connection.onDidChangeTextDocument(event=>{let td=event.textDocument,changes=event.contentChanges;if(0===changes.length)return;let document=this._documents[td.uri];const{version:version}=td;if(null==version)throw new Error(`Received document change event for ${td.uri} without valid version identifier`);document=this._configuration.update(document,changes,version),this._documents[td.uri]=document,this._onDidChangeContent.fire(Object.freeze({document:document}))}),connection.onDidCloseTextDocument(event=>{let document=this._documents[event.textDocument.uri];document&&(delete this._documents[event.textDocument.uri],this._onDidClose.fire(Object.freeze({document:document})))}),connection.onWillSaveTextDocument(event=>{let document=this._documents[event.textDocument.uri];document&&this._onWillSave.fire(Object.freeze({document:document,reason:event.reason}))}),connection.onWillSaveTextDocumentWaitUntil((event,token)=>{let document=this._documents[event.textDocument.uri];return document&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:document,reason:event.reason}),token):[]}),connection.onDidSaveTextDocument(event=>{let document=this._documents[event.textDocument.uri];document&&this._onDidSave.fire(Object.freeze({document:document}))})}};exports.ErrorMessageTracker=class ErrorMessageTracker{constructor(){this._messages=Object.create(null)}add(message){let count=this._messages[message];count||(count=0),count++,this._messages[message]=count}sendErrors(connection){Object.keys(this._messages).forEach(message=>{connection.window.showErrorMessage(message)})}};class RemoteConsoleImpl{constructor(){}rawAttach(connection){this._rawConnection=connection}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(_capabilities){}initialize(_capabilities){}error(message){this.send(vscode_languageserver_protocol_1.MessageType.Error,message)}warn(message){this.send(vscode_languageserver_protocol_1.MessageType.Warning,message)}info(message){this.send(vscode_languageserver_protocol_1.MessageType.Info,message)}log(message){this.send(vscode_languageserver_protocol_1.MessageType.Log,message)}send(type,message){this._rawConnection&&this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type,{type:type,message:message})}}const RemoteWindowImpl=progress_1.ProgressFeature(class _RemoteWindowImpl{constructor(){}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}showErrorMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Error,message:message,actions:actions};return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}showWarningMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Warning,message:message,actions:actions};return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}showInformationMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Info,message:message,actions:actions};return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}});!function(BulkRegistration){BulkRegistration.create=function(){return new BulkRegistrationImpl}}(exports.BulkRegistration||(exports.BulkRegistration={}));class BulkRegistrationImpl{constructor(){this._registrations=[],this._registered=new Set}add(type,registerOptions){const method=Is.string(type)?type:type.method;if(this._registered.has(method))throw new Error(method+" is already added to this registration");const id=UUID.generateUuid();this._registrations.push({id:id,method:method,registerOptions:registerOptions||{}}),this._registered.add(method)}asRegistrationParams(){return{registrations:this._registrations}}}!function(BulkUnregistration){BulkUnregistration.create=function(){return new BulkUnregistrationImpl(void 0,[])}}(exports.BulkUnregistration||(exports.BulkUnregistration={}));class BulkUnregistrationImpl{constructor(_connection,unregistrations){this._connection=_connection,this._unregistrations=new Map,unregistrations.forEach(unregistration=>{this._unregistrations.set(unregistration.method,unregistration)})}get isAttached(){return!!this._connection}attach(connection){this._connection=connection}add(unregistration){this._unregistrations.set(unregistration.method,unregistration)}dispose(){let unregistrations=[];for(let unregistration of this._unregistrations.values())unregistrations.push(unregistration);let params={unregisterations:unregistrations};this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).then(void 0,_error=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(arg){const method=Is.string(arg)?arg:arg.method,unregistration=this._unregistrations.get(method);if(!unregistration)return!1;let params={unregisterations:[unregistration]};return this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).then(()=>{this._unregistrations.delete(method)},_error=>{this._connection.console.info(`Unregistering request handler for ${unregistration.id} failed.`)}),!0}}class RemoteClientImpl{attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}register(typeOrRegistrations,registerOptionsOrType,registerOptions){return typeOrRegistrations instanceof BulkRegistrationImpl?this.registerMany(typeOrRegistrations):typeOrRegistrations instanceof BulkUnregistrationImpl?this.registerSingle1(typeOrRegistrations,registerOptionsOrType,registerOptions):this.registerSingle2(typeOrRegistrations,registerOptionsOrType)}registerSingle1(unregistration,type,registerOptions){const method=Is.string(type)?type:type.method,id=UUID.generateUuid();let params={registrations:[{id:id,method:method,registerOptions:registerOptions||{}}]};return unregistration.isAttached||unregistration.attach(this._connection),this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(_result=>(unregistration.add({id:id,method:method}),unregistration),_error=>(this.connection.console.info(`Registering request handler for ${method} failed.`),Promise.reject(_error)))}registerSingle2(type,registerOptions){const method=Is.string(type)?type:type.method,id=UUID.generateUuid();let params={registrations:[{id:id,method:method,registerOptions:registerOptions||{}}]};return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(_result=>vscode_languageserver_protocol_1.Disposable.create(()=>{this.unregisterSingle(id,method)}),_error=>(this.connection.console.info(`Registering request handler for ${method} failed.`),Promise.reject(_error)))}unregisterSingle(id,method){let params={unregisterations:[{id:id,method:method}]};return this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).then(void 0,_error=>{this.connection.console.info(`Unregistering request handler for ${id} failed.`)})}registerMany(registrations){let params=registrations.asRegistrationParams();return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(()=>new BulkUnregistrationImpl(this._connection,params.registrations.map(registration=>({id:registration.id,method:registration.method}))),_error=>(this.connection.console.info("Bulk registration failed."),Promise.reject(_error)))}}const RemoteWorkspaceImpl=workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(class _RemoteWorkspaceImpl{constructor(){}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}applyEdit(paramOrEdit){let params=(value=paramOrEdit)&&value.edit?paramOrEdit:{edit:paramOrEdit};var value;return this._connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type,params)}}));class TelemetryImpl{constructor(){}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}logEvent(data){this._connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type,data)}}class TracerImpl{constructor(){this._trace=vscode_languageserver_protocol_1.Trace.Off}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}set trace(value){this._trace=value}log(message,verbose){this._trace!==vscode_languageserver_protocol_1.Trace.Off&&this._connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type,{message:message,verbose:this._trace===vscode_languageserver_protocol_1.Trace.Verbose?verbose:void 0})}}class LanguagesImpl{constructor(){}attach(connection){this._connection=connection}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}attachWorkDoneProgress(params){return progress_1.attachWorkDone(this.connection,params)}attachPartialResultProgress(_type,params){return progress_1.attachPartialResult(this.connection,params)}}function combineConsoleFeatures(one,two){return function(Base){return two(one(Base))}}function combineTelemetryFeatures(one,two){return function(Base){return two(one(Base))}}function combineTracerFeatures(one,two){return function(Base){return two(one(Base))}}function combineClientFeatures(one,two){return function(Base){return two(one(Base))}}function combineWindowFeatures(one,two){return function(Base){return two(one(Base))}}function combineWorkspaceFeatures(one,two){return function(Base){return two(one(Base))}}function combineLanguagesFeatures(one,two){return function(Base){return two(one(Base))}}exports.LanguagesImpl=LanguagesImpl,exports.combineConsoleFeatures=combineConsoleFeatures,exports.combineTelemetryFeatures=combineTelemetryFeatures,exports.combineTracerFeatures=combineTracerFeatures,exports.combineClientFeatures=combineClientFeatures,exports.combineWindowFeatures=combineWindowFeatures,exports.combineWorkspaceFeatures=combineWorkspaceFeatures,exports.combineLanguagesFeatures=combineLanguagesFeatures,exports.combineFeatures=function(one,two){function combine(one,two,func){return one&&two?func(one,two):one||two}return{__brand:"features",console:combine(one.console,two.console,combineConsoleFeatures),tracer:combine(one.tracer,two.tracer,combineTracerFeatures),telemetry:combine(one.telemetry,two.telemetry,combineTelemetryFeatures),client:combine(one.client,two.client,combineClientFeatures),window:combine(one.window,two.window,combineWindowFeatures),workspace:combine(one.workspace,two.workspace,combineWorkspaceFeatures)}},exports.createConnection=function(arg1,arg2,arg3,arg4){let factories,input,output,strategy;return void 0!==arg1&&"features"===arg1.__brand&&(factories=arg1,arg1=arg2,arg2=arg3,arg3=arg4),vscode_languageserver_protocol_1.ConnectionStrategy.is(arg1)?strategy=arg1:(input=arg1,output=arg2,strategy=arg3),function(input,output,strategy,factories){if(!input&&!output&&process.argv.length>2){let port=void 0,pipeName=void 0,argv=process.argv.slice(2);for(let i=0;i<argv.length;i++){let arg=argv[i];if("--node-ipc"===arg){input=new vscode_languageserver_protocol_1.IPCMessageReader(process),output=new vscode_languageserver_protocol_1.IPCMessageWriter(process);break}if("--stdio"===arg){input=process.stdin,output=process.stdout;break}if("--socket"===arg){port=parseInt(argv[i+1]);break}if("--pipe"===arg){pipeName=argv[i+1];break}var args=arg.split("=");if("--socket"===args[0]){port=parseInt(args[1]);break}if("--pipe"===args[0]){pipeName=args[1];break}}if(port){let transport=vscode_languageserver_protocol_1.createServerSocketTransport(port);input=transport[0],output=transport[1]}else if(pipeName){let transport=vscode_languageserver_protocol_1.createServerPipeTransport(pipeName);input=transport[0],output=transport[1]}}var commandLineMessage="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!input)throw new Error("Connection input stream is not set. "+commandLineMessage);if(!output)throw new Error("Connection output stream is not set. "+commandLineMessage);if(Is.func(input.read)&&Is.func(input.on)){let inputStream=input;inputStream.on("end",()=>{process.exit(shutdownReceived?0:1)}),inputStream.on("close",()=>{process.exit(shutdownReceived?0:1)})}const logger=factories&&factories.console?new(factories.console(RemoteConsoleImpl)):new RemoteConsoleImpl,connection=vscode_languageserver_protocol_1.createProtocolConnection(input,output,logger,strategy);logger.rawAttach(connection);const tracer=factories&&factories.tracer?new(factories.tracer(TracerImpl)):new TracerImpl,telemetry=factories&&factories.telemetry?new(factories.telemetry(TelemetryImpl)):new TelemetryImpl,client=factories&&factories.client?new(factories.client(RemoteClientImpl)):new RemoteClientImpl,remoteWindow=factories&&factories.window?new(factories.window(RemoteWindowImpl)):new RemoteWindowImpl,workspace=factories&&factories.workspace?new(factories.workspace(RemoteWorkspaceImpl)):new RemoteWorkspaceImpl,languages=factories&&factories.languages?new(factories.languages(LanguagesImpl)):new LanguagesImpl,allRemotes=[logger,tracer,telemetry,client,remoteWindow,workspace,languages];function asPromise(value){return value instanceof Promise?value:Is.thenable(value)?new Promise((resolve,reject)=>{value.then(resolved=>resolve(resolved),error=>reject(error))}):Promise.resolve(value)}let shutdownHandler=void 0,initializeHandler=void 0,exitHandler=void 0,protocolConnection={listen:()=>connection.listen(),sendRequest:(type,...params)=>connection.sendRequest(Is.string(type)?type:type.method,...params),onRequest:(type,handler)=>connection.onRequest(type,handler),sendNotification:(type,param)=>{const method=Is.string(type)?type:type.method;1===arguments.length?connection.sendNotification(method):connection.sendNotification(method,param)},onNotification:(type,handler)=>connection.onNotification(type,handler),onProgress:connection.onProgress,sendProgress:connection.sendProgress,onInitialize:handler=>initializeHandler=handler,onInitialized:handler=>connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type,handler),onShutdown:handler=>shutdownHandler=handler,onExit:handler=>exitHandler=handler,get console(){return logger},get telemetry(){return telemetry},get tracer(){return tracer},get client(){return client},get window(){return remoteWindow},get workspace(){return workspace},get languages(){return languages},onDidChangeConfiguration:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,handler),onDidChangeWatchedFiles:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type,handler),__textDocumentSync:void 0,onDidOpenTextDocument:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,handler),onDidChangeTextDocument:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,handler),onDidCloseTextDocument:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,handler),onWillSaveTextDocument:handler=>connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type,handler),onWillSaveTextDocumentWaitUntil:handler=>connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type,handler),onDidSaveTextDocument:handler=>connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,handler),sendDiagnostics:params=>connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type,params),onHover:handler=>connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),onCompletion:handler=>connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onCompletionResolve:handler=>connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,handler),onSignatureHelp:handler=>connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),onDeclaration:handler=>connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onDefinition:handler=>connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onTypeDefinition:handler=>connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onImplementation:handler=>connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onReferences:handler=>connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onDocumentHighlight:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onDocumentSymbol:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onWorkspaceSymbol:handler=>connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onCodeAction:handler=>connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onCodeLens:handler=>connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onCodeLensResolve:handler=>connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,(params,cancel)=>handler(params,cancel)),onDocumentFormatting:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),onDocumentRangeFormatting:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),onDocumentOnTypeFormatting:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,(params,cancel)=>handler(params,cancel)),onRenameRequest:handler=>connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),onPrepareRename:handler=>connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type,(params,cancel)=>handler(params,cancel)),onDocumentLinks:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onDocumentLinkResolve:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,(params,cancel)=>handler(params,cancel)),onDocumentColor:handler=>connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onColorPresentation:handler=>connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onFoldingRanges:handler=>connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onSelectionRanges:handler=>connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),progress_1.attachPartialResult(connection,params))),onExecuteCommand:handler=>connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,(params,cancel)=>handler(params,cancel,progress_1.attachWorkDone(connection,params),void 0)),dispose:()=>connection.dispose()};for(let remote of allRemotes)remote.attach(protocolConnection);return connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type,params=>{const processId=params.processId;Is.number(processId)&&void 0===exitTimer&&setInterval(()=>{try{process.kill(processId,0)}catch(ex){process.exit(shutdownReceived?0:1)}},3e3),Is.string(params.trace)&&(tracer.trace=vscode_languageserver_protocol_1.Trace.fromString(params.trace));for(let remote of allRemotes)remote.initialize(params.capabilities);if(initializeHandler){return asPromise(initializeHandler(params,(new vscode_languageserver_protocol_1.CancellationTokenSource).token,progress_1.attachWorkDone(connection,params),void 0)).then(value=>{if(value instanceof vscode_languageserver_protocol_1.ResponseError)return value;let result=value;result||(result={capabilities:{}});let capabilities=result.capabilities;capabilities||(capabilities={},result.capabilities=capabilities),void 0===capabilities.textDocumentSync||null===capabilities.textDocumentSync?capabilities.textDocumentSync=Is.number(protocolConnection.__textDocumentSync)?protocolConnection.__textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None:Is.number(capabilities.textDocumentSync)||Is.number(capabilities.textDocumentSync.change)||(capabilities.textDocumentSync.change=Is.number(protocolConnection.__textDocumentSync)?protocolConnection.__textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None);for(let remote of allRemotes)remote.fillServerCapabilities(capabilities);return result})}{let result={capabilities:{textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None}};for(let remote of allRemotes)remote.fillServerCapabilities(result.capabilities);return result}}),connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type,()=>(shutdownReceived=!0,shutdownHandler?shutdownHandler((new vscode_languageserver_protocol_1.CancellationTokenSource).token):void 0)),connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type,()=>{try{exitHandler&&exitHandler()}finally{shutdownReceived?process.exit(0):process.exit(1)}}),connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type,params=>{tracer.trace=vscode_languageserver_protocol_1.Trace.fromString(params.value)}),protocolConnection}(input,output,strategy,factories)};const callHierarchy_proposed_1=__webpack_require__(114),st=__webpack_require__(115);!function(ProposedFeatures){ProposedFeatures.all={__brand:"features",languages:combineLanguagesFeatures(callHierarchy_proposed_1.CallHierarchyFeature,st.SemanticTokensFeature)},ProposedFeatures.SemanticTokensBuilder=st.SemanticTokensBuilder}(exports.ProposedFeatures||(exports.ProposedFeatures={}))},function(module,exports,__webpack_require__){"use strict";let Config;Object.defineProperty(exports,"__esModule",{value:!0}),Config=__webpack_require__(85).default,exports.default=Config},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class GenericError extends Error{}exports.default=GenericError},function(module,exports,__webpack_require__){"use strict";function string(value){return"string"==typeof value||value instanceof String}function array(value){return Array.isArray(value)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.boolean=function(value){return!0===value||!1===value},exports.string=string,exports.number=function(value){return"number"==typeof value||value instanceof Number},exports.error=function(value){return value instanceof Error},exports.func=function(value){return"function"==typeof value},exports.array=array,exports.stringArray=function(value){return array(value)&&value.every(elem=>string(elem))}},function(module,exports){module.exports=require("child_process")},function(module,exports,__webpack_require__){"use strict";const setLevelSym=Symbol("pino.setLevel"),getLevelSym=Symbol("pino.getLevel"),levelValSym=Symbol("pino.levelVal"),useLevelLabelsSym=Symbol("pino.useLevelLabels"),useOnlyCustomLevelsSym=Symbol("pino.useOnlyCustomLevels"),mixinSym=Symbol("pino.mixin"),lsCacheSym=Symbol("pino.lsCache"),chindingsSym=Symbol("pino.chindings"),parsedChindingsSym=Symbol("pino.parsedChindings"),asJsonSym=Symbol("pino.asJson"),writeSym=Symbol("pino.write"),redactFmtSym=Symbol("pino.redactFmt"),timeSym=Symbol("pino.time"),timeSliceIndexSym=Symbol("pino.timeSliceIndex"),streamSym=Symbol("pino.stream"),stringifySym=Symbol("pino.stringify"),stringifiersSym=Symbol("pino.stringifiers"),endSym=Symbol("pino.end"),formatOptsSym=Symbol("pino.formatOpts"),messageKeySym=Symbol("pino.messageKey"),nestedKeySym=Symbol("pino.nestedKey"),wildcardFirstSym=Symbol("pino.wildcardFirst"),serializersSym=Symbol.for("pino.serializers"),formattersSym=Symbol.for("pino.formatters"),hooksSym=Symbol.for("pino.hooks"),needsMetadataGsym=Symbol.for("pino.metadata");module.exports={setLevelSym:setLevelSym,getLevelSym:getLevelSym,levelValSym:levelValSym,useLevelLabelsSym:useLevelLabelsSym,mixinSym:mixinSym,lsCacheSym:lsCacheSym,chindingsSym:chindingsSym,parsedChindingsSym:parsedChindingsSym,asJsonSym:asJsonSym,writeSym:writeSym,serializersSym:serializersSym,redactFmtSym:redactFmtSym,timeSym:timeSym,timeSliceIndexSym:timeSliceIndexSym,streamSym:streamSym,stringifySym:stringifySym,stringifiersSym:stringifiersSym,endSym:endSym,formatOptsSym:formatOptsSym,messageKeySym:messageKeySym,nestedKeySym:nestedKeySym,wildcardFirstSym:wildcardFirstSym,needsMetadataGsym:needsMetadataGsym,useOnlyCustomLevelsSym:useOnlyCustomLevelsSym,formattersSym:formattersSym,hooksSym:hooksSym}},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__,bigInt=function(undefined){"use strict";var BASE=1e7,MAX_INT=9007199254740992,MAX_INT_ARR=smallToArray(MAX_INT),supportsNativeBigInt="function"==typeof BigInt;function Integer(v,radix,alphabet,caseSensitive){return void 0===v?Integer[0]:void 0!==radix&&(10!=+radix||alphabet)?parseBase(v,radix,alphabet,caseSensitive):parseValue(v)}function BigInteger(value,sign){this.value=value,this.sign=sign,this.isSmall=!1}function SmallInteger(value){this.value=value,this.sign=value<0,this.isSmall=!0}function NativeBigInt(value){this.value=value}function isPrecise(n){return-MAX_INT<n&&n<MAX_INT}function smallToArray(n){return n<1e7?[n]:n<1e14?[n%1e7,Math.floor(n/1e7)]:[n%1e7,Math.floor(n/1e7)%1e7,Math.floor(n/1e14)]}function arrayToSmall(arr){trim(arr);var length=arr.length;if(length<4&&compareAbs(arr,MAX_INT_ARR)<0)switch(length){case 0:return 0;case 1:return arr[0];case 2:return arr[0]+arr[1]*BASE;default:return arr[0]+(arr[1]+arr[2]*BASE)*BASE}return arr}function trim(v){for(var i=v.length;0===v[--i];);v.length=i+1}function createArray(length){for(var x=new Array(length),i=-1;++i<length;)x[i]=0;return x}function truncate(n){return n>0?Math.floor(n):Math.ceil(n)}function add(a,b){var sum,i,l_a=a.length,l_b=b.length,r=new Array(l_a),carry=0,base=BASE;for(i=0;i<l_b;i++)carry=(sum=a[i]+b[i]+carry)>=base?1:0,r[i]=sum-carry*base;for(;i<l_a;)carry=(sum=a[i]+carry)===base?1:0,r[i++]=sum-carry*base;return carry>0&&r.push(carry),r}function addAny(a,b){return a.length>=b.length?add(a,b):add(b,a)}function addSmall(a,carry){var sum,i,l=a.length,r=new Array(l),base=BASE;for(i=0;i<l;i++)sum=a[i]-base+carry,carry=Math.floor(sum/base),r[i]=sum-carry*base,carry+=1;for(;carry>0;)r[i++]=carry%base,carry=Math.floor(carry/base);return r}function subtract(a,b){var i,difference,a_l=a.length,b_l=b.length,r=new Array(a_l),borrow=0;for(i=0;i<b_l;i++)(difference=a[i]-borrow-b[i])<0?(difference+=1e7,borrow=1):borrow=0,r[i]=difference;for(i=b_l;i<a_l;i++){if(!((difference=a[i]-borrow)<0)){r[i++]=difference;break}difference+=1e7,r[i]=difference}for(;i<a_l;i++)r[i]=a[i];return trim(r),r}function subtractSmall(a,b,sign){var i,difference,l=a.length,r=new Array(l),carry=-b;for(i=0;i<l;i++)difference=a[i]+carry,carry=Math.floor(difference/1e7),difference%=1e7,r[i]=difference<0?difference+1e7:difference;return"number"==typeof(r=arrayToSmall(r))?(sign&&(r=-r),new SmallInteger(r)):new BigInteger(r,sign)}function multiplyLong(a,b){var product,carry,i,a_i,a_l=a.length,b_l=b.length,r=createArray(a_l+b_l);for(i=0;i<a_l;++i){a_i=a[i];for(var j=0;j<b_l;++j)product=a_i*b[j]+r[i+j],carry=Math.floor(product/1e7),r[i+j]=product-1e7*carry,r[i+j+1]+=carry}return trim(r),r}function multiplySmall(a,b){var product,i,l=a.length,r=new Array(l),base=BASE,carry=0;for(i=0;i<l;i++)product=a[i]*b+carry,carry=Math.floor(product/base),r[i]=product-carry*base;for(;carry>0;)r[i++]=carry%base,carry=Math.floor(carry/base);return r}function shiftLeft(x,n){for(var r=[];n-- >0;)r.push(0);return r.concat(x)}function multiplySmallAndArray(a,b,sign){return new BigInteger(a<BASE?multiplySmall(b,a):multiplyLong(b,smallToArray(a)),sign)}function square(a){var product,carry,i,a_i,l=a.length,r=createArray(l+l);for(i=0;i<l;i++){carry=0-(a_i=a[i])*a_i;for(var j=i;j<l;j++)product=a_i*a[j]*2+r[i+j]+carry,carry=Math.floor(product/1e7),r[i+j]=product-1e7*carry;r[i+l]=carry}return trim(r),r}function divModSmall(value,lambda){var i,q,remainder,divisor,length=value.length,quotient=createArray(length);for(remainder=0,i=length-1;i>=0;--i)remainder=(divisor=1e7*remainder+value[i])-(q=truncate(divisor/lambda))*lambda,quotient[i]=0|q;return[quotient,0|remainder]}function divModAny(self,v){var value,n=parseValue(v);if(supportsNativeBigInt)return[new NativeBigInt(self.value/n.value),new NativeBigInt(self.value%n.value)];var quotient,a=self.value,b=n.value;if(0===b)throw new Error("Cannot divide by zero");if(self.isSmall)return n.isSmall?[new SmallInteger(truncate(a/b)),new SmallInteger(a%b)]:[Integer[0],self];if(n.isSmall){if(1===b)return[self,Integer[0]];if(-1==b)return[self.negate(),Integer[0]];var abs=Math.abs(b);if(abs<BASE){quotient=arrayToSmall((value=divModSmall(a,abs))[0]);var remainder=value[1];return self.sign&&(remainder=-remainder),"number"==typeof quotient?(self.sign!==n.sign&&(quotient=-quotient),[new SmallInteger(quotient),new SmallInteger(remainder)]):[new BigInteger(quotient,self.sign!==n.sign),new SmallInteger(remainder)]}b=smallToArray(abs)}var comparison=compareAbs(a,b);if(-1===comparison)return[Integer[0],self];if(0===comparison)return[Integer[self.sign===n.sign?1:-1],Integer[0]];quotient=(value=a.length+b.length<=200?function(a,b){var quotientDigit,shift,carry,borrow,i,l,q,a_l=a.length,b_l=b.length,base=BASE,result=createArray(b.length),divisorMostSignificantDigit=b[b_l-1],lambda=Math.ceil(base/(2*divisorMostSignificantDigit)),remainder=multiplySmall(a,lambda),divisor=multiplySmall(b,lambda);for(remainder.length<=a_l&&remainder.push(0),divisor.push(0),divisorMostSignificantDigit=divisor[b_l-1],shift=a_l-b_l;shift>=0;shift--){for(quotientDigit=base-1,remainder[shift+b_l]!==divisorMostSignificantDigit&&(quotientDigit=Math.floor((remainder[shift+b_l]*base+remainder[shift+b_l-1])/divisorMostSignificantDigit)),carry=0,borrow=0,l=divisor.length,i=0;i<l;i++)carry+=quotientDigit*divisor[i],q=Math.floor(carry/base),borrow+=remainder[shift+i]-(carry-q*base),carry=q,borrow<0?(remainder[shift+i]=borrow+base,borrow=-1):(remainder[shift+i]=borrow,borrow=0);for(;0!==borrow;){for(quotientDigit-=1,carry=0,i=0;i<l;i++)(carry+=remainder[shift+i]-base+divisor[i])<0?(remainder[shift+i]=carry+base,carry=0):(remainder[shift+i]=carry,carry=1);borrow+=carry}result[shift]=quotientDigit}return remainder=divModSmall(remainder,lambda)[0],[arrayToSmall(result),arrayToSmall(remainder)]}(a,b):function(a,b){for(var guess,xlen,highx,highy,check,a_l=a.length,b_l=b.length,result=[],part=[];a_l;)if(part.unshift(a[--a_l]),trim(part),compareAbs(part,b)<0)result.push(0);else{highx=1e7*part[(xlen=part.length)-1]+part[xlen-2],highy=1e7*b[b_l-1]+b[b_l-2],xlen>b_l&&(highx=1e7*(highx+1)),guess=Math.ceil(highx/highy);do{if(compareAbs(check=multiplySmall(b,guess),part)<=0)break;guess--}while(guess);result.push(guess),part=subtract(part,check)}return result.reverse(),[arrayToSmall(result),arrayToSmall(part)]}(a,b))[0];var qSign=self.sign!==n.sign,mod=value[1],mSign=self.sign;return"number"==typeof quotient?(qSign&&(quotient=-quotient),quotient=new SmallInteger(quotient)):quotient=new BigInteger(quotient,qSign),"number"==typeof mod?(mSign&&(mod=-mod),mod=new SmallInteger(mod)):mod=new BigInteger(mod,mSign),[quotient,mod]}function compareAbs(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var i=a.length-1;i>=0;i--)if(a[i]!==b[i])return a[i]>b[i]?1:-1;return 0}function isBasicPrime(v){var n=v.abs();return!n.isUnit()&&(!!(n.equals(2)||n.equals(3)||n.equals(5))||!(n.isEven()||n.isDivisibleBy(3)||n.isDivisibleBy(5))&&(!!n.lesser(49)||void 0))}function millerRabinTest(n,a){for(var d,i,x,nPrev=n.prev(),b=nPrev,r=0;b.isEven();)b=b.divide(2),r++;next:for(i=0;i<a.length;i++)if(!n.lesser(a[i])&&!(x=bigInt(a[i]).modPow(b,n)).isUnit()&&!x.equals(nPrev)){for(d=r-1;0!=d;d--){if((x=x.square().mod(n)).isUnit())return!1;if(x.equals(nPrev))continue next}return!1}return!0}BigInteger.prototype=Object.create(Integer.prototype),SmallInteger.prototype=Object.create(Integer.prototype),NativeBigInt.prototype=Object.create(Integer.prototype),BigInteger.prototype.add=function(v){var n=parseValue(v);if(this.sign!==n.sign)return this.subtract(n.negate());var a=this.value,b=n.value;return n.isSmall?new BigInteger(addSmall(a,Math.abs(b)),this.sign):new BigInteger(addAny(a,b),this.sign)},BigInteger.prototype.plus=BigInteger.prototype.add,SmallInteger.prototype.add=function(v){var n=parseValue(v),a=this.value;if(a<0!==n.sign)return this.subtract(n.negate());var b=n.value;if(n.isSmall){if(isPrecise(a+b))return new SmallInteger(a+b);b=smallToArray(Math.abs(b))}return new BigInteger(addSmall(b,Math.abs(a)),a<0)},SmallInteger.prototype.plus=SmallInteger.prototype.add,NativeBigInt.prototype.add=function(v){return new NativeBigInt(this.value+parseValue(v).value)},NativeBigInt.prototype.plus=NativeBigInt.prototype.add,BigInteger.prototype.subtract=function(v){var n=parseValue(v);if(this.sign!==n.sign)return this.add(n.negate());var a=this.value,b=n.value;return n.isSmall?subtractSmall(a,Math.abs(b),this.sign):function(a,b,sign){var value;return compareAbs(a,b)>=0?value=subtract(a,b):(value=subtract(b,a),sign=!sign),"number"==typeof(value=arrayToSmall(value))?(sign&&(value=-value),new SmallInteger(value)):new BigInteger(value,sign)}(a,b,this.sign)},BigInteger.prototype.minus=BigInteger.prototype.subtract,SmallInteger.prototype.subtract=function(v){var n=parseValue(v),a=this.value;if(a<0!==n.sign)return this.add(n.negate());var b=n.value;return n.isSmall?new SmallInteger(a-b):subtractSmall(b,Math.abs(a),a>=0)},SmallInteger.prototype.minus=SmallInteger.prototype.subtract,NativeBigInt.prototype.subtract=function(v){return new NativeBigInt(this.value-parseValue(v).value)},NativeBigInt.prototype.minus=NativeBigInt.prototype.subtract,BigInteger.prototype.negate=function(){return new BigInteger(this.value,!this.sign)},SmallInteger.prototype.negate=function(){var sign=this.sign,small=new SmallInteger(-this.value);return small.sign=!sign,small},NativeBigInt.prototype.negate=function(){return new NativeBigInt(-this.value)},BigInteger.prototype.abs=function(){return new BigInteger(this.value,!1)},SmallInteger.prototype.abs=function(){return new SmallInteger(Math.abs(this.value))},NativeBigInt.prototype.abs=function(){return new NativeBigInt(this.value>=0?this.value:-this.value)},BigInteger.prototype.multiply=function(v){var abs,l1,l2,n=parseValue(v),a=this.value,b=n.value,sign=this.sign!==n.sign;if(n.isSmall){if(0===b)return Integer[0];if(1===b)return this;if(-1===b)return this.negate();if((abs=Math.abs(b))<BASE)return new BigInteger(multiplySmall(a,abs),sign);b=smallToArray(abs)}return l1=a.length,l2=b.length,new BigInteger(-.012*l1-.012*l2+15e-6*l1*l2>0?function multiplyKaratsuba(x,y){var n=Math.max(x.length,y.length);if(n<=30)return multiplyLong(x,y);n=Math.ceil(n/2);var b=x.slice(n),a=x.slice(0,n),d=y.slice(n),c=y.slice(0,n),ac=multiplyKaratsuba(a,c),bd=multiplyKaratsuba(b,d),abcd=multiplyKaratsuba(addAny(a,b),addAny(c,d)),product=addAny(addAny(ac,shiftLeft(subtract(subtract(abcd,ac),bd),n)),shiftLeft(bd,2*n));return trim(product),product}(a,b):multiplyLong(a,b),sign)},BigInteger.prototype.times=BigInteger.prototype.multiply,SmallInteger.prototype._multiplyBySmall=function(a){return isPrecise(a.value*this.value)?new SmallInteger(a.value*this.value):multiplySmallAndArray(Math.abs(a.value),smallToArray(Math.abs(this.value)),this.sign!==a.sign)},BigInteger.prototype._multiplyBySmall=function(a){return 0===a.value?Integer[0]:1===a.value?this:-1===a.value?this.negate():multiplySmallAndArray(Math.abs(a.value),this.value,this.sign!==a.sign)},SmallInteger.prototype.multiply=function(v){return parseValue(v)._multiplyBySmall(this)},SmallInteger.prototype.times=SmallInteger.prototype.multiply,NativeBigInt.prototype.multiply=function(v){return new NativeBigInt(this.value*parseValue(v).value)},NativeBigInt.prototype.times=NativeBigInt.prototype.multiply,BigInteger.prototype.square=function(){return new BigInteger(square(this.value),!1)},SmallInteger.prototype.square=function(){var value=this.value*this.value;return isPrecise(value)?new SmallInteger(value):new BigInteger(square(smallToArray(Math.abs(this.value))),!1)},NativeBigInt.prototype.square=function(v){return new NativeBigInt(this.value*this.value)},BigInteger.prototype.divmod=function(v){var result=divModAny(this,v);return{quotient:result[0],remainder:result[1]}},NativeBigInt.prototype.divmod=SmallInteger.prototype.divmod=BigInteger.prototype.divmod,BigInteger.prototype.divide=function(v){return divModAny(this,v)[0]},NativeBigInt.prototype.over=NativeBigInt.prototype.divide=function(v){return new NativeBigInt(this.value/parseValue(v).value)},SmallInteger.prototype.over=SmallInteger.prototype.divide=BigInteger.prototype.over=BigInteger.prototype.divide,BigInteger.prototype.mod=function(v){return divModAny(this,v)[1]},NativeBigInt.prototype.mod=NativeBigInt.prototype.remainder=function(v){return new NativeBigInt(this.value%parseValue(v).value)},SmallInteger.prototype.remainder=SmallInteger.prototype.mod=BigInteger.prototype.remainder=BigInteger.prototype.mod,BigInteger.prototype.pow=function(v){var value,x,y,n=parseValue(v),a=this.value,b=n.value;if(0===b)return Integer[1];if(0===a)return Integer[0];if(1===a)return Integer[1];if(-1===a)return n.isEven()?Integer[1]:Integer[-1];if(n.sign)return Integer[0];if(!n.isSmall)throw new Error("The exponent "+n.toString()+" is too large.");if(this.isSmall&&isPrecise(value=Math.pow(a,b)))return new SmallInteger(truncate(value));for(x=this,y=Integer[1];!0&b&&(y=y.times(x),--b),0!==b;)b/=2,x=x.square();return y},SmallInteger.prototype.pow=BigInteger.prototype.pow,NativeBigInt.prototype.pow=function(v){var n=parseValue(v),a=this.value,b=n.value,_0=BigInt(0),_1=BigInt(1),_2=BigInt(2);if(b===_0)return Integer[1];if(a===_0)return Integer[0];if(a===_1)return Integer[1];if(a===BigInt(-1))return n.isEven()?Integer[1]:Integer[-1];if(n.isNegative())return new NativeBigInt(_0);for(var x=this,y=Integer[1];(b&_1)===_1&&(y=y.times(x),--b),b!==_0;)b/=_2,x=x.square();return y},BigInteger.prototype.modPow=function(exp,mod){if(exp=parseValue(exp),(mod=parseValue(mod)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=Integer[1],base=this.mod(mod);for(exp.isNegative()&&(exp=exp.multiply(Integer[-1]),base=base.modInv(mod));exp.isPositive();){if(base.isZero())return Integer[0];exp.isOdd()&&(r=r.multiply(base).mod(mod)),exp=exp.divide(2),base=base.square().mod(mod)}return r},NativeBigInt.prototype.modPow=SmallInteger.prototype.modPow=BigInteger.prototype.modPow,BigInteger.prototype.compareAbs=function(v){var n=parseValue(v),a=this.value,b=n.value;return n.isSmall?1:compareAbs(a,b)},SmallInteger.prototype.compareAbs=function(v){var n=parseValue(v),a=Math.abs(this.value),b=n.value;return n.isSmall?a===(b=Math.abs(b))?0:a>b?1:-1:-1},NativeBigInt.prototype.compareAbs=function(v){var a=this.value,b=parseValue(v).value;return(a=a>=0?a:-a)===(b=b>=0?b:-b)?0:a>b?1:-1},BigInteger.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var n=parseValue(v),a=this.value,b=n.value;return this.sign!==n.sign?n.sign?1:-1:n.isSmall?this.sign?-1:1:compareAbs(a,b)*(this.sign?-1:1)},BigInteger.prototype.compareTo=BigInteger.prototype.compare,SmallInteger.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var n=parseValue(v),a=this.value,b=n.value;return n.isSmall?a==b?0:a>b?1:-1:a<0!==n.sign?a<0?-1:1:a<0?1:-1},SmallInteger.prototype.compareTo=SmallInteger.prototype.compare,NativeBigInt.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var a=this.value,b=parseValue(v).value;return a===b?0:a>b?1:-1},NativeBigInt.prototype.compareTo=NativeBigInt.prototype.compare,BigInteger.prototype.equals=function(v){return 0===this.compare(v)},NativeBigInt.prototype.eq=NativeBigInt.prototype.equals=SmallInteger.prototype.eq=SmallInteger.prototype.equals=BigInteger.prototype.eq=BigInteger.prototype.equals,BigInteger.prototype.notEquals=function(v){return 0!==this.compare(v)},NativeBigInt.prototype.neq=NativeBigInt.prototype.notEquals=SmallInteger.prototype.neq=SmallInteger.prototype.notEquals=BigInteger.prototype.neq=BigInteger.prototype.notEquals,BigInteger.prototype.greater=function(v){return this.compare(v)>0},NativeBigInt.prototype.gt=NativeBigInt.prototype.greater=SmallInteger.prototype.gt=SmallInteger.prototype.greater=BigInteger.prototype.gt=BigInteger.prototype.greater,BigInteger.prototype.lesser=function(v){return this.compare(v)<0},NativeBigInt.prototype.lt=NativeBigInt.prototype.lesser=SmallInteger.prototype.lt=SmallInteger.prototype.lesser=BigInteger.prototype.lt=BigInteger.prototype.lesser,BigInteger.prototype.greaterOrEquals=function(v){return this.compare(v)>=0},NativeBigInt.prototype.geq=NativeBigInt.prototype.greaterOrEquals=SmallInteger.prototype.geq=SmallInteger.prototype.greaterOrEquals=BigInteger.prototype.geq=BigInteger.prototype.greaterOrEquals,BigInteger.prototype.lesserOrEquals=function(v){return this.compare(v)<=0},NativeBigInt.prototype.leq=NativeBigInt.prototype.lesserOrEquals=SmallInteger.prototype.leq=SmallInteger.prototype.lesserOrEquals=BigInteger.prototype.leq=BigInteger.prototype.lesserOrEquals,BigInteger.prototype.isEven=function(){return 0==(1&this.value[0])},SmallInteger.prototype.isEven=function(){return 0==(1&this.value)},NativeBigInt.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},BigInteger.prototype.isOdd=function(){return 1==(1&this.value[0])},SmallInteger.prototype.isOdd=function(){return 1==(1&this.value)},NativeBigInt.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},BigInteger.prototype.isPositive=function(){return!this.sign},SmallInteger.prototype.isPositive=function(){return this.value>0},NativeBigInt.prototype.isPositive=SmallInteger.prototype.isPositive,BigInteger.prototype.isNegative=function(){return this.sign},SmallInteger.prototype.isNegative=function(){return this.value<0},NativeBigInt.prototype.isNegative=SmallInteger.prototype.isNegative,BigInteger.prototype.isUnit=function(){return!1},SmallInteger.prototype.isUnit=function(){return 1===Math.abs(this.value)},NativeBigInt.prototype.isUnit=function(){return this.abs().value===BigInt(1)},BigInteger.prototype.isZero=function(){return!1},SmallInteger.prototype.isZero=function(){return 0===this.value},NativeBigInt.prototype.isZero=function(){return this.value===BigInt(0)},BigInteger.prototype.isDivisibleBy=function(v){var n=parseValue(v);return!n.isZero()&&(!!n.isUnit()||(0===n.compareAbs(2)?this.isEven():this.mod(n).isZero()))},NativeBigInt.prototype.isDivisibleBy=SmallInteger.prototype.isDivisibleBy=BigInteger.prototype.isDivisibleBy,BigInteger.prototype.isPrime=function(strict){var isPrime=isBasicPrime(this);if(void 0!==isPrime)return isPrime;var n=this.abs(),bits=n.bitLength();if(bits<=64)return millerRabinTest(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var logN=Math.log(2)*bits.toJSNumber(),t=Math.ceil(!0===strict?2*Math.pow(logN,2):logN),a=[],i=0;i<t;i++)a.push(bigInt(i+2));return millerRabinTest(n,a)},NativeBigInt.prototype.isPrime=SmallInteger.prototype.isPrime=BigInteger.prototype.isPrime,BigInteger.prototype.isProbablePrime=function(iterations,rng){var isPrime=isBasicPrime(this);if(void 0!==isPrime)return isPrime;for(var n=this.abs(),t=void 0===iterations?5:iterations,a=[],i=0;i<t;i++)a.push(bigInt.randBetween(2,n.minus(2),rng));return millerRabinTest(n,a)},NativeBigInt.prototype.isProbablePrime=SmallInteger.prototype.isProbablePrime=BigInteger.prototype.isProbablePrime,BigInteger.prototype.modInv=function(n){for(var q,lastT,lastR,t=bigInt.zero,newT=bigInt.one,r=parseValue(n),newR=this.abs();!newR.isZero();)q=r.divide(newR),lastT=t,lastR=r,t=newT,r=newR,newT=lastT.subtract(q.multiply(newT)),newR=lastR.subtract(q.multiply(newR));if(!r.isUnit())throw new Error(this.toString()+" and "+n.toString()+" are not co-prime");return-1===t.compare(0)&&(t=t.add(n)),this.isNegative()?t.negate():t},NativeBigInt.prototype.modInv=SmallInteger.prototype.modInv=BigInteger.prototype.modInv,BigInteger.prototype.next=function(){var value=this.value;return this.sign?subtractSmall(value,1,this.sign):new BigInteger(addSmall(value,1),this.sign)},SmallInteger.prototype.next=function(){var value=this.value;return value+1<MAX_INT?new SmallInteger(value+1):new BigInteger(MAX_INT_ARR,!1)},NativeBigInt.prototype.next=function(){return new NativeBigInt(this.value+BigInt(1))},BigInteger.prototype.prev=function(){var value=this.value;return this.sign?new BigInteger(addSmall(value,1),!0):subtractSmall(value,1,this.sign)},SmallInteger.prototype.prev=function(){var value=this.value;return value-1>-MAX_INT?new SmallInteger(value-1):new BigInteger(MAX_INT_ARR,!0)},NativeBigInt.prototype.prev=function(){return new NativeBigInt(this.value-BigInt(1))};for(var powersOfTwo=[1];2*powersOfTwo[powersOfTwo.length-1]<=BASE;)powersOfTwo.push(2*powersOfTwo[powersOfTwo.length-1]);var powers2Length=powersOfTwo.length,highestPower2=powersOfTwo[powers2Length-1];function shift_isSmall(n){return Math.abs(n)<=BASE}function bitwise(x,y,fn){y=parseValue(y);for(var xSign=x.isNegative(),ySign=y.isNegative(),xRem=xSign?x.not():x,yRem=ySign?y.not():y,xDigit=0,yDigit=0,xDivMod=null,yDivMod=null,result=[];!xRem.isZero()||!yRem.isZero();)xDigit=(xDivMod=divModAny(xRem,highestPower2))[1].toJSNumber(),xSign&&(xDigit=highestPower2-1-xDigit),yDigit=(yDivMod=divModAny(yRem,highestPower2))[1].toJSNumber(),ySign&&(yDigit=highestPower2-1-yDigit),xRem=xDivMod[0],yRem=yDivMod[0],result.push(fn(xDigit,yDigit));for(var sum=0!==fn(xSign?1:0,ySign?1:0)?bigInt(-1):bigInt(0),i=result.length-1;i>=0;i-=1)sum=sum.multiply(highestPower2).add(bigInt(result[i]));return sum}BigInteger.prototype.shiftLeft=function(v){var n=parseValue(v).toJSNumber();if(!shift_isSmall(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftRight(-n);var result=this;if(result.isZero())return result;for(;n>=powers2Length;)result=result.multiply(highestPower2),n-=powers2Length-1;return result.multiply(powersOfTwo[n])},NativeBigInt.prototype.shiftLeft=SmallInteger.prototype.shiftLeft=BigInteger.prototype.shiftLeft,BigInteger.prototype.shiftRight=function(v){var remQuo,n=parseValue(v).toJSNumber();if(!shift_isSmall(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var result=this;n>=powers2Length;){if(result.isZero()||result.isNegative()&&result.isUnit())return result;result=(remQuo=divModAny(result,highestPower2))[1].isNegative()?remQuo[0].prev():remQuo[0],n-=powers2Length-1}return(remQuo=divModAny(result,powersOfTwo[n]))[1].isNegative()?remQuo[0].prev():remQuo[0]},NativeBigInt.prototype.shiftRight=SmallInteger.prototype.shiftRight=BigInteger.prototype.shiftRight,BigInteger.prototype.not=function(){return this.negate().prev()},NativeBigInt.prototype.not=SmallInteger.prototype.not=BigInteger.prototype.not,BigInteger.prototype.and=function(n){return bitwise(this,n,(function(a,b){return a&b}))},NativeBigInt.prototype.and=SmallInteger.prototype.and=BigInteger.prototype.and,BigInteger.prototype.or=function(n){return bitwise(this,n,(function(a,b){return a|b}))},NativeBigInt.prototype.or=SmallInteger.prototype.or=BigInteger.prototype.or,BigInteger.prototype.xor=function(n){return bitwise(this,n,(function(a,b){return a^b}))},NativeBigInt.prototype.xor=SmallInteger.prototype.xor=BigInteger.prototype.xor;function roughLOB(n){var v=n.value,x="number"==typeof v?v|1<<30:"bigint"==typeof v?v|BigInt(1<<30):v[0]+v[1]*BASE|1073758208;return x&-x}function max(a,b){return a=parseValue(a),b=parseValue(b),a.greater(b)?a:b}function min(a,b){return a=parseValue(a),b=parseValue(b),a.lesser(b)?a:b}function gcd(a,b){if(a=parseValue(a).abs(),b=parseValue(b).abs(),a.equals(b))return a;if(a.isZero())return b;if(b.isZero())return a;for(var d,t,c=Integer[1];a.isEven()&&b.isEven();)d=min(roughLOB(a),roughLOB(b)),a=a.divide(d),b=b.divide(d),c=c.multiply(d);for(;a.isEven();)a=a.divide(roughLOB(a));do{for(;b.isEven();)b=b.divide(roughLOB(b));a.greater(b)&&(t=b,b=a,a=t),b=b.subtract(a)}while(!b.isZero());return c.isUnit()?a:a.multiply(c)}BigInteger.prototype.bitLength=function(){var n=this;return n.compareTo(bigInt(0))<0&&(n=n.negate().subtract(bigInt(1))),0===n.compareTo(bigInt(0))?bigInt(0):bigInt(function integerLogarithm(value,base){if(base.compareTo(value)<=0){var tmp=integerLogarithm(value,base.square(base)),p=tmp.p,e=tmp.e,t=p.multiply(base);return t.compareTo(value)<=0?{p:t,e:2*e+1}:{p:p,e:2*e}}return{p:bigInt(1),e:0}}(n,bigInt(2)).e).add(bigInt(1))},NativeBigInt.prototype.bitLength=SmallInteger.prototype.bitLength=BigInteger.prototype.bitLength;var parseBase=function(text,base,alphabet,caseSensitive){alphabet=alphabet||"0123456789abcdefghijklmnopqrstuvwxyz",text=String(text),caseSensitive||(text=text.toLowerCase(),alphabet=alphabet.toLowerCase());var i,length=text.length,absBase=Math.abs(base),alphabetValues={};for(i=0;i<alphabet.length;i++)alphabetValues[alphabet[i]]=i;for(i=0;i<length;i++){if("-"!==(c=text[i])&&(c in alphabetValues&&alphabetValues[c]>=absBase)){if("1"===c&&1===absBase)continue;throw new Error(c+" is not a valid digit in base "+base+".")}}base=parseValue(base);var digits=[],isNegative="-"===text[0];for(i=isNegative?1:0;i<text.length;i++){var c;if((c=text[i])in alphabetValues)digits.push(parseValue(alphabetValues[c]));else{if("<"!==c)throw new Error(c+" is not a valid character");var start=i;do{i++}while(">"!==text[i]&&i<text.length);digits.push(parseValue(text.slice(start+1,i)))}}return parseBaseFromArray(digits,base,isNegative)};function parseBaseFromArray(digits,base,isNegative){var i,val=Integer[0],pow=Integer[1];for(i=digits.length-1;i>=0;i--)val=val.add(digits[i].times(pow)),pow=pow.times(base);return isNegative?val.negate():val}function toBase(n,base){if((base=bigInt(base)).isZero()){if(n.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(base.equals(-1)){if(n.isZero())return{value:[0],isNegative:!1};if(n.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-n.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var arr=Array.apply(null,Array(n.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return arr.unshift([1]),{value:[].concat.apply([],arr),isNegative:!1}}var neg=!1;if(n.isNegative()&&base.isPositive()&&(neg=!0,n=n.abs()),base.isUnit())return n.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(n.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:neg};for(var divmod,out=[],left=n;left.isNegative()||left.compareAbs(base)>=0;){divmod=left.divmod(base),left=divmod.quotient;var digit=divmod.remainder;digit.isNegative()&&(digit=base.minus(digit).abs(),left=left.next()),out.push(digit.toJSNumber())}return out.push(left.toJSNumber()),{value:out.reverse(),isNegative:neg}}function toBaseString(n,base,alphabet){var arr=toBase(n,base);return(arr.isNegative?"-":"")+arr.value.map((function(x){return function(digit,alphabet){return digit<(alphabet=alphabet||"0123456789abcdefghijklmnopqrstuvwxyz").length?alphabet[digit]:"<"+digit+">"}(x,alphabet)})).join("")}function parseStringValue(v){if(isPrecise(+v)){var x=+v;if(x===truncate(x))return supportsNativeBigInt?new NativeBigInt(BigInt(x)):new SmallInteger(x);throw new Error("Invalid integer: "+v)}var sign="-"===v[0];sign&&(v=v.slice(1));var split=v.split(/e/i);if(split.length>2)throw new Error("Invalid integer: "+split.join("e"));if(2===split.length){var exp=split[1];if("+"===exp[0]&&(exp=exp.slice(1)),(exp=+exp)!==truncate(exp)||!isPrecise(exp))throw new Error("Invalid integer: "+exp+" is not a valid exponent.");var text=split[0],decimalPlace=text.indexOf(".");if(decimalPlace>=0&&(exp-=text.length-decimalPlace-1,text=text.slice(0,decimalPlace)+text.slice(decimalPlace+1)),exp<0)throw new Error("Cannot include negative exponent part for integers");v=text+=new Array(exp+1).join("0")}if(!/^([0-9][0-9]*)$/.test(v))throw new Error("Invalid integer: "+v);if(supportsNativeBigInt)return new NativeBigInt(BigInt(sign?"-"+v:v));for(var r=[],max=v.length,min=max-7;max>0;)r.push(+v.slice(min,max)),(min-=7)<0&&(min=0),max-=7;return trim(r),new BigInteger(r,sign)}function parseValue(v){return"number"==typeof v?function(v){if(supportsNativeBigInt)return new NativeBigInt(BigInt(v));if(isPrecise(v)){if(v!==truncate(v))throw new Error(v+" is not an integer.");return new SmallInteger(v)}return parseStringValue(v.toString())}(v):"string"==typeof v?parseStringValue(v):"bigint"==typeof v?new NativeBigInt(v):v}BigInteger.prototype.toArray=function(radix){return toBase(this,radix)},SmallInteger.prototype.toArray=function(radix){return toBase(this,radix)},NativeBigInt.prototype.toArray=function(radix){return toBase(this,radix)},BigInteger.prototype.toString=function(radix,alphabet){if(void 0===radix&&(radix=10),10!==radix)return toBaseString(this,radix,alphabet);for(var digit,v=this.value,l=v.length,str=String(v[--l]);--l>=0;)digit=String(v[l]),str+="0000000".slice(digit.length)+digit;return(this.sign?"-":"")+str},SmallInteger.prototype.toString=function(radix,alphabet){return void 0===radix&&(radix=10),10!=radix?toBaseString(this,radix,alphabet):String(this.value)},NativeBigInt.prototype.toString=SmallInteger.prototype.toString,NativeBigInt.prototype.toJSON=BigInteger.prototype.toJSON=SmallInteger.prototype.toJSON=function(){return this.toString()},BigInteger.prototype.valueOf=function(){return parseInt(this.toString(),10)},BigInteger.prototype.toJSNumber=BigInteger.prototype.valueOf,SmallInteger.prototype.valueOf=function(){return this.value},SmallInteger.prototype.toJSNumber=SmallInteger.prototype.valueOf,NativeBigInt.prototype.valueOf=NativeBigInt.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var i=0;i<1e3;i++)Integer[i]=parseValue(i),i>0&&(Integer[-i]=parseValue(-i));return Integer.one=Integer[1],Integer.zero=Integer[0],Integer.minusOne=Integer[-1],Integer.max=max,Integer.min=min,Integer.gcd=gcd,Integer.lcm=function(a,b){return a=parseValue(a).abs(),b=parseValue(b).abs(),a.divide(gcd(a,b)).multiply(b)},Integer.isInstance=function(x){return x instanceof BigInteger||x instanceof SmallInteger||x instanceof NativeBigInt},Integer.randBetween=function(a,b,rng){a=parseValue(a),b=parseValue(b);var usedRNG=rng||Math.random,low=min(a,b),range=max(a,b).subtract(low).add(1);if(range.isSmall)return low.add(Math.floor(usedRNG()*range));for(var digits=toBase(range,BASE).value,result=[],restricted=!0,i=0;i<digits.length;i++){var top=restricted?digits[i]:BASE,digit=truncate(usedRNG()*top);result.push(digit),digit<top&&(restricted=!1)}return low.add(Integer.fromArray(result,BASE,!1))},Integer.fromArray=function(digits,base,isNegative){return parseBaseFromArray(digits.map(parseValue),parseValue(base||10),isNegative)},Integer}();module.hasOwnProperty("exports")&&(module.exports=bigInt),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return bigInt}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(61)(module))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(76),__webpack_require__(3),__webpack_require__(12),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_constrain,_expr,_tables,_util){"use strict";function columnDataType(definition){const{dataType:dataType,length:length,suffix:suffix,scale:scale}=definition||{};let result=dataType;return length&&(result+=`(${[length,scale].filter(_util.hasVal).join(", ")})`),suffix&&suffix.length&&(result+=" "+suffix.join(" ")),result}function columnReferenceDefinitionToSQL(referenceDefinition){const reference=[];if(!referenceDefinition)return reference;const{definition:definition,keyword:keyword,match:match,table:table,on_delete:onDelete,on_update:onUpdate}=referenceDefinition;return reference.push(keyword.toUpperCase()),reference.push((0,_tables.tablesToSQL)(table)),reference.push(`(${definition.map(_util.identifierToSql).join(", ")})`),reference.push((0,_util.toUpper)(match)),reference.push(...(0,_util.commonTypeValue)(onDelete)),reference.push(...(0,_util.commonTypeValue)(onUpdate)),reference.filter(_util.hasVal)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.columnDefinitionToSQL=function(columnDefinition){const column=[],name=(0,_util.columnRefToSQL)(columnDefinition.column),dataType=columnDataType(columnDefinition.definition);column.push(name),column.push(dataType);const columnOpt=function(definition){const columnOpt=[],{nullable:nullable,check:check,comment:comment,collate:collate,storage:storage,default_val:defaultOpt,auto_increment:autoIncrement,unique_or_primary:uniquePrimary,column_format:columnFormat,reference_definition:referenceDefinition}=definition;if(columnOpt.push((0,_util.toUpper)(nullable&&nullable.value)),defaultOpt){const{type:type,value:value}=defaultOpt;columnOpt.push(type.toUpperCase(),(0,_expr.exprToSQL)(value))}return columnOpt.push((0,_constrain.constraintDefinitionToSQL)(check)),columnOpt.push((0,_util.autoIncreatementToSQL)(autoIncrement),(0,_util.toUpper)(uniquePrimary),(0,_util.commentToSQL)(comment)),columnOpt.push(...(0,_util.commonTypeValue)(collate)),columnOpt.push(...(0,_util.commonTypeValue)(columnFormat)),columnOpt.push(...(0,_util.commonTypeValue)(storage)),columnOpt.push(...columnReferenceDefinitionToSQL(referenceDefinition)),columnOpt.filter(_util.hasVal).join(" ")}(columnDefinition);return column.push(columnOpt),column.filter(_util.hasVal).join(" ")},_exports.columnsToSQL=function(columns,tables){if(!columns)return;if("*"===columns)return columns;const baseTable=Array.isArray(tables)&&tables[0];let isDual=!1;return baseTable&&"dual"===baseTable.type&&(isDual=!0),columns.map(column=>{const{expr:expr}=column;isDual&&(expr.isDual=isDual);let str=(0,_expr.exprToSQL)(expr);return null!==column.as&&(str+=" AS ",str=column.as.match(/^[a-z_][0-9a-z_]*$/i)?`${str}${(0,_util.identifierToSql)(column.as)}`:`${str}\`${column.as}\``),str}).join(", ")},_exports.columnDataType=columnDataType,_exports.columnReferenceDefinitionToSQL=columnReferenceDefinitionToSQL})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SyncPromise}));var States,_is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);!function(States){States.PENDING="PENDING",States.RESOLVED="RESOLVED",States.REJECTED="REJECTED"}(States||(States={}));var SyncPromise=function(){function SyncPromise(executor){var _this=this;this._state=States.PENDING,this._handlers=[],this._resolve=function(value){_this._setResult(States.RESOLVED,value)},this._reject=function(reason){_this._setResult(States.REJECTED,reason)},this._setResult=function(state,value){_this._state===States.PENDING&&(Object(_is__WEBPACK_IMPORTED_MODULE_0__.j)(value)?value.then(_this._resolve,_this._reject):(_this._state=state,_this._value=value,_this._executeHandlers()))},this._attachHandler=function(handler){_this._handlers=_this._handlers.concat(handler),_this._executeHandlers()},this._executeHandlers=function(){_this._state!==States.PENDING&&(_this._state===States.REJECTED?_this._handlers.forEach((function(handler){handler.onrejected&&handler.onrejected(_this._value)})):_this._handlers.forEach((function(handler){handler.onfulfilled&&handler.onfulfilled(_this._value)})),_this._handlers=[])};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}return SyncPromise.prototype.toString=function(){return"[object SyncPromise]"},SyncPromise.resolve=function(value){return new SyncPromise((function(resolve){resolve(value)}))},SyncPromise.reject=function(reason){return new SyncPromise((function(_,reject){reject(reason)}))},SyncPromise.all=function(collection){return new SyncPromise((function(resolve,reject){if(Array.isArray(collection))if(0!==collection.length){var counter=collection.length,resolvedCollection=[];collection.forEach((function(item,index){SyncPromise.resolve(item).then((function(value){resolvedCollection[index]=value,0===(counter-=1)&&resolve(resolvedCollection)})).then(null,reject)}))}else resolve([]);else reject(new TypeError("Promise.all requires an array as input."))}))},SyncPromise.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise((function(resolve,reject){_this._attachHandler({onfulfilled:function(result){if(onfulfilled)try{return void resolve(onfulfilled(result))}catch(e){return void reject(e)}else resolve(result)},onrejected:function(reason){if(onrejected)try{return void resolve(onrejected(reason))}catch(e){return void reject(e)}else reject(reason)}})}))},SyncPromise.prototype.catch=function(onrejected){return this.then((function(val){return val}),onrejected)},SyncPromise.prototype.finally=function(onfinally){var _this=this;return new SyncPromise((function(resolve,reject){var val,isRejected;return _this.then((function(value){isRejected=!1,val=value,onfinally&&onfinally()}),(function(reason){isRejected=!0,val=reason,onfinally&&onfinally()})).then((function(){isRejected?reject(val):resolve(val)}))}))},SyncPromise}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(Disposable){Disposable.create=function(func){return{dispose:func}}}(exports.Disposable||(exports.Disposable={})),function(Event){const _disposable={dispose(){}};Event.None=function(){return _disposable}}(exports.Event||(exports.Event={}));class CallbackList{add(callback,context=null,bucket){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(callback),this._contexts.push(context),Array.isArray(bucket)&&bucket.push({dispose:()=>this.remove(callback,context)})}remove(callback,context=null){if(this._callbacks){for(var foundCallbackWithDifferentContext=!1,i=0,len=this._callbacks.length;i<len;i++)if(this._callbacks[i]===callback){if(this._contexts[i]===context)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);foundCallbackWithDifferentContext=!0}if(foundCallbackWithDifferentContext)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...args){if(!this._callbacks)return[];for(var ret=[],callbacks=this._callbacks.slice(0),contexts=this._contexts.slice(0),i=0,len=callbacks.length;i<len;i++)try{ret.push(callbacks[i].apply(contexts[i],args))}catch(e){console.error(e)}return ret}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Emitter{constructor(_options){this._options=_options}get event(){return this._event||(this._event=(listener,thisArgs,disposables)=>{let result;return this._callbacks||(this._callbacks=new CallbackList),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(listener,thisArgs),result={dispose:()=>{this._callbacks.remove(listener,thisArgs),result.dispose=Emitter._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(disposables)&&disposables.push(result),result}),this._event}fire(event){this._callbacks&&this._callbacks.invoke.call(this._callbacks,event)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}exports.Emitter=Emitter,Emitter._noop=function(){}},function(module,exports,__webpack_require__){"use strict";let telemetry;Object.defineProperty(exports,"__esModule",{value:!0}),telemetry=__webpack_require__(117).default,exports.default=telemetry},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const Tokenizer_1=__importDefault(__webpack_require__(169)),Formatter_1=__importDefault(__webpack_require__(171));exports.default=class AbstractFormatter{constructor(cfg){this.cfg=cfg}format(query){return new Formatter_1.default(this.cfg,this.tokenizer(),this.tokenOverride).format(query)}tokenize(query){return this.tokenizer().tokenize(query)}tokenizer(){return new Tokenizer_1.default(this.getTokenizerConfig())}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenTypes=void 0,function(TokenTypes){TokenTypes.WHITESPACE="whitespace",TokenTypes.WORD="word",TokenTypes.STRING="string",TokenTypes.RESERVED="reserved",TokenTypes.RESERVED_TOP_LEVEL="reserved-top-level",TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT="reserved-top-level-no-indent",TokenTypes.RESERVED_NEWLINE="reserved-newline",TokenTypes.OPERATOR="operator",TokenTypes.NO_SPACE_OPERATOR="no-space-operator",TokenTypes.OPEN_PAREN="open-paren",TokenTypes.CLOSE_PAREN="close-paren",TokenTypes.LINE_COMMENT="line-comment",TokenTypes.BLOCK_COMMENT="block-comment",TokenTypes.NUMBER="number",TokenTypes.PLACEHOLDER="placeholder",TokenTypes.SERVERVARIABLE="servervariable"}(exports.TokenTypes||(exports.TokenTypes={}))},function(module,exports){module.exports=require("url")},function(module,exports){module.exports=require("http")},function(module,exports){module.exports=require("https")},function(module,exports){module.exports=require("domain")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Scope})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addGlobalEventProcessor}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_sentry_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_sentry_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_sentry_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),Scope=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return Scope.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){_this._scopeListeners.forEach((function(callback){callback(_this)})),_this._notifyingListeners=!1})))},Scope.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return void 0===index&&(index=0),new _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.a((function(resolve,reject){var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},event),hint);Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.j)(result)?result.then((function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)})).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}}))},Scope.prototype.setUser=function(user){return this._user=user||{},this._notifyScopeListeners(),this},Scope.prototype.setTags=function(tags){return this._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,tags),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(key,value){var _a;return this._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,((_a={})[key]=value,_a)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(extras){return this._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,extras),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(key,extra){var _a;return this._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,((_a={})[key]=extra,_a)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(level){return this._level=level,this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(transaction){return this._transaction=transaction,this._span&&(this._span.transaction=transaction),this._notifyScopeListeners(),this},Scope.prototype.setContext=function(key,context){var _a;return this._context=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._context,((_a={})[key]=context,_a)),this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.clone=function(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=tslib__WEBPACK_IMPORTED_MODULE_0__.f(scope._breadcrumbs),newScope._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._tags),newScope._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._extra),newScope._context=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._context),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._transaction=scope._transaction,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=tslib__WEBPACK_IMPORTED_MODULE_0__.f(scope._eventProcessors)),newScope},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var mergedBreadcrumb=tslib__WEBPACK_IMPORTED_MODULE_0__.a({timestamp:Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.m)()},breadcrumb);return this._breadcrumbs=void 0!==maxBreadcrumbs&&maxBreadcrumbs>=0?tslib__WEBPACK_IMPORTED_MODULE_0__.f(this._breadcrumbs,[mergedBreadcrumb]).slice(-maxBreadcrumbs):tslib__WEBPACK_IMPORTED_MODULE_0__.f(this._breadcrumbs,[mergedBreadcrumb]),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope.prototype.applyToEvent=function(event,hint){return this._extra&&Object.keys(this._extra).length&&(event.extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,event.tags)),this._user&&Object.keys(this._user).length&&(event.user=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._user,event.user)),this._context&&Object.keys(this._context).length&&(event.contexts=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._context,event.contexts)),this._level&&(event.level=this._level),this._transaction&&(event.transaction=this._transaction),this._applyFingerprint(event),event.breadcrumbs=tslib__WEBPACK_IMPORTED_MODULE_0__.f(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,this._notifyEventProcessors(tslib__WEBPACK_IMPORTED_MODULE_0__.f(getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope}();function getGlobalEventProcessors(){var global=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.h)();return global.__SENTRY__=global.__SENTRY__||{},global.__SENTRY__.globalEventProcessors=global.__SENTRY__.globalEventProcessors||[],global.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(callback){getGlobalEventProcessors().push(callback)}},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(86),exports),__exportStar(__webpack_require__(87),exports),__exportStar(__webpack_require__(88),exports),__exportStar(__webpack_require__(89),exports),__exportStar(__webpack_require__(90),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=__webpack_require__(28),Is=__webpack_require__(22);let CR=Buffer.from("\r","ascii")[0],LF=Buffer.from("\n","ascii")[0];class MessageBuffer{constructor(encoding="utf8"){this.encoding=encoding,this.index=0,this.buffer=Buffer.allocUnsafe(8192)}append(chunk){var toAppend=chunk;if("string"==typeof chunk){var str=chunk,bufferLen=Buffer.byteLength(str,this.encoding);(toAppend=Buffer.allocUnsafe(bufferLen)).write(str,0,bufferLen,this.encoding)}if(this.buffer.length-this.index>=toAppend.length)toAppend.copy(this.buffer,this.index,0,toAppend.length);else{var newSize=8192*(Math.ceil((this.index+toAppend.length)/8192)+1);0===this.index?(this.buffer=Buffer.allocUnsafe(newSize),toAppend.copy(this.buffer,0,0,toAppend.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),toAppend],newSize)}this.index+=toAppend.length}tryReadHeaders(){let result=void 0,current=0;for(;current+3<this.index&&(this.buffer[current]!==CR||this.buffer[current+1]!==LF||this.buffer[current+2]!==CR||this.buffer[current+3]!==LF);)current++;if(current+3>=this.index)return result;result=Object.create(null),this.buffer.toString("ascii",0,current).split("\r\n").forEach(header=>{let index=header.indexOf(":");if(-1===index)throw new Error("Message header must separate key and value using :");let key=header.substr(0,index),value=header.substr(index+1).trim();result[key]=value});let nextStart=current+4;return this.buffer=this.buffer.slice(nextStart),this.index=this.index-nextStart,result}tryReadContent(length){if(this.index<length)return null;let result=this.buffer.toString(this.encoding,0,length),nextStart=length;return this.buffer.copy(this.buffer,0,nextStart),this.index=this.index-nextStart,result}get numberOfBytes(){return this.index}}!function(MessageReader){MessageReader.is=function(value){let candidate=value;return candidate&&Is.func(candidate.listen)&&Is.func(candidate.dispose)&&Is.func(candidate.onError)&&Is.func(candidate.onClose)&&Is.func(candidate.onPartialMessage)}}(exports.MessageReader||(exports.MessageReader={}));class AbstractMessageReader{constructor(){this.errorEmitter=new events_1.Emitter,this.closeEmitter=new events_1.Emitter,this.partialMessageEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error){this.errorEmitter.fire(this.asError(error))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(info){this.partialMessageEmitter.fire(info)}asError(error){return error instanceof Error?error:new Error("Reader received error. Reason: "+(Is.string(error.message)?error.message:"unknown"))}}exports.AbstractMessageReader=AbstractMessageReader;class StreamMessageReader extends AbstractMessageReader{constructor(readable,encoding="utf8"){super(),this.readable=readable,this.buffer=new MessageBuffer(encoding),this._partialMessageTimeout=1e4}set partialMessageTimeout(timeout){this._partialMessageTimeout=timeout}get partialMessageTimeout(){return this._partialMessageTimeout}listen(callback){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=callback,this.readable.on("data",data=>{this.onData(data)}),this.readable.on("error",error=>this.fireError(error)),this.readable.on("close",()=>this.fireClose())}onData(data){for(this.buffer.append(data);;){if(-1===this.nextMessageLength){let headers=this.buffer.tryReadHeaders();if(!headers)return;let contentLength=headers["Content-Length"];if(!contentLength)throw new Error("Header must provide a Content-Length property.");let length=parseInt(contentLength);if(isNaN(length))throw new Error("Content-Length value must be a number.");this.nextMessageLength=length}var msg=this.buffer.tryReadContent(this.nextMessageLength);if(null===msg)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var json=JSON.parse(msg);this.callback(json)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((token,timeout)=>{this.partialMessageTimer=void 0,token===this.messageToken&&(this.firePartialMessage({messageToken:token,waitingTime:timeout}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}exports.StreamMessageReader=StreamMessageReader;exports.IPCMessageReader=class IPCMessageReader extends AbstractMessageReader{constructor(process){super(),this.process=process;let eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error)),eventEmitter.on("close",()=>this.fireClose())}listen(callback){this.process.on("message",callback)}};exports.SocketMessageReader=class SocketMessageReader extends StreamMessageReader{constructor(socket,encoding="utf-8"){super(socket,encoding)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=__webpack_require__(28),Is=__webpack_require__(22);!function(MessageWriter){MessageWriter.is=function(value){let candidate=value;return candidate&&Is.func(candidate.dispose)&&Is.func(candidate.onClose)&&Is.func(candidate.onError)&&Is.func(candidate.write)}}(exports.MessageWriter||(exports.MessageWriter={}));class AbstractMessageWriter{constructor(){this.errorEmitter=new events_1.Emitter,this.closeEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error,message,count){this.errorEmitter.fire([this.asError(error),message,count])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(error){return error instanceof Error?error:new Error("Writer received error. Reason: "+(Is.string(error.message)?error.message:"unknown"))}}exports.AbstractMessageWriter=AbstractMessageWriter;exports.StreamMessageWriter=class StreamMessageWriter extends AbstractMessageWriter{constructor(writable,encoding="utf8"){super(),this.writable=writable,this.encoding=encoding,this.errorCount=0,this.writable.on("error",error=>this.fireError(error)),this.writable.on("close",()=>this.fireClose())}write(msg){let json=JSON.stringify(msg),headers=["Content-Length: ",Buffer.byteLength(json,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(headers.join(""),"ascii"),this.writable.write(json,this.encoding),this.errorCount=0}catch(error){this.errorCount++,this.fireError(error,msg,this.errorCount)}}};exports.IPCMessageWriter=class IPCMessageWriter extends AbstractMessageWriter{constructor(process){super(),this.process=process,this.errorCount=0,this.queue=[],this.sending=!1;let eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error)),eventEmitter.on("close",()=>this.fireClose)}write(msg){this.sending||0!==this.queue.length?this.queue.push(msg):this.doWriteMessage(msg)}doWriteMessage(msg){try{this.process.send&&(this.sending=!0,this.process.send(msg,void 0,void 0,error=>{this.sending=!1,error?(this.errorCount++,this.fireError(error,msg,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(error){this.errorCount++,this.fireError(error,msg,this.errorCount)}}};exports.SocketMessageWriter=class SocketMessageWriter extends AbstractMessageWriter{constructor(socket,encoding="utf8"){super(),this.socket=socket,this.queue=[],this.sending=!1,this.encoding=encoding,this.errorCount=0,this.socket.on("error",error=>this.fireError(error)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(msg){this.sending||0!==this.queue.length?this.queue.push(msg):this.doWriteMessage(msg)}doWriteMessage(msg){let json=JSON.stringify(msg),headers=["Content-Length: ",Buffer.byteLength(json,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(headers.join(""),"ascii",error=>{error&&this.handleError(error,msg);try{this.socket.write(json,this.encoding,error=>{this.sending=!1,error?this.handleError(error,msg):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(error){this.handleError(error,msg)}})}catch(error){this.handleError(error,msg)}}handleError(error,msg){this.errorCount++,this.fireError(error,msg,this.errorCount)}}},function(module,exports){module.exports=require("net")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DELIMITER_START_REPLACE_REGEX=exports.DELIMITER_START_REGEX=exports.TREE_SEP=exports.DOCS_ROOT_URL=exports.ENV=exports.AUTHOR=exports.DISPLAY_NAME=exports.EXT_CONFIG_NAMESPACE=exports.EXT_NAMESPACE=exports.VERSION=void 0,exports.VERSION="1.0.0",exports.EXT_NAMESPACE="sqltools",exports.EXT_CONFIG_NAMESPACE="sqltools",exports.DISPLAY_NAME="SQLTools".replace(/^"/,"").replace(/"$/,""),exports.AUTHOR="Matheus Teixeira <me@mteixeira.dev>",exports.ENV="production",exports.DOCS_ROOT_URL="https://vscode-sqltools.mteixeira.dev",exports.TREE_SEP="/-##-/",exports.DELIMITER_START_REGEX=/(?:[\r\n]+)(\s*-{2,}\s*@block.*)$/gimu,exports.DELIMITER_START_REPLACE_REGEX=/^(\s*-{2,}\s*@block.*)$/gimu},function(module,exports,__webpack_require__){"use strict";module.exports=/[^.[\]]+|\[((?:.)*?)\]/g},function(module,exports){module.exports=require("events")},function(module,exports,__webpack_require__){"use strict";module.exports=function(s){return s}},function(module,exports,__webpack_require__){"use strict";const format=__webpack_require__(137),{mapHttpRequest:mapHttpRequest,mapHttpResponse:mapHttpResponse}=__webpack_require__(55),SonicBoom=__webpack_require__(57),stringifySafe=__webpack_require__(59),{lsCacheSym:lsCacheSym,chindingsSym:chindingsSym,parsedChindingsSym:parsedChindingsSym,writeSym:writeSym,serializersSym:serializersSym,formatOptsSym:formatOptsSym,endSym:endSym,stringifiersSym:stringifiersSym,stringifySym:stringifySym,wildcardFirstSym:wildcardFirstSym,needsMetadataGsym:needsMetadataGsym,redactFmtSym:redactFmtSym,streamSym:streamSym,nestedKeySym:nestedKeySym,formattersSym:formattersSym,messageKeySym:messageKeySym}=__webpack_require__(24);function noop(){}function asString(str){var result="",last=0,found=!1,point=255;const l=str.length;if(l>100)return JSON.stringify(str);for(var i=0;i<l&&point>=32;i++)34!==(point=str.charCodeAt(i))&&92!==point||(result+=str.slice(last,i)+"\\",last=i,found=!0);return found?result+=str.slice(last):result=str,point<32?JSON.stringify(str):'"'+result+'"'}function getPrettyStream(opts,prettifier,dest,instance){if(prettifier&&"function"==typeof prettifier)return prettifierMetaWrapper((prettifier=prettifier.bind(instance))(opts),dest,opts);try{var prettyFactory=__webpack_require__(138);return prettyFactory.asMetaWrapper=prettifierMetaWrapper,prettifierMetaWrapper(prettyFactory(opts),dest,opts)}catch(e){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function prettifierMetaWrapper(pretty,dest,opts){opts=Object.assign({suppressFlushSyncWarning:!1},opts);var warned=!1;return{[needsMetadataGsym]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){opts.suppressFlushSyncWarning||warned||(warned=!0,setMetadataProps(dest,this),dest.write(pretty(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){const lastLogger=this.lastLogger;var chindings=null;return lastLogger?(lastLogger.hasOwnProperty(parsedChindingsSym)?chindings=lastLogger[parsedChindingsSym]:(chindings=JSON.parse("{"+lastLogger[chindingsSym].substr(1)+"}"),lastLogger[parsedChindingsSym]=chindings),chindings):null},write(chunk){const lastLogger=this.lastLogger,chindings=this.chindings();var time=this.lastTime;time.match(/^\d+/)&&(time=parseInt(time));var lastObj=this.lastObj,lastMsg=this.lastMsg;const formatters=lastLogger[formattersSym],formattedObj=formatters.log?formatters.log(lastObj):lastObj,messageKey=lastLogger[messageKeySym];lastMsg&&formattedObj&&!formattedObj.hasOwnProperty(messageKey)&&(formattedObj[messageKey]=lastMsg);const obj=Object.assign({level:this.lastLevel,time:time},formattedObj,null),serializers=lastLogger[serializersSym],keys=Object.keys(serializers);for(var key,i=0;i<keys.length;i++)void 0!==obj[key=keys[i]]&&(obj[key]=serializers[key](obj[key]));for(key in chindings)obj.hasOwnProperty(key)||(obj[key]=chindings[key]);const redact=lastLogger[stringifiersSym][redactFmtSym],formatted=pretty("function"==typeof redact?redact(obj):obj);void 0!==formatted&&(setMetadataProps(dest,this),dest.write(formatted))}}}function buildSafeSonicBoom(opts){const stream=new SonicBoom(opts);return stream.on("error",(function filterBrokenPipe(err){if("EPIPE"===err.code)return stream.write=noop,stream.end=noop,stream.flushSync=noop,void(stream.destroy=noop);stream.removeListener("error",filterBrokenPipe),stream.emit("error",err)})),stream}function setMetadataProps(dest,that){!0===dest[needsMetadataGsym]&&(dest.lastLevel=that.lastLevel,dest.lastMsg=that.lastMsg,dest.lastObj=that.lastObj,dest.lastTime=that.lastTime,dest.lastLogger=that.lastLogger)}module.exports={noop:noop,buildSafeSonicBoom:buildSafeSonicBoom,getPrettyStream:getPrettyStream,asChindings:function(instance,bindings){var key,value,data=instance[chindingsSym];const stringify=instance[stringifySym],stringifiers=instance[stringifiersSym],wildcardStringifier=stringifiers[wildcardFirstSym],serializers=instance[serializersSym],formatter=instance[formattersSym].bindings;for(key in bindings=formatter(bindings)){value=bindings[key];if(!0===("level"!==key&&"serializers"!==key&&"formatters"!==key&&"customLevels"!==key&&bindings.hasOwnProperty(key)&&void 0!==value)){if(value=serializers[key]?serializers[key](value):value,void 0===(value=(stringifiers[key]||wildcardStringifier||stringify)(value)))continue;data+=',"'+key+'":'+value}}return data},asJson:function(obj,msg,num,time){const stringify=this[stringifySym],stringifiers=this[stringifiersSym],end=this[endSym],chindings=this[chindingsSym],serializers=this[serializersSym],formatters=this[formattersSym],messageKey=this[messageKeySym];var value,data=this[lsCacheSym][num]+time;data+=chindings;var notHasOwnProperty=void 0===obj.hasOwnProperty;formatters.log&&(obj=formatters.log(obj)),void 0!==msg&&(obj[messageKey]=msg);const wildcardStringifier=stringifiers[wildcardFirstSym];for(var key in obj)if(value=obj[key],(notHasOwnProperty||obj.hasOwnProperty(key))&&void 0!==value){value=serializers[key]?serializers[key](value):value;const stringifier=stringifiers[key]||wildcardStringifier;switch(typeof value){case"undefined":case"function":continue;case"number":!1===Number.isFinite(value)&&(value=null);case"boolean":stringifier&&(value=stringifier(value));break;case"string":value=(stringifier||asString)(value);break;default:value=(stringifier||stringify)(value)}if(void 0===value)continue;data+=',"'+key+'":'+value}return data+end},genLog:function(level,hook){return hook?function(...args){hook.call(this,args,LOG)}:LOG;function LOG(o,...n){if("object"==typeof o){var formatParams,msg=o;null!==o&&(o.method&&o.headers&&o.socket?o=mapHttpRequest(o):"function"==typeof o.setHeader&&(o=mapHttpResponse(o))),this[nestedKeySym]&&(o={[this[nestedKeySym]]:o}),null===msg&&0===n.length?formatParams=[null]:(msg=n.shift(),formatParams=n),this[writeSym](o,format(msg,formatParams,this[formatOptsSym]),level)}else this[writeSym](null,format(o,n,this[formatOptsSym]),level)}},createArgsNormalizer:function(defaultOptions){return function(instance,opts={},stream){if("string"==typeof opts?(stream=buildSafeSonicBoom({dest:opts,sync:!0}),opts={}):"string"==typeof stream?stream=buildSafeSonicBoom({dest:stream,sync:!0}):(opts instanceof SonicBoom||opts.writable||opts._writableState)&&(stream=opts,opts=null),"extreme"in(opts=Object.assign({},defaultOptions,opts)))throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in opts)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in opts&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),opts.levelKey=opts.changeLevelName,delete opts.changeLevelName);const{enabled:enabled,prettyPrint:prettyPrint,prettifier:prettifier,messageKey:messageKey}=opts;if(!1===enabled&&(opts.level="silent"),(stream=stream||process.stdout)===process.stdout&&stream.fd>=0&&!function(stream){return stream.write!==stream.constructor.prototype.write}(stream)&&(stream=buildSafeSonicBoom({fd:stream.fd,sync:!0})),prettyPrint){stream=getPrettyStream(Object.assign({messageKey:messageKey},prettyPrint),prettifier,stream,instance)}return{opts:opts,stream:stream}}},final:function(logger,handler){if(void 0===logger||"function"!=typeof logger.child)throw Error("expected a pino logger instance");const hasHandler=void 0!==handler;if(hasHandler&&"function"!=typeof handler)throw Error("if supplied, the handler parameter should be a function");const stream=logger[streamSym];if("function"!=typeof stream.flushSync)throw Error("final requires a stream that has a flushSync method, such as pino.destination");const finalLogger=new Proxy(logger,{get:(logger,key)=>key in logger.levels.values?(...args)=>{logger[key](...args),stream.flushSync()}:logger[key]});return hasHandler?(err=null,...args)=>{try{stream.flushSync()}catch(e){}return handler(err,finalLogger,...args)}:finalLogger},stringify:function(obj){try{return JSON.stringify(obj)}catch(_){return stringifySafe(obj)}},buildFormatters:function(level,bindings,log){return{level:level,bindings:bindings,log:log}}}},function(module,exports,__webpack_require__){"use strict";module.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ServerErrorNotification=exports.ExitCalledNotification=exports.DriverNotInstalledNotification=void 0,exports.DriverNotInstalledNotification="LS/driverNotInstalled",exports.ExitCalledNotification="AutoRestart/exitCalled",exports.ServerErrorNotification="Core/errorNotification"},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CONNECTION_INFO_KEY=exports.LAST_USED_ID_KEY=exports.ACTIVE_CONNECTIONS_KEY=void 0;const connectionStateCache=new(__importDefault(__webpack_require__(72)).default)("manager",{maxAge:72e5,maxEntries:50});exports.default=connectionStateCache,exports.ACTIVE_CONNECTIONS_KEY="activeConnections",exports.LAST_USED_ID_KEY="lastUsedId",exports.CONNECTION_INFO_KEY="ConnectionSettingsForm"},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(215),__webpack_require__(75),__webpack_require__(51),__webpack_require__(222),__webpack_require__(79),__webpack_require__(223),__webpack_require__(224)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_create,_alter,_select,_delete,_update,_insert,_command){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.unionToSQL=unionToSQL,_exports.multipleToSQL=function(stmt){const res=[];for(let i=0,len=stmt.length;i<len;++i){let astInfo=stmt[i]&&stmt[i].ast;astInfo||(astInfo=stmt[i]),res.push(unionToSQL(astInfo))}return res.join(" ; ")};const typeToSQLFn={alter:_alter.alterToSQL,create:_create.createToSQL,select:_select.selectToSQL,delete:_delete.deleteToSQL,update:_update.updateToSQL,insert:_insert.insertToSQL,drop:_command.dropToSQL,truncate:_command.truncateToSQL,use:_command.useToSQL,rename:_command.renameToSQL,call:_command.callToSQL,set:_command.setVarToSQL,lock:_command.lockUnlockToSQL,unlock:_command.lockUnlockToSQL};function unionToSQL(stmt){const fun=typeToSQLFn[stmt.type],res=[fun(stmt)];for(;stmt._next;){const unionKeyword=(stmt.union||"union").toUpperCase();res.push(unionKeyword,fun(stmt._next)),stmt=stmt._next}return res.join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_expr){"use strict";function indexTypeToSQL(indexType){if(!indexType)return[];const{keyword:keyword,type:type}=indexType;return[keyword.toUpperCase(),type.toUpperCase()]}function indexOptionToSQL(indexOpt){if(!indexOpt)return;const{type:type,expr:expr,symbol:symbol}=indexOpt,upperType=type.toUpperCase(),indexOptArray=[];switch(indexOptArray.push(upperType),upperType){case"KEY_BLOCK_SIZE":symbol&&indexOptArray.push(symbol),indexOptArray.push((0,_util.literalToSQL)(expr));break;case"BTREE":case"HASH":indexOptArray.length=0,indexOptArray.push(...indexTypeToSQL(indexOpt));break;case"WITH PARSER":indexOptArray.push(expr);break;case"VISIBLE":case"INVISIBLE":break;case"COMMENT":indexOptArray.shift(),indexOptArray.push((0,_util.commentToSQL)(indexOpt))}return indexOptArray.join(" ")}function indexTypeAndOptionToSQL(indexDefinition){const{constraint_type:constraintType,index_type:indexType,index_options:indexOptions=[],definition:definition}=indexDefinition,dataType=[];if(dataType.push(...indexTypeToSQL(indexType)),definition&&definition.length){const definitionSQL="CHECK"===(0,_util.toUpper)(constraintType)?`(${(0,_expr.exprToSQL)(definition[0])})`:`(${definition.map(col=>(0,_util.identifierToSql)(col)).join(", ")})`;dataType.push(definitionSQL)}return dataType.push(indexOptions&&indexOptions.map(indexOptionToSQL).join(" ")),dataType}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.indexDefinitionToSQL=function(indexDefinition){const indexSQL=[],{keyword:keyword,index:index}=indexDefinition;return indexSQL.push((0,_util.toUpper)(keyword)),indexSQL.push(index),indexSQL.push(...indexTypeAndOptionToSQL(indexDefinition)),indexSQL.filter(_util.hasVal).join(" ")},_exports.indexTypeToSQL=indexTypeToSQL,_exports.indexOptionToSQL=indexOptionToSQL,_exports.indexTypeAndOptionToSQL=indexTypeAndOptionToSQL})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3),__webpack_require__(26),__webpack_require__(221),__webpack_require__(12),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr,_column,_with,_tables,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.selectToSQL=function(stmt){const{with:withInfo,options:options,distinct:distinct,columns:columns,from:from,where:where,groupby:groupby,having:having,orderby:orderby,limit:limit,top:top}=stmt,clauses=[(0,_with.withToSql)(withInfo),"SELECT"];if(clauses.push((0,_util.topToSQL)(top)),Array.isArray(options)&&clauses.push(options.join(" ")),clauses.push(distinct,(0,_column.columnsToSQL)(columns,from)),clauses.push((0,_util.commonOptionConnector)("FROM",_tables.tablesToSQL,from)),clauses.push((0,_util.commonOptionConnector)("WHERE",_expr.exprToSQL,where)),clauses.push((0,_util.connector)("GROUP BY",(0,_expr.getExprListSQL)(groupby).join(", "))),clauses.push((0,_util.commonOptionConnector)("HAVING",_expr.exprToSQL,having)),clauses.push((0,_expr.orderOrPartitionByToSQL)(orderby,"order by")),limit){const{seperator:seperator,value:value}=limit;clauses.push((0,_util.connector)("LIMIT",value.map(_expr.exprToSQL).join(`${"offset"===seperator?" ":""}${seperator.toUpperCase()} `)))}return clauses.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";function string(value){return"string"==typeof value||value instanceof String}function func(value){return"function"==typeof value}function array(value){return Array.isArray(value)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.boolean=function(value){return!0===value||!1===value},exports.string=string,exports.number=function(value){return"number"==typeof value||value instanceof Number},exports.error=function(value){return value instanceof Error},exports.func=func,exports.array=array,exports.stringArray=function(value){return array(value)&&value.every(elem=>string(elem))},exports.typedArray=function(value,check){return Array.isArray(value)&&value.every(check)},exports.thenable=function(value){return value&&func(value.then)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class ValueUUID{constructor(_value){this._value=_value}asHex(){return this._value}equals(other){return this.asHex()===other.asHex()}}class V4UUID extends ValueUUID{constructor(){super([V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-","4",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._oneOf(V4UUID._timeHighBits),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex()].join(""))}static _oneOf(array){return array[Math.floor(array.length*Math.random())]}static _randomHex(){return V4UUID._oneOf(V4UUID._chars)}}function v4(){return new V4UUID}V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],V4UUID._timeHighBits=["8","9","a","b"],exports.empty=new ValueUUID("00000000-0000-0000-0000-000000000000"),exports.v4=v4;const _UUIDPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(value){return _UUIDPattern.test(value)}exports.isUUID=isUUID,exports.parse=function(value){if(!isUUID(value))throw new Error("invalid uuid");return new ValueUUID(value)},exports.generateUuid=function(){return v4().asHex()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.replacer=exports.numericVersion=exports.sortText=void 0,exports.sortText=function(a,b){return a.toString().localeCompare(b.toString())},exports.numericVersion=function(v){const n=v.replace(/^v/,"").split(".").map(a=>parseInt(a.replace(/\D+/,""),10));return n.length>=3?1e4*n[0]+100*n[1]+n[2]:2===n.length?1e4*n[0]+100*n[1]:1e4*n[0]},exports.replacer=function(source,toReplace){return Object.keys(toReplace).reduce((destination,replaceParam)=>destination.replace(new RegExp(":"+replaceParam,"g"),toReplace[replaceParam]),source)}},function(module,exports,__webpack_require__){"use strict";var errSerializer=__webpack_require__(123),reqSerializers=__webpack_require__(124),resSerializers=__webpack_require__(125);module.exports={err:errSerializer,mapHttpRequest:reqSerializers.mapHttpRequest,mapHttpResponse:resSerializers.mapHttpResponse,req:reqSerializers.reqSerializer,res:resSerializers.resSerializer,wrapErrorSerializer:function(customSerializer){return customSerializer===errSerializer?customSerializer:function(err){return customSerializer(errSerializer(err))}},wrapRequestSerializer:function(customSerializer){return customSerializer===reqSerializers.reqSerializer?customSerializer:function(req){return customSerializer(reqSerializers.reqSerializer(req))}},wrapResponseSerializer:function(customSerializer){return customSerializer===resSerializers.resSerializer?customSerializer:function(res){return customSerializer(resSerializers.resSerializer(res))}}}},function(module,exports,__webpack_require__){"use strict";function specialSet(o,k,p,v,f){var n,nv,ov,obj,prop,i=-1,l=p.length,li=l-1,oov=null,exists=!0;if(ov=n=o[k],"object"!=typeof n)return{value:null,parent:null,exists:exists};for(;null!=n&&++i<l;){if(oov=ov,!((k=p[i])in n)){exists=!1;break}if(ov=n[k],nv=f?v(ov):v,nv=i!==li?ov:nv,n[k]=(obj=n,prop=k,Object.prototype.hasOwnProperty.call(obj,prop)&&nv===ov||void 0===nv&&void 0!==v?n[k]:nv),"object"!=typeof(n=n[k]))break}return{value:ov,parent:oov,exists:exists}}function get(o,p){for(var i=-1,l=p.length,n=o;null!=n&&++i<l;)n=n[p[i]];return n}module.exports={groupRedact:function(o,path,censor,isCensorFct){const target=get(o,path);if(null==target)return{keys:null,values:null,target:null,flat:!0};const keys=Object.keys(target),length=keys.length,values=new Array(length);for(var i=0;i<length;i++){const k=keys[i];values[i]=target[k],target[k]=isCensorFct?censor(target[k]):censor}return{keys:keys,values:values,target:target,flat:!0}},groupRestore:function({keys:keys,values:values,target:target}){if(null==target)return;const length=keys.length;for(var i=0;i<length;i++){const k=keys[i];target[k]=values[i]}},nestedRedact:function(store,o,path,ns,censor,isCensorFct){const target=get(o,path);if(null==target)return;const keys=Object.keys(target),length=keys.length;for(var i=0;i<length;i++){const key=keys[i],{value:value,parent:parent,exists:exists}=specialSet(target,key,ns,censor,isCensorFct);!0===exists&&null!==parent&&store.push({key:ns[ns.length-1],target:parent,value:value})}return store},nestedRestore:function(arr){const length=arr.length;for(var i=0;i<length;i++){const{key:key,target:target,value:value}=arr[i];target[key]=value}}}},function(module,exports,__webpack_require__){"use strict";const fs=__webpack_require__(6),EventEmitter=__webpack_require__(43),flatstr=__webpack_require__(44),inherits=__webpack_require__(14).inherits,sleep=__webpack_require__(136);function openFile(file,sonic){function fileOpened(err,fd){if(err)sonic.emit("error",err);else if(sonic.fd=fd,sonic._reopening=!1,sonic._opening=!1,sonic._writing=!1,sonic.emit("ready"),!sonic._reopening){var len=sonic._buf.length;len>0&&len>sonic.minLength&&!sonic.destroyed&&actualWrite(sonic)}}if(sonic._opening=!0,sonic._writing=!0,sonic.file=file,sonic.sync){fileOpened(null,fs.openSync(file,"a")),process.nextTick(()=>sonic.emit("ready"))}else fs.open(file,"a",fileOpened)}function SonicBoom(opts){if(!(this instanceof SonicBoom))return new SonicBoom(opts);var{fd:fd,dest:dest,minLength:minLength,sync:sync}=opts||{};if(fd=fd||dest,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=sync||!1,this.minLength=minLength||0,"number"==typeof fd)this.fd=fd,process.nextTick(()=>this.emit("ready"));else{if("string"!=typeof fd)throw new Error("SonicBoom supports only file descriptors and files");openFile(fd,this)}this.release=(err,n)=>{if(err)if("EAGAIN"===err.code)if(this.sync)try{sleep(100),this.release(void 0,0)}catch(err){this.release(err)}else setTimeout(()=>{fs.write(this.fd,this._writingBuf,"utf8",this.release)},100);else this.emit("error",err);else{if(this._writingBuf.length!==n){if(this._writingBuf=this._writingBuf.slice(n),!this.sync)return void fs.write(this.fd,this._writingBuf,"utf8",this.release);try{do{n=fs.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(n)}while(0!==this._writingBuf.length)}catch(err){return void this.release(err)}}if(this._writingBuf="",!this.destroyed){var len=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):len>0&&len>this.minLength?actualWrite(this):this._ending?len>0?actualWrite(this):(this._writing=!1,actualClose(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(emitDrain,this)):this.emit("drain"))}}}}function emitDrain(sonic){sonic._asyncDrainScheduled=!1,sonic.emit("drain")}function actualWrite(sonic){sonic._writing=!0;var buf=sonic._buf,release=sonic.release;if(buf.length>16777216?(buf=buf.slice(0,16777216),sonic._buf=sonic._buf.slice(16777216)):sonic._buf="",flatstr(buf),sonic._writingBuf=buf,sonic.sync)try{release(null,fs.writeSync(sonic.fd,buf,"utf8"))}catch(err){release(err)}else fs.write(sonic.fd,buf,"utf8",release)}function actualClose(sonic){-1!==sonic.fd?(fs.close(sonic.fd,err=>{err?sonic.emit("error",err):(sonic._ending&&!sonic._writing&&sonic.emit("finish"),sonic.emit("close"))}),sonic.destroyed=!0,sonic._buf=""):sonic.once("ready",actualClose.bind(null,sonic))}inherits(SonicBoom,EventEmitter),SonicBoom.prototype.write=function(data){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=data;var len=this._buf.length;return!this._writing&&len>this.minLength&&actualWrite(this),len<16384},SonicBoom.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||actualWrite(this)},SonicBoom.prototype.reopen=function(file){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening)this.once("ready",()=>{this.reopen(file)});else if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,this._writing||(fs.close(this.fd,err=>{if(err)return this.emit("error",err)}),openFile(file||this.file,this))}},SonicBoom.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._opening?this.once("ready",()=>{this.end()}):this._ending||(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0?actualWrite(this):this._writing||actualClose(this))},SonicBoom.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(fs.writeSync(this.fd,this._buf,"utf8"),this._buf="")},SonicBoom.prototype.destroy=function(){this.destroyed||actualClose(this)},module.exports=SonicBoom},function(module,exports,__webpack_require__){"use strict";const flatstr=__webpack_require__(44),{lsCacheSym:lsCacheSym,levelValSym:levelValSym,useOnlyCustomLevelsSym:useOnlyCustomLevelsSym,streamSym:streamSym,formattersSym:formattersSym,hooksSym:hooksSym}=__webpack_require__(24),{noop:noop,genLog:genLog}=__webpack_require__(45),levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},levelMethods={fatal:hook=>{const logFatal=genLog(levels.fatal,hook);return function(...args){const stream=this[streamSym];if(logFatal.call(this,...args),"function"==typeof stream.flushSync)try{stream.flushSync()}catch(e){}}},error:hook=>genLog(levels.error,hook),warn:hook=>genLog(levels.warn,hook),info:hook=>genLog(levels.info,hook),debug:hook=>genLog(levels.debug,hook),trace:hook=>genLog(levels.trace,hook)},nums=Object.keys(levels).reduce((o,k)=>(o[levels[k]]=k,o),{}),initialLsCache=Object.keys(nums).reduce((o,k)=>(o[k]=flatstr('{"level":'+Number(k)),o),{});function isStandardLevel(level,useOnlyCustomLevels){if(useOnlyCustomLevels)return!1;switch(level){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}module.exports={initialLsCache:initialLsCache,genLsCache:function(instance){const formatter=instance[formattersSym].level,{labels:labels}=instance.levels,cache={};for(const label in labels){const level=formatter(labels[label],Number(label));cache[label]=JSON.stringify(level).slice(0,-1)}return instance[lsCacheSym]=cache,instance},levelMethods:levelMethods,getLevel:function(level){const{levels:levels,levelVal:levelVal}=this;return levels&&levels.labels?levels.labels[levelVal]:""},setLevel:function(level){const{labels:labels,values:values}=this.levels;if("number"==typeof level){if(void 0===labels[level])throw Error("unknown level value"+level);level=labels[level]}if(void 0===values[level])throw Error("unknown level "+level);const preLevelVal=this[levelValSym],levelVal=this[levelValSym]=values[level],useOnlyCustomLevelsVal=this[useOnlyCustomLevelsSym],hook=this[hooksSym].logMethod;for(var key in values)levelVal>values[key]?this[key]=noop:this[key]=isStandardLevel(key,useOnlyCustomLevelsVal)?levelMethods[key](hook):genLog(values[key],hook);this.emit("level-change",level,levelVal,labels[preLevelVal],preLevelVal)},isLevelEnabled:function(logLevel){const{values:values}=this.levels,logLevelVal=values[logLevel];return void 0!==logLevelVal&&logLevelVal>=this[levelValSym]},mappings:function(customLevels=null,useOnlyCustomLevels=!1){const customNums=customLevels?Object.keys(customLevels).reduce((o,k)=>(o[customLevels[k]]=k,o),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),useOnlyCustomLevels?null:nums,customNums),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),useOnlyCustomLevels?null:levels,customLevels)}},assertNoLevelCollisions:function(levels,customLevels){const{labels:labels,values:values}=levels;for(const k in customLevels){if(k in values)throw Error("levels cannot be overridden");if(customLevels[k]in labels)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(defaultLevel,customLevels,useOnlyCustomLevels){if("number"==typeof defaultLevel){if(![].concat(Object.keys(customLevels||{}).map(key=>customLevels[key]),useOnlyCustomLevels?[]:Object.keys(nums).map(level=>+level),1/0).includes(defaultLevel))throw Error(`default level:${defaultLevel} must be included in custom levels`);return}if(!(defaultLevel in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),useOnlyCustomLevels?null:levels,customLevels)))throw Error(`default level:${defaultLevel} must be included in custom levels`)}}},function(module,exports){module.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var arr=[],replacerStack=[];function stringify(obj,replacer,spacer){var res;for(!function decirc(val,k,stack,parent){var i;if("object"==typeof val&&null!==val){for(i=0;i<stack.length;i++)if(stack[i]===val){var propertyDescriptor=Object.getOwnPropertyDescriptor(parent,k);return void(void 0!==propertyDescriptor.get?propertyDescriptor.configurable?(Object.defineProperty(parent,k,{value:"[Circular]"}),arr.push([parent,k,val,propertyDescriptor])):replacerStack.push([val,k]):(parent[k]="[Circular]",arr.push([parent,k,val])))}if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)decirc(val[i],i,stack,val);else{var keys=Object.keys(val);for(i=0;i<keys.length;i++){var key=keys[i];decirc(val[key],key,stack,val)}}stack.pop()}}(obj,"",[],void 0),res=0===replacerStack.length?JSON.stringify(obj,replacer,spacer):JSON.stringify(obj,replaceGetterValues(replacer),spacer);0!==arr.length;){var part=arr.pop();4===part.length?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}return res}function compareFunction(a,b){return a<b?-1:a>b?1:0}function deterministicStringify(obj,replacer,spacer){var res,tmp=function deterministicDecirc(val,k,stack,parent){var i;if("object"==typeof val&&null!==val){for(i=0;i<stack.length;i++)if(stack[i]===val){var propertyDescriptor=Object.getOwnPropertyDescriptor(parent,k);return void(void 0!==propertyDescriptor.get?propertyDescriptor.configurable?(Object.defineProperty(parent,k,{value:"[Circular]"}),arr.push([parent,k,val,propertyDescriptor])):replacerStack.push([val,k]):(parent[k]="[Circular]",arr.push([parent,k,val])))}if("function"==typeof val.toJSON)return;if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)deterministicDecirc(val[i],i,stack,val);else{var tmp={},keys=Object.keys(val).sort(compareFunction);for(i=0;i<keys.length;i++){var key=keys[i];deterministicDecirc(val[key],key,stack,val),tmp[key]=val[key]}if(void 0===parent)return tmp;arr.push([parent,k,val]),parent[k]=tmp}stack.pop()}}(obj,"",[],void 0)||obj;for(res=0===replacerStack.length?JSON.stringify(tmp,replacer,spacer):JSON.stringify(tmp,replaceGetterValues(replacer),spacer);0!==arr.length;){var part=arr.pop();4===part.length?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}return res}function replaceGetterValues(replacer){return replacer=void 0!==replacer?replacer:function(k,v){return v},function(key,val){if(replacerStack.length>0)for(var i=0;i<replacerStack.length;i++){var part=replacerStack[i];if(part[1]===key&&part[0]===val){val="[Circular]",replacerStack.splice(i,1);break}}return replacer.call(this,key,val)}}},function(module,exports,__webpack_require__){"use strict";const ansiStyles=__webpack_require__(139),{stdout:stdoutColor,stderr:stderrColor}=__webpack_require__(143),{stringReplaceAll:stringReplaceAll,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex}=__webpack_require__(145),{isArray:isArray}=Array,levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null);class ChalkClass{constructor(options){return chalkFactory(options)}}const chalkFactory=options=>{const chalk={};return((object,options={})=>{if(options.level&&!(Number.isInteger(options.level)&&options.level>=0&&options.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const colorLevel=stdoutColor?stdoutColor.level:0;object.level=void 0===options.level?colorLevel:options.level})(chalk,options),chalk.template=(...arguments_)=>chalkTag(chalk.template,...arguments_),Object.setPrototypeOf(chalk,Chalk.prototype),Object.setPrototypeOf(chalk.template,chalk),chalk.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},chalk.template.Instance=ChalkClass,chalk.template};function Chalk(options){return chalkFactory(options)}for(const[styleName,style]of Object.entries(ansiStyles))styles[styleName]={get(){const builder=createBuilder(this,createStyler(style.open,style.close,this._styler),this._isEmpty);return Object.defineProperty(this,styleName,{value:builder}),builder}};styles.visible={get(){const builder=createBuilder(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:builder}),builder}};const usedModels=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const model of usedModels)styles[model]={get(){const{level:level}=this;return function(...arguments_){const styler=createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_),ansiStyles.color.close,this._styler);return createBuilder(this,styler,this._isEmpty)}}};for(const model of usedModels){styles["bg"+model[0].toUpperCase()+model.slice(1)]={get(){const{level:level}=this;return function(...arguments_){const styler=createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_),ansiStyles.bgColor.close,this._styler);return createBuilder(this,styler,this._isEmpty)}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this._generator.level},set(level){this._generator.level=level}}}),createStyler=(open,close,parent)=>{let openAll,closeAll;return void 0===parent?(openAll=open,closeAll=close):(openAll=parent.openAll+open,closeAll=close+parent.closeAll),{open:open,close:close,openAll:openAll,closeAll:closeAll,parent:parent}},createBuilder=(self,_styler,_isEmpty)=>{const builder=(...arguments_)=>isArray(arguments_[0])&&isArray(arguments_[0].raw)?applyStyle(builder,chalkTag(builder,...arguments_)):applyStyle(builder,1===arguments_.length?""+arguments_[0]:arguments_.join(" "));return Object.setPrototypeOf(builder,proto),builder._generator=self,builder._styler=_styler,builder._isEmpty=_isEmpty,builder},applyStyle=(self,string)=>{if(self.level<=0||!string)return self._isEmpty?"":string;let styler=self._styler;if(void 0===styler)return string;const{openAll:openAll,closeAll:closeAll}=styler;if(-1!==string.indexOf(""))for(;void 0!==styler;)string=stringReplaceAll(string,styler.close,styler.open),styler=styler.parent;const lfIndex=string.indexOf("\n");return-1!==lfIndex&&(string=stringEncaseCRLFWithFirstIndex(string,closeAll,openAll,lfIndex)),openAll+string+closeAll};let template;const chalkTag=(chalk,...strings)=>{const[firstString]=strings;if(!isArray(firstString)||!isArray(firstString.raw))return strings.join(" ");const arguments_=strings.slice(1),parts=[firstString.raw[0]];for(let i=1;i<firstString.length;i++)parts.push(String(arguments_[i-1]).replace(/[{}\\]/g,"\\$&"),String(firstString.raw[i]));return void 0===template&&(template=__webpack_require__(146)),template(chalk,parts.join(""))};Object.defineProperties(Chalk.prototype,styles);const chalk=Chalk();chalk.supportsColor=stdoutColor,chalk.stderr=Chalk({level:stderrColor?stderrColor.level:0}),chalk.stderr.supportsColor=stderrColor,module.exports=chalk},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){const cssKeywords=__webpack_require__(141),reverseKeywords={};for(const key of Object.keys(cssKeywords))reverseKeywords[cssKeywords[key]]=key;const convert={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};module.exports=convert;for(const model of Object.keys(convert)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert[model]))throw new Error("missing channel labels property: "+model);if(convert[model].labels.length!==convert[model].channels)throw new Error("channel and label counts mismatch: "+model);const{channels:channels,labels:labels}=convert[model];delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],"channels",{value:channels}),Object.defineProperty(convert[model],"labels",{value:labels})}convert.rgb.hsl=function(rgb){const r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;let h,s;max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360);const l=(min+max)/2;return s=max===min?0:l<=.5?delta/(max+min):delta/(2-max-min),[h,100*s,100*l]},convert.rgb.hsv=function(rgb){let rdif,gdif,bdif,h,s;const r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,v=Math.max(r,g,b),diff=v-Math.min(r,g,b),diffc=function(c){return(v-c)/6/diff+.5};return 0===diff?(h=0,s=0):(s=diff/v,rdif=diffc(r),gdif=diffc(g),bdif=diffc(b),r===v?h=bdif-gdif:g===v?h=1/3+rdif-bdif:b===v&&(h=2/3+gdif-rdif),h<0?h+=1:h>1&&(h-=1)),[360*h,100*s,100*v]},convert.rgb.hwb=function(rgb){const r=rgb[0],g=rgb[1];let b=rgb[2];const h=convert.rgb.hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b));return b=1-1/255*Math.max(r,Math.max(g,b)),[h,100*w,100*b]},convert.rgb.cmyk=function(rgb){const r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,k=Math.min(1-r,1-g,1-b);return[100*((1-r-k)/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-b-k)/(1-k)||0),100*k]},convert.rgb.keyword=function(rgb){const reversed=reverseKeywords[rgb];if(reversed)return reversed;let currentClosestKeyword,currentClosestDistance=1/0;for(const keyword of Object.keys(cssKeywords)){const value=cssKeywords[keyword],distance=(y=value,((x=rgb)[0]-y[0])**2+(x[1]-y[1])**2+(x[2]-y[2])**2);distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}var x,y;return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){let r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,g=g>.04045?((g+.055)/1.055)**2.4:g/12.92,b=b>.04045?((b+.055)/1.055)**2.4:b/12.92;return[100*(.4124*r+.3576*g+.1805*b),100*(.2126*r+.7152*g+.0722*b),100*(.0193*r+.1192*g+.9505*b)]},convert.rgb.lab=function(rgb){const xyz=convert.rgb.xyz(rgb);let x=xyz[0],y=xyz[1],z=xyz[2];x/=95.047,y/=100,z/=108.883,x=x>.008856?x**(1/3):7.787*x+16/116,y=y>.008856?y**(1/3):7.787*y+16/116,z=z>.008856?z**(1/3):7.787*z+16/116;return[116*y-16,500*(x-y),200*(y-z)]},convert.hsl.rgb=function(hsl){const h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;let t2,t3,val;if(0===s)return val=255*l,[val,val,val];t2=l<.5?l*(1+s):l+s-l*s;const t1=2*l-t2,rgb=[0,0,0];for(let i=0;i<3;i++)t3=h+1/3*-(i-1),t3<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){const h=hsl[0];let s=hsl[1]/100,l=hsl[2]/100,smin=s;const lmin=Math.max(l,.01);l*=2,s*=l<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin;return[h,100*(0===l?2*smin/(lmin+smin):2*s/(l+s)),100*((l+s)/2)]},convert.hsv.rgb=function(hsv){const h=hsv[0]/60,s=hsv[1]/100;let v=hsv[2]/100;const hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){const h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);let sl,l;l=(2-s)*v;const lmin=(2-s)*vmin;return sl=s*vmin,sl/=lmin<=1?lmin:2-lmin,sl=sl||0,l/=2,[h,100*sl,100*l]},convert.hwb.rgb=function(hwb){const h=hwb[0]/360;let wh=hwb[1]/100,bl=hwb[2]/100;const ratio=wh+bl;let f;ratio>1&&(wh/=ratio,bl/=ratio);const i=Math.floor(6*h),v=1-bl;f=6*h-i,0!=(1&i)&&(f=1-f);const n=wh+f*(v-wh);let r,g,b;switch(i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){const c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return[255*(1-Math.min(1,c*(1-k)+k)),255*(1-Math.min(1,m*(1-k)+k)),255*(1-Math.min(1,y*(1-k)+k))]},convert.xyz.rgb=function(xyz){const x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;let r,g,b;return r=3.2406*x+-1.5372*y+-.4986*z,g=-.9689*x+1.8758*y+.0415*z,b=.0557*x+-.204*y+1.057*z,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,g=g>.0031308?1.055*g**(1/2.4)-.055:12.92*g,b=b>.0031308?1.055*b**(1/2.4)-.055:12.92*b,r=Math.min(Math.max(0,r),1),g=Math.min(Math.max(0,g),1),b=Math.min(Math.max(0,b),1),[255*r,255*g,255*b]},convert.xyz.lab=function(xyz){let x=xyz[0],y=xyz[1],z=xyz[2];x/=95.047,y/=100,z/=108.883,x=x>.008856?x**(1/3):7.787*x+16/116,y=y>.008856?y**(1/3):7.787*y+16/116,z=z>.008856?z**(1/3):7.787*z+16/116;return[116*y-16,500*(x-y),200*(y-z)]},convert.lab.xyz=function(lab){let x,y,z;y=(lab[0]+16)/116,x=lab[1]/500+y,z=y-lab[2]/200;const y2=y**3,x2=x**3,z2=z**3;return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,x*=95.047,y*=100,z*=108.883,[x,y,z]},convert.lab.lch=function(lab){const l=lab[0],a=lab[1],b=lab[2];let h;h=360*Math.atan2(b,a)/2/Math.PI,h<0&&(h+=360);return[l,Math.sqrt(a*a+b*b),h]},convert.lch.lab=function(lch){const l=lch[0],c=lch[1],hr=lch[2]/360*2*Math.PI;return[l,c*Math.cos(hr),c*Math.sin(hr)]},convert.rgb.ansi16=function(args,saturation=null){const[r,g,b]=args;let value=null===saturation?convert.rgb.hsv(args)[2]:saturation;if(value=Math.round(value/50),0===value)return 30;let ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){const r=args[0],g=args[1],b=args[2];if(r===g&&g===b)return r<8?16:r>248?231:Math.round((r-8)/247*24)+232;return 16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},convert.ansi16.rgb=function(args){let color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),color=color/10.5*255,[color,color,color];const mult=.5*(1+~~(args>50));return[(1&color)*mult*255,(color>>1&1)*mult*255,(color>>2&1)*mult*255]},convert.ansi256.rgb=function(args){if(args>=232){const c=10*(args-232)+8;return[c,c,c]}let rem;args-=16;return[Math.floor(args/36)/5*255,Math.floor((rem=args%36)/6)/5*255,rem%6/5*255]},convert.rgb.hex=function(args){const string=(((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2]))).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){const match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match)return[0,0,0];let colorString=match[0];3===match[0].length&&(colorString=colorString.split("").map(char=>char+char).join(""));const integer=parseInt(colorString,16);return[integer>>16&255,integer>>8&255,255&integer]},convert.rgb.hcg=function(rgb){const r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;let grayscale,hue;return grayscale=chroma<1?min/(1-chroma):0,hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma,hue/=6,hue%=1,[360*hue,100*chroma,100*grayscale]},convert.hsl.hcg=function(hsl){const s=hsl[1]/100,l=hsl[2]/100,c=l<.5?2*s*l:2*s*(1-l);let f=0;return c<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){const s=hsv[1]/100,v=hsv[2]/100,c=s*v;let f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){const h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];const pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v;let mg=0;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){const c=hcg[1]/100,v=c+hcg[2]/100*(1-c);let f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){const c=hcg[1]/100,l=hcg[2]/100*(1-c)+.5*c;let s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){const c=hcg[1]/100,v=c+hcg[2]/100*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){const w=hwb[1]/100,v=1-hwb[2]/100,c=v-w;let g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]},convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]},convert.gray.hsl=function(args){return[0,0,args[0]]},convert.gray.hsv=convert.gray.hsl,convert.gray.hwb=function(gray){return[0,100,gray[0]]},convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]},convert.gray.lab=function(gray){return[gray[0],0,0]},convert.gray.hex=function(gray){const val=255&Math.round(gray[0]/100*255),string=((val<<16)+(val<<8)+val).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.rgb.gray=function(rgb){return[(rgb[0]+rgb[1]+rgb[2])/3/255*100]}},function(module,exports){module.exports=require("tty")},function(module,exports,__webpack_require__){"use strict";const{LEVELS:LEVELS,LEVEL_NAMES:LEVEL_NAMES}=__webpack_require__(46),nocolor=input=>input,plain={default:nocolor,60:nocolor,50:nocolor,40:nocolor,30:nocolor,20:nocolor,10:nocolor,message:nocolor},ctx=new(__webpack_require__(60).Instance)({level:3}),colored={default:ctx.white,60:ctx.bgRed,50:ctx.red,40:ctx.yellow,30:ctx.green,20:ctx.blue,10:ctx.grey,message:ctx.cyan};function colorizeLevel(level,colorizer){if(Number.isInteger(+level))return Object.prototype.hasOwnProperty.call(LEVELS,level)?colorizer[level](LEVELS[level]):colorizer.default(LEVELS.default);const levelNum=LEVEL_NAMES[level.toLowerCase()]||"default";return colorizer[levelNum](LEVELS[levelNum])}function plainColorizer(level){return colorizeLevel(level,plain)}function coloredColorizer(level){return colorizeLevel(level,colored)}plainColorizer.message=plain.message,coloredColorizer.message=colored.message,module.exports=function(useColors=!1){return useColors?coloredColorizer:plainColorizer}},function(module,exports,__webpack_require__){"use strict";const{version:version}=__webpack_require__(151);module.exports={version:version}},function(module,exports,__webpack_require__){var net=__webpack_require__(40),tls=__webpack_require__(153),url=__webpack_require__(32),assert=__webpack_require__(154),Agent=__webpack_require__(155),inherits=__webpack_require__(14).inherits,debug=__webpack_require__(157)("https-proxy-agent");function HttpsProxyAgent(opts){if(!(this instanceof HttpsProxyAgent))return new HttpsProxyAgent(opts);if("string"==typeof opts&&(opts=url.parse(opts)),!opts)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");debug("creating new HttpsProxyAgent instance: %o",opts),Agent.call(this,opts);var proxy=Object.assign({},opts);this.secureProxy=!!proxy.protocol&&/^https:?$/i.test(proxy.protocol),proxy.host=proxy.hostname||proxy.host,proxy.port=+proxy.port||(this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in proxy)&&(proxy.ALPNProtocols=["http 1.1"]),proxy.host&&proxy.path&&(delete proxy.path,delete proxy.pathname),this.proxy=proxy}function resume(socket){socket.resume()}module.exports=HttpsProxyAgent,inherits(HttpsProxyAgent,Agent),HttpsProxyAgent.prototype.callback=function(req,opts,fn){var socket,proxy=this.proxy;socket=this.secureProxy?tls.connect(proxy):net.connect(proxy);var buffers=[],buffersLength=0;function read(){var b=socket.read();b?function(b){buffers.push(b),buffersLength+=b.length;var buffered=Buffer.concat(buffers,buffersLength),str=buffered.toString("ascii");if(!~str.indexOf("\r\n\r\n"))return debug("have not received end of HTTP headers yet..."),void read();var firstLine=str.substring(0,str.indexOf("\r\n")),statusCode=+firstLine.split(" ")[1];if(debug("got proxy server response: %o",firstLine),200==statusCode){var sock=socket;buffers=buffered=null,opts.secureEndpoint&&(debug("upgrading proxy-connected socket to TLS connection: %o",opts.host),opts.socket=socket,opts.servername=opts.servername||opts.host,opts.host=null,opts.hostname=null,opts.port=null,sock=tls.connect(opts)),cleanup(),req.once("socket",resume),fn(null,sock)}else cleanup(),socket.destroy(),(socket=new net.Socket).readable=!0,buffers=buffered,req.once("socket",onsocket),fn(null,socket)}(b):socket.once("readable",read)}function cleanup(){socket.removeListener("end",onend),socket.removeListener("error",onerror),socket.removeListener("close",onclose),socket.removeListener("readable",read)}function onclose(err){debug("onclose had error %o",err)}function onend(){debug("onend")}function onerror(err){cleanup(),fn(err)}function onsocket(socket){debug("replaying proxy buffer for failed request"),assert(socket.listenerCount("data")>0),socket.push(buffers),buffers=null}socket.on("error",onerror),socket.on("close",onclose),socket.on("end",onend),read();var msg="CONNECT "+(opts.host+":"+opts.port)+" HTTP/1.1\r\n",headers=Object.assign({},proxy.headers);proxy.auth&&(headers["Proxy-Authorization"]="Basic "+Buffer.from(proxy.auth).toString("base64"));var port,secure,host=opts.host;port=opts.port,secure=opts.secureEndpoint,Boolean(!secure&&80===port||secure&&443===port)||(host+=":"+opts.port),headers.Host=host,headers.Connection="close",Object.keys(headers).forEach((function(name){msg+=name+": "+headers[name]+"\r\n"})),socket.write(msg+"\r\n")}},function(module,exports,__webpack_require__){module.exports=function(env){function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}function createDebug(namespace){let prevTime;function debug(...args){if(!debug.enabled)return;const self=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if("%%"===match)return match;index++;const formatter=createDebug.formatters[format];if("function"==typeof formatter){const val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),createDebug.formatArgs.call(self,args);(self.log||createDebug.log).apply(self,args)}return debug.namespace=namespace,debug.enabled=createDebug.enabled(namespace),debug.useColors=createDebug.useColors(),debug.color=selectColor(namespace),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const index=createDebug.instances.indexOf(this);return-1!==index&&(createDebug.instances.splice(index,1),!0)}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces},createDebug.enable=function(namespaces){let i;createDebug.save(namespaces),createDebug.names=[],createDebug.skips=[];const split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<createDebug.instances.length;i++){const instance=createDebug.instances[i];instance.enabled=createDebug.enabled(instance.namespace)}},createDebug.enabled=function(name){if("*"===name[name.length-1])return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=__webpack_require__(159),Object.keys(env).forEach(key=>{createDebug[key]=env[key]}),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const exception_1=__webpack_require__(37),log=__webpack_require__(11).createLogger("ls-context"),Context=new Map;class DriverMap extends Map{set(key,value){if("string"!=typeof key)throw"invalid driver name!";return key=key.toLowerCase(),log.info({place:"driver-map"},"Driver %s registered!",key),super.set(key,value)}get(key){return super.get(key.toLowerCase())}has(key){return super.has(key.toLowerCase())}delete(key){return super.delete(key.toLowerCase())}}const DriversContext=new DriverMap,LSContext=new Proxy(Context,{get(_,prop){if("clear"===prop||"delete"===prop)throw new exception_1.InvalidActionError(`Cannot ${prop} on LSContext!`);return"drivers"===prop?DriversContext:Context[prop]},set(){throw new exception_1.InvalidActionError("Cannot set values to extension context directly!")}});exports.default=LSContext},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.format=exports.getQueryParameters=exports.extractConnName=exports.formatInsertQuery=exports.cleanUp=exports.parse=void 0;const sqlFormatter_1=__importDefault(__webpack_require__(167)),parse_1=__importDefault(__webpack_require__(179));exports.parse=function(query,driver="mysql"){return parse_1.default(query,driver)},exports.cleanUp=function(query=""){return query?query.toString().replace("\t","  ").replace(/(--.*)|(((\/\*)+?[\w\W]+?(\*\/)+))/gim,"").split(/\r\n|\n/gi).map(v=>v.trim()).filter(Boolean).join(" ").trim():""},exports.formatInsertQuery=function(insertQuery,formatOptions){return format(insertQuery.substr(0,Math.max(0,insertQuery.length-2))+");",formatOptions).replace(/'\${(\d+):([\w\s]+):((int|bool|num|real)[\w\s]*)}'/gi,(_,pos,colName,type)=>`\${${pos}:${colName.trim()}:${type.trim()}}`).concat("$0")},exports.extractConnName=function(query){return((query.match(/@conn\s*(.+)$/m)||[])[1]||"").trim()||null},exports.getQueryParameters=function(query,regexStr){if(!query||!regexStr)return[];const regex=new RegExp(regexStr,"g"),paramsMap={};let match;for(;null!==(match=regex.exec(query));){const queryPart=query.substring(Math.max(0,regex.lastIndex-15),Math.min(query.length,regex.lastIndex+15)).replace(/[\r\n]/g,"").replace(/\s+/g," ").trim();paramsMap[match[0]]||(paramsMap[match[0]]={param:match[0],string:`...${queryPart}...`})}return Object.values(paramsMap)};const dollarRegex=/\$([^\s]+)/gi;function format(query,formatOptions={}){const{reservedWordCase:reservedWordCase=null,insertSpaces:insertSpaces=!0,tabSize:tabSize=2,...opts}=formatOptions;return function(query,originalQuery){return dollarRegex.test(originalQuery)?(originalQuery.match(dollarRegex)||[]).reduce((text,match)=>{const matchEscaped=match.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return text.replace(new RegExp("\\$ +"+matchEscaped.substr(2),"g"),match.replace(/\$/g,"$$$$"))},query):query}(sqlFormatter_1.default.format(query,{...opts,indent:insertSpaces?" ".repeat(tabSize):"\t",reservedWordCase:reservedWordCase}),query)}exports.format=format},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_1=__webpack_require__(19);class DecoratedException extends vscode_languageserver_1.ResponseError{constructor(error,data){super(error.code||-1,error.message,{...error.data,...data}),this.name=error.name||"DecoratedException",this.stack=error.stack}}exports.default=function(e,{conn:conn}={}){let data={};return conn&&conn.driver&&(data.driver=conn.driver,data.driverOptions={mssqlOptions:conn.mssqlOptions,mysqlOptions:conn.mysqlOptions,pgOptions:conn.pgOptions,oracleOptions:conn.oracleOptions}),new DecoratedException(e,data)}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getConnectionDescription=exports.getSessionBasename=exports.migrateConnectionSettings=exports.migrateConnectionSetting=exports.getNameFromId=exports.getConnectionId=exports.idSep=void 0;const path_1=__importDefault(__webpack_require__(8));function migrateConnectionSetting(c){return c.driver=c.driver||c.dialect,c}exports.idSep="|",exports.getConnectionId=function(c){if(!(c=migrateConnectionSetting(c)))return null;if(c.id)return c.id;const parts=[c.name,c.driver];return c.connectString?parts.push(c.connectString):parts.push(c.server,c.database),parts.join(exports.idSep).replace(/\./g,":").replace(/\//g,"\\")},exports.getNameFromId=function(id){return id?id.split(exports.idSep)[0]:null},exports.migrateConnectionSetting=migrateConnectionSetting,exports.migrateConnectionSettings=function(connections){return connections?connections.map(migrateConnectionSetting):connections},exports.getSessionBasename=function(connName){return connName+".session.sql"},exports.getConnectionDescription=function(c){return c?/workspaceFolder:/.test(c.database)||/^\.\//.test(c.database)?c.database:c.connectString?c.connectString.replace(/(.+):.+@/gi,"$1@"):[c.username,c.username?"@":"",!c.socketPath&&c.server,!c.socketPath&&c.server&&c.port?":":"",c.socketPath&&"socket:"+path_1.default.basename(c.socketPath),c.port,"/",c.database].filter(Boolean).join(""):null}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const lru_cache_1=__importDefault(__webpack_require__(191)),src_1=__webpack_require__(11);exports.default=class Cache{constructor(namespace,{maxEntries:maxEntries=50,maxAge:maxAge=864e5}){this.namespace=namespace,this.set=async(key,value,maxAge)=>(this.log.debug("SET %s",key),Promise.resolve(this.instance.set(key,value,maxAge))),this.peek=async key=>Promise.resolve(this.instance.peek(key)),this.get=async(key,getUpdatedValue)=>{const value=this.instance.get(key);if(value)return this.log.debug("HIT for %s",key),Promise.resolve(value);if(this.log.debug("MISS for %s",key),void 0===getUpdatedValue)return;const result=await Promise.resolve("function"!=typeof getUpdatedValue?getUpdatedValue:getUpdatedValue());return await this.set(key,result),result},this.del=async keysOrKeys=>{const keys=Array.isArray(keysOrKeys)?keysOrKeys:keysOrKeys?[keysOrKeys]:[];for(const key of keys)this.log.debug("DELETE  %s",key),this.instance.del(key);return!0},this.keys=()=>this.instance.keys(),this.delStartWith=async startStr=>{if(this.log.debug("DELETE keys starting with %s...",startStr),!startStr)return;const keys=this.keys();for(const key of keys)key.startsWith(startStr)&&await this.del(key);return this.log.debug("DELETE keys starting with %s completed!",startStr),!0},this.clear=async()=>(this.log.debug("CLEAR all"),Promise.resolve(this.instance.reset())),this.forceClearOld=async()=>(this.log.debug("PRUNE old"),Promise.resolve(this.instance.prune())),this.buildKey=opts=>JSON.stringify(opts),this.onDeleted=async(key,_value)=>{this.log.debug("DELETED %s",key)},this.instance=new lru_cache_1.default({max:maxEntries,maxAge:maxAge,updateAgeOnGet:!0,dispose:this.onDeleted}),this.log=src_1.createLogger("cache:"+this.namespace)}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const queryResultsCache=new(__importDefault(__webpack_require__(72)).default)("query-results",{maxAge:6e4,maxEntries:50});queryResultsCache.buildKey=({connId:connId,resultId:resultId,query:query,requestId:requestId})=>`[${connId}][${requestId||query}][${resultId||query}]`,exports.default=queryResultsCache},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DependeciesAreBeingInstalledNotification=exports.InstallDepRequest=void 0;const vscode_languageserver_protocol_1=__webpack_require__(9);exports.InstallDepRequest=new vscode_languageserver_protocol_1.RequestType("DependencyInstaller/install"),exports.DependeciesAreBeingInstalledNotification="DependencyInstaller/dependeciesAreBeingInstalledNotification"},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(26),__webpack_require__(50),__webpack_require__(12),__webpack_require__(3),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_column,_indexDefinition,_tables,_expr,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.alterToSQL=function(stmt){const{type:type,table:table,expr:expr=[]}=stmt;return[(0,_util.toUpper)(type),"TABLE",(0,_tables.tablesToSQL)(table),expr.map(_expr.exprToSQL).join(", ")].filter(_util.hasVal).join(" ")},_exports.alterExprToSQL=function(expr){const{action:action,constraint_type:constraintType,if_not_exists:ifNotExists,keyword:keyword,resource:resource}=expr,actionUpper=(0,_util.toUpper)(action),keyWordUpper=(0,_util.toUpper)(keyword),ifNotExistsUpper=(0,_util.toUpper)(ifNotExists);let name="",dataType=[];switch(resource){case"column":dataType=[(0,_column.columnDefinitionToSQL)(expr)];break;case"index":dataType=(0,_indexDefinition.indexTypeAndOptionToSQL)(expr),name=expr[resource];break;case"table":name=(0,_util.identifierToSql)(expr[resource]);break;case"algorithm":case"lock":name="= "+expr[resource];break;case"constraint":name=(0,_util.identifierToSql)(expr[resource]),dataType=[(0,_util.toUpper)(constraintType),...(0,_indexDefinition.indexTypeAndOptionToSQL)(expr)]}const alterArray=[actionUpper];return alterArray.push(keyWordUpper),alterArray.push(ifNotExistsUpper),alterArray.push(name),alterArray.push(dataType.filter(_util.hasVal).join(" ")),alterArray.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(50),__webpack_require__(26)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_indexDefinition,_column){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.constraintDefinitionToSQL=function(constraintDefinition){if(!constraintDefinition)return;const{constraint:constraint,constraint_type:constraintType,index:index,keyword:keyword,reference_definition:referenceDefinition}=constraintDefinition,constraintSQL=[];return constraintSQL.push((0,_util.toUpper)(keyword)),constraintSQL.push((0,_util.identifierToSql)(constraint)),constraintSQL.push((0,_util.toUpper)(constraintType)),constraintSQL.push((0,_util.identifierToSql)(index)),constraintSQL.push(...(0,_indexDefinition.indexTypeAndOptionToSQL)(constraintDefinition)),constraintSQL.push(...(0,_column.columnReferenceDefinitionToSQL)(referenceDefinition)),constraintSQL.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.overToSQL=function(over){if(!over)return;const{partitionby:partitionby,orderby:orderby}=over;return`OVER (${[(0,_expr.orderOrPartitionByToSQL)(partitionby,"partition by"),(0,_expr.orderOrPartitionByToSQL)(orderby,"order by")].filter(_util.hasVal).join(" ")})`}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3),__webpack_require__(4),__webpack_require__(77)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr,_util,_over){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.castToSQL=function(expr){const{target:target,expr:expression,symbol:symbol}=expr,{length:length,dataType:dataType,parentheses:parentheses,scale:scale}=target;let str="";length&&(str=scale?`${length}, ${scale}`:length),parentheses&&(str=`(${str})`);let prefix=(0,_expr.exprToSQL)(expression),symbolChar="::",suffix="";return"as"===symbol&&(prefix="CAST("+prefix,suffix=")",symbolChar=` ${symbol.toUpperCase()} `),`${prefix}${symbolChar}${dataType}${str}${suffix}`},_exports.funcToSQL=function(expr){const{args:args,name:name}=expr;if(!args)return name;const{parentheses:parentheses,over:over}=expr,str=`${name}(${(0,_expr.exprToSQL)(args).join(", ")})`;return[parentheses?`(${str})`:str,(0,_over.overToSQL)(over)].filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(12),__webpack_require__(3),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_tables,_expr,_util){"use strict";function setToSQL(sets){if(!sets||0===sets.length)return"";const clauses=[];for(const set of sets){let str="";const{table:table,column:column,value:value}=set;str=[table,column].filter(_util.hasVal).map(info=>(0,_util.identifierToSql)(info)).join("."),value&&(str=`${str} = ${(0,_expr.exprToSQL)(value)}`),clauses.push(str)}return clauses.join(", ")}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.updateToSQL=function(stmt){const{table:table,set:set,where:where,returning:returning}=stmt;return["UPDATE",(0,_tables.tablesToSQL)(table),(0,_util.commonOptionConnector)("SET",setToSQL,set),(0,_util.commonOptionConnector)("WHERE",_expr.exprToSQL,where),(0,_util.returningToSQL)(returning)].filter(_util.hasVal).join(" ")},_exports.setToSQL=setToSQL})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(g,f){const e=exports;!function(exports){const NEWER=Symbol("newer"),OLDER=Symbol("older");function LRUMap(limit,entries){"number"!=typeof limit&&(entries=limit,limit=0),this.size=0,this.limit=limit,this.oldest=this.newest=void 0,this._keymap=new Map,entries&&(this.assign(entries),limit<1&&(this.limit=this.size))}function Entry(key,value){this.key=key,this.value=value,this[NEWER]=void 0,this[OLDER]=void 0}function EntryIterator(oldestEntry){this.entry=oldestEntry}function KeyIterator(oldestEntry){this.entry=oldestEntry}function ValueIterator(oldestEntry){this.entry=oldestEntry}exports.LRUMap=LRUMap,LRUMap.prototype._markEntryAsUsed=function(entry){entry!==this.newest&&(entry[NEWER]&&(entry===this.oldest&&(this.oldest=entry[NEWER]),entry[NEWER][OLDER]=entry[OLDER]),entry[OLDER]&&(entry[OLDER][NEWER]=entry[NEWER]),entry[NEWER]=void 0,entry[OLDER]=this.newest,this.newest&&(this.newest[NEWER]=entry),this.newest=entry)},LRUMap.prototype.assign=function(entries){let entry,limit=this.limit||Number.MAX_VALUE;this._keymap.clear();let it=entries[Symbol.iterator]();for(let itv=it.next();!itv.done;itv=it.next()){let e=new Entry(itv.value[0],itv.value[1]);if(this._keymap.set(e.key,e),entry?(entry[NEWER]=e,e[OLDER]=entry):this.oldest=e,entry=e,0==limit--)throw new Error("overflow")}this.newest=entry,this.size=this._keymap.size},LRUMap.prototype.get=function(key){var entry=this._keymap.get(key);if(entry)return this._markEntryAsUsed(entry),entry.value},LRUMap.prototype.set=function(key,value){var entry=this._keymap.get(key);return entry?(entry.value=value,this._markEntryAsUsed(entry),this):(this._keymap.set(key,entry=new Entry(key,value)),this.newest?(this.newest[NEWER]=entry,entry[OLDER]=this.newest):this.oldest=entry,this.newest=entry,++this.size,this.size>this.limit&&this.shift(),this)},LRUMap.prototype.shift=function(){var entry=this.oldest;if(entry)return this.oldest[NEWER]?(this.oldest=this.oldest[NEWER],this.oldest[OLDER]=void 0):(this.oldest=void 0,this.newest=void 0),entry[NEWER]=entry[OLDER]=void 0,this._keymap.delete(entry.key),--this.size,[entry.key,entry.value]},LRUMap.prototype.find=function(key){let e=this._keymap.get(key);return e?e.value:void 0},LRUMap.prototype.has=function(key){return this._keymap.has(key)},LRUMap.prototype.delete=function(key){var entry=this._keymap.get(key);if(entry)return this._keymap.delete(entry.key),entry[NEWER]&&entry[OLDER]?(entry[OLDER][NEWER]=entry[NEWER],entry[NEWER][OLDER]=entry[OLDER]):entry[NEWER]?(entry[NEWER][OLDER]=void 0,this.oldest=entry[NEWER]):entry[OLDER]?(entry[OLDER][NEWER]=void 0,this.newest=entry[OLDER]):this.oldest=this.newest=void 0,this.size--,entry.value},LRUMap.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},EntryIterator.prototype[Symbol.iterator]=function(){return this},EntryIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:[ent.key,ent.value]}):{done:!0,value:void 0}},KeyIterator.prototype[Symbol.iterator]=function(){return this},KeyIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:ent.key}):{done:!0,value:void 0}},ValueIterator.prototype[Symbol.iterator]=function(){return this},ValueIterator.prototype.next=function(){let ent=this.entry;return ent?(this.entry=ent[NEWER],{done:!1,value:ent.value}):{done:!0,value:void 0}},LRUMap.prototype.keys=function(){return new KeyIterator(this.oldest)},LRUMap.prototype.values=function(){return new ValueIterator(this.oldest)},LRUMap.prototype.entries=function(){return this},LRUMap.prototype[Symbol.iterator]=function(){return new EntryIterator(this.oldest)},LRUMap.prototype.forEach=function(fun,thisObj){"object"!=typeof thisObj&&(thisObj=this);let entry=this.oldest;for(;entry;)fun.call(thisObj,entry.value,entry.key,this),entry=entry[NEWER]},LRUMap.prototype.toJSON=function(){for(var s=new Array(this.size),i=0,entry=this.oldest;entry;)s[i++]={key:entry.key,value:entry.value},entry=entry[NEWER];return s},LRUMap.prototype.toString=function(){for(var s="",entry=this.oldest;entry;)s+=String(entry.key)+":"+entry.value,(entry=entry[NEWER])&&(s+=" < ");return s}}(e),void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */exports.parse=function(str,options){if("string"!=typeof str)throw new TypeError("argument str must be a string");for(var obj={},opt=options||{},pairs=str.split(pairSplitRegExp),dec=opt.decode||decode,i=0;i<pairs.length;i++){var pair=pairs[i],eq_idx=pair.indexOf("=");if(!(eq_idx<0)){var key=pair.substr(0,eq_idx).trim(),val=pair.substr(++eq_idx,pair.length).trim();'"'==val[0]&&(val=val.slice(1,-1)),null==obj[key]&&(obj[key]=tryDecode(val,dec))}}return obj},exports.serialize=function(name,val,options){var opt=options||{},enc=opt.encode||encode;if("function"!=typeof enc)throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(name))throw new TypeError("argument name is invalid");var value=enc(val);if(value&&!fieldContentRegExp.test(value))throw new TypeError("argument val is invalid");var str=name+"="+value;if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge))throw new Error("maxAge should be a Number");str+="; Max-Age="+Math.floor(maxAge)}if(opt.domain){if(!fieldContentRegExp.test(opt.domain))throw new TypeError("option domain is invalid");str+="; Domain="+opt.domain}if(opt.path){if(!fieldContentRegExp.test(opt.path))throw new TypeError("option path is invalid");str+="; Path="+opt.path}if(opt.expires){if("function"!=typeof opt.expires.toUTCString)throw new TypeError("option expires is invalid");str+="; Expires="+opt.expires.toUTCString()}opt.httpOnly&&(str+="; HttpOnly");opt.secure&&(str+="; Secure");if(opt.sameSite){switch("string"==typeof opt.sameSite?opt.sameSite.toLowerCase():opt.sameSite){case!0:str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"strict":str+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return str};var decode=decodeURIComponent,encode=encodeURIComponent,pairSplitRegExp=/; */,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function tryDecode(str,decode){try{return decode(str)}catch(e){return str}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return logger}));var _misc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),global=Object(_misc__WEBPACK_IMPORTED_MODULE_0__.h)(),PREFIX="Sentry Logger ",Logger=function(){function Logger(){this._enabled=!1}return Logger.prototype.disable=function(){this._enabled=!1},Logger.prototype.enable=function(){this._enabled=!0},Logger.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.d)((function(){global.console.log(PREFIX+"[Log]: "+args.join(" "))}))},Logger.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.d)((function(){global.console.warn(PREFIX+"[Warn]: "+args.join(" "))}))},Logger.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.d)((function(){global.console.error(PREFIX+"[Error]: "+args.join(" "))}))},Logger}();global.__SENTRY__=global.__SENTRY__||{};var logger=global.__SENTRY__.logger||(global.__SENTRY__.logger=new Logger)},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),process.env.PRODUCT="ls";const server_1=__importDefault(__webpack_require__(84)),language_server_1=__importDefault(__webpack_require__(166)),language_server_2=__importDefault(__webpack_require__(180)),language_server_3=__importDefault(__webpack_require__(204));(new server_1.default).listen().registerPlugin([new language_server_1.default,new language_server_2.default,new language_server_3.default])},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const config_manager_1=__importDefault(__webpack_require__(20)),vscode_languageserver_1=__webpack_require__(19),vscode_languageserver_textdocument_1=__webpack_require__(116),exception_1=__webpack_require__(37),telemetry_1=__importDefault(__webpack_require__(29)),constants_1=__webpack_require__(41),contracts_1=__webpack_require__(164),context_1=__importDefault(__webpack_require__(68)),notifications_1=__webpack_require__(47),path_1=__webpack_require__(8),child_process_1=__webpack_require__(23),log=__webpack_require__(11).createLogger();exports.default=class SQLToolsLanguageServer{constructor(){this._docManager=new vscode_languageserver_1.TextDocuments(vscode_languageserver_textdocument_1.TextDocument),this.onInitializeHooks=[],this.onInitializedHooks=[],this.onDidChangeConfigurationHooks=[],this.onRegisterPlugin=async({path:pluginPath}={path:""})=>{log.info('request to register plugin: "%s"',pluginPath);try{let plugin=(require||__webpack_require__(165))(path_1.resolve(pluginPath));plugin=plugin.default||plugin,await this.registerPlugin(plugin),log.debug("plugin %s loaded",pluginPath)}catch(error){return log.error({error:error},"Error registering plugin: %O",error),Promise.reject(error)}},this.getContext=()=>context_1.default,this.onInitialized=params=>{telemetry_1.default.registerMessage("info","Initialized with node version:"+process.version),this.onInitializedHooks.forEach(hook=>hook(params))},this.onInitialize=(params,token,workDoneProgress,resultProgress)=>(params.initializationOptions.telemetry&&telemetry_1.default.updateOpts({...params.initializationOptions.telemetry}),params.initializationOptions.userEnvVars&&Object.keys(params.initializationOptions.userEnvVars||{}).length>0&&log.info("User defined env vars\n===============================\n%O\n===============================:",params.initializationOptions.userEnvVars),this.onInitializeHooks.reduce((opts,hook)=>{const result=hook(params,token,workDoneProgress,resultProgress);return{...result,capabilities:{...opts.capabilities,...result.capabilities}}},{capabilities:{documentFormattingProvider:!0,documentRangeFormattingProvider:!0,textDocumentSync:vscode_languageserver_1.TextDocumentSyncKind.Incremental,workspace:{workspaceFolders:{supported:!0,changeNotifications:!0}}}})),this.onDidChangeConfiguration=changes=>{config_manager_1.default.replaceAll(changes.settings[constants_1.EXT_CONFIG_NAMESPACE]),changes.settings.telemetry&&changes.settings.telemetry.enableTelemetry?telemetry_1.default.enable():telemetry_1.default.disable(),this.onDidChangeConfigurationHooks.forEach(hook=>hook())},this.onRequest=(req,handler)=>{if(!handler)throw new exception_1.InvalidActionError("Disabled registration for * handlers");return this._server.onRequest(req,async(...args)=>(log.info("REQUEST RECEIVED => %s",req._method||req.toString()),Promise.resolve(handler(...args))))},this._server=vscode_languageserver_1.createConnection(vscode_languageserver_1.ProposedFeatures.all),this._server.onInitialized(this.onInitialized),this._server.onInitialize(this.onInitialize),this._server.onDidChangeConfiguration(this.onDidChangeConfiguration),this._docManager.listen(this._server),this.setAutoStart(),this.onRequest(contracts_1.RegisterPlugin,this.onRegisterPlugin)}setAutoStart(){const nodeExit=process.exit;process.exit=code=>{const stack=new Error("stack");this.sendNotification(notifications_1.ExitCalledNotification,[code||0,stack.stack]),setTimeout(()=>nodeExit(code),500)},process.on("uncaughtException",error=>{let message;error&&(telemetry_1.default.registerException(error,{type:"uncaughtException"}),message="string"==typeof error.stack?error.stack:"string"==typeof error.message?error.message:"string"==typeof error?error:(error||"").toString()),message&&telemetry_1.default.registerMessage("error",message)})}get onDocumentFormatting(){return this._server.onDocumentFormatting}get onDocumentRangeFormatting(){return this._server.onDocumentRangeFormatting}get onCompletion(){return this._server.onCompletion}get onCompletionResolve(){return this._server.onCompletionResolve}listen(){const isNode=1===parseInt(process.env.IS_NODE_RUNTIME||"0");let version="";try{if(isNode){const{output:output}=child_process_1.spawnSync(process.execPath,["-v"]);version=output.join("")}}catch(error){}return log.info([constants_1.DISPLAY_NAME+" Server started!","===============================","Using node runtime?: "+(isNode?"yes":"no"),`ExecPath: ${process.execPath} ${version.replace(/[\r\n]/g,"").trim()}`,"==============================="].filter(Boolean).join("\n")),this._server.listen(),this}async registerPlugin(plugin){await Promise.all((Array.isArray(plugin)?plugin:[plugin].filter(Boolean)).map(p=>p.register(this)))}get sendNotification(){return this._server.sendNotification}get onNotification(){return this._server.onNotification}get sendRequest(){return this._server.sendRequest}addOnDidChangeConfigurationHooks(hook){return this.onDidChangeConfigurationHooks.push(hook),this}addOnInitializeHook(hook){return this.onInitializeHooks.push(hook),this}addOnInitializedHook(hook){return this.onInitializedHooks.push(hook),this}get server(){return this._server}get client(){return this._server.client}get docManager(){return this._docManager}notifyError(message,error){const cb=(err="")=>{telemetry_1.default.registerException(err,{message:message,languageServer:!0}),this._server.sendNotification(notifications_1.ServerErrorNotification,{err:err,message:message,errMessage:(err.message||err).toString()})};return void 0!==error?cb(error):cb}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const exception_1=__webpack_require__(37);let settings={};const onUpdateHooks=[],get=(configKey,defaultValue=null)=>{if(settings.hasOwnProperty(configKey))return settings[configKey];const keys=configKey.split(".");let setting=settings;for(const key of keys){if(!setting.hasOwnProperty(key)||void 0===setting[key])return defaultValue;setting=setting[key]}return setting},throwIfAccess=name=>()=>{throw name+" is not available. Config Manager is in read-only mode."},handlerEventAccess={affectsConfig:throwIfAccess("affectsConfig"),affectsConfiguration:throwIfAccess("affectsConfiguration")},replaceAll=newSettings=>{settings=newSettings,onUpdateHooks.forEach(cb=>cb({settings:newSettings,event:handlerEventAccess}))},addOnUpdateHook=handler=>{onUpdateHooks.push(handler)},ConfigRO=new Proxy(settings,{get(_,prop){if("replaceAll"===prop)return replaceAll;if("update"===prop)throw"update is not available. Config Manager is in read-only mode.";return"get"===prop?get:"addOnUpdateHook"===prop?addOnUpdateHook:prop in settings&&void 0!==settings[prop]?settings[prop]:void 0},set(){throw new exception_1.InvalidActionError("Cannot set settings value directly!")}});exports.default=ConfigRO},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DismissedError=void 0;const generic_1=__importDefault(__webpack_require__(21));class DismissedError extends generic_1.default{constructor(message="Dialog dismissed. This is not an error."){super(message),this.dontNotify=!0}}exports.DismissedError=DismissedError,exports.default=DismissedError},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidActionError=void 0;const generic_1=__importDefault(__webpack_require__(21));class InvalidActionError extends generic_1.default{constructor(message="Invalid Action!"){super(message)}}exports.InvalidActionError=InvalidActionError},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotFoundError=void 0;const generic_1=__importDefault(__webpack_require__(21));class NotFoundError extends generic_1.default{}exports.NotFoundError=NotFoundError,exports.default=NotFoundError},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MethodNotImplementedError=void 0;const generic_1=__importDefault(__webpack_require__(21));class MethodNotImplementedError extends generic_1.default{constructor(message="Method not implemented!"){super(message)}}exports.MethodNotImplementedError=MethodNotImplementedError,exports.default=MethodNotImplementedError},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeError=void 0;const generic_1=__importDefault(__webpack_require__(21));class SizeError extends generic_1.default{}exports.SizeError=SizeError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const is=__webpack_require__(22);var ErrorCodes;!function(ErrorCodes){ErrorCodes.ParseError=-32700,ErrorCodes.InvalidRequest=-32600,ErrorCodes.MethodNotFound=-32601,ErrorCodes.InvalidParams=-32602,ErrorCodes.InternalError=-32603,ErrorCodes.serverErrorStart=-32099,ErrorCodes.serverErrorEnd=-32e3,ErrorCodes.ServerNotInitialized=-32002,ErrorCodes.UnknownErrorCode=-32001,ErrorCodes.RequestCancelled=-32800,ErrorCodes.ContentModified=-32801,ErrorCodes.MessageWriteError=1,ErrorCodes.MessageReadError=2}(ErrorCodes=exports.ErrorCodes||(exports.ErrorCodes={}));class ResponseError extends Error{constructor(code,message,data){super(message),this.code=is.number(code)?code:ErrorCodes.UnknownErrorCode,this.data=data,Object.setPrototypeOf(this,ResponseError.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}exports.ResponseError=ResponseError;class AbstractMessageType{constructor(_method,_numberOfParams){this._method=_method,this._numberOfParams=_numberOfParams}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}exports.AbstractMessageType=AbstractMessageType;exports.RequestType0=class RequestType0 extends AbstractMessageType{constructor(method){super(method,0)}};exports.RequestType=class RequestType extends AbstractMessageType{constructor(method){super(method,1)}};exports.RequestType1=class RequestType1 extends AbstractMessageType{constructor(method){super(method,1)}};exports.RequestType2=class RequestType2 extends AbstractMessageType{constructor(method){super(method,2)}};exports.RequestType3=class RequestType3 extends AbstractMessageType{constructor(method){super(method,3)}};exports.RequestType4=class RequestType4 extends AbstractMessageType{constructor(method){super(method,4)}};exports.RequestType5=class RequestType5 extends AbstractMessageType{constructor(method){super(method,5)}};exports.RequestType6=class RequestType6 extends AbstractMessageType{constructor(method){super(method,6)}};exports.RequestType7=class RequestType7 extends AbstractMessageType{constructor(method){super(method,7)}};exports.RequestType8=class RequestType8 extends AbstractMessageType{constructor(method){super(method,8)}};exports.RequestType9=class RequestType9 extends AbstractMessageType{constructor(method){super(method,9)}};exports.NotificationType=class NotificationType extends AbstractMessageType{constructor(method){super(method,1),this._=void 0}};exports.NotificationType0=class NotificationType0 extends AbstractMessageType{constructor(method){super(method,0)}};exports.NotificationType1=class NotificationType1 extends AbstractMessageType{constructor(method){super(method,1)}};exports.NotificationType2=class NotificationType2 extends AbstractMessageType{constructor(method){super(method,2)}};exports.NotificationType3=class NotificationType3 extends AbstractMessageType{constructor(method){super(method,3)}};exports.NotificationType4=class NotificationType4 extends AbstractMessageType{constructor(method){super(method,4)}};exports.NotificationType5=class NotificationType5 extends AbstractMessageType{constructor(method){super(method,5)}};exports.NotificationType6=class NotificationType6 extends AbstractMessageType{constructor(method){super(method,6)}};exports.NotificationType7=class NotificationType7 extends AbstractMessageType{constructor(method){super(method,7)}};exports.NotificationType8=class NotificationType8 extends AbstractMessageType{constructor(method){super(method,8)}};exports.NotificationType9=class NotificationType9 extends AbstractMessageType{constructor(method){super(method,9)}},exports.isRequestMessage=function(message){let candidate=message;return candidate&&is.string(candidate.method)&&(is.string(candidate.id)||is.number(candidate.id))},exports.isNotificationMessage=function(message){let candidate=message;return candidate&&is.string(candidate.method)&&void 0===message.id},exports.isResponseMessage=function(message){let candidate=message;return candidate&&(void 0!==candidate.result||!!candidate.error)&&(is.string(candidate.id)||is.number(candidate.id)||null===candidate.id)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=__webpack_require__(28),Is=__webpack_require__(22);var CancellationToken;!function(CancellationToken){CancellationToken.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:events_1.Event.None}),CancellationToken.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:events_1.Event.None}),CancellationToken.is=function(value){let candidate=value;return candidate&&(candidate===CancellationToken.None||candidate===CancellationToken.Cancelled||Is.boolean(candidate.isCancellationRequested)&&!!candidate.onCancellationRequested)}}(CancellationToken=exports.CancellationToken||(exports.CancellationToken={}));const shortcutEvent=Object.freeze((function(callback,context){let handle=setTimeout(callback.bind(context),0);return{dispose(){clearTimeout(handle)}}}));class MutableToken{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?shortcutEvent:(this._emitter||(this._emitter=new events_1.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}exports.CancellationTokenSource=class CancellationTokenSource{get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token.cancel():this._token=CancellationToken.Cancelled}dispose(){this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=CancellationToken.None}}},function(module,exports,__webpack_require__){"use strict";var Touch;Object.defineProperty(exports,"__esModule",{value:!0}),function(Touch){Touch.None=0,Touch.First=1,Touch.Last=2}(Touch=exports.Touch||(exports.Touch={}));exports.LinkedMap=class LinkedMap{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(key){return this._map.has(key)}get(key){const item=this._map.get(key);if(item)return item.value}set(key,value,touch=Touch.None){let item=this._map.get(key);if(item)item.value=value,touch!==Touch.None&&this.touch(item,touch);else{switch(item={key:key,value:value,next:void 0,previous:void 0},touch){case Touch.None:this.addItemLast(item);break;case Touch.First:this.addItemFirst(item);break;case Touch.Last:default:this.addItemLast(item)}this._map.set(key,item),this._size++}}delete(key){const item=this._map.get(key);return!!item&&(this._map.delete(key),this.removeItem(item),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const item=this._head;return this._map.delete(item.key),this.removeItem(item),this._size--,item.value}forEach(callbackfn,thisArg){let current=this._head;for(;current;)thisArg?callbackfn.bind(thisArg)(current.value,current.key,this):callbackfn(current.value,current.key,this),current=current.next}forEachReverse(callbackfn,thisArg){let current=this._tail;for(;current;)thisArg?callbackfn.bind(thisArg)(current.value,current.key,this):callbackfn(current.value,current.key,this),current=current.previous}values(){let result=[],current=this._head;for(;current;)result.push(current.value),current=current.next;return result}keys(){let result=[],current=this._head;for(;current;)result.push(current.key),current=current.next;return result}addItemFirst(item){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");item.next=this._head,this._head.previous=item}else this._tail=item;this._head=item}addItemLast(item){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");item.previous=this._tail,this._tail.next=item}else this._head=item;this._tail=item}removeItem(item){if(item===this._head&&item===this._tail)this._head=void 0,this._tail=void 0;else if(item===this._head)this._head=item.next;else if(item===this._tail)this._tail=item.previous;else{const next=item.next,previous=item.previous;if(!next||!previous)throw new Error("Invalid list");next.previous=previous,previous.next=next}}touch(item,touch){if(!this._head||!this._tail)throw new Error("Invalid list");if(touch===Touch.First||touch===Touch.Last)if(touch===Touch.First){if(item===this._head)return;const next=item.next,previous=item.previous;item===this._tail?(previous.next=void 0,this._tail=previous):(next.previous=previous,previous.next=next),item.previous=void 0,item.next=this._head,this._head.previous=item,this._head=item}else if(touch===Touch.Last){if(item===this._tail)return;const next=item.next,previous=item.previous;item===this._head?(next.previous=void 0,this._head=next):(next.previous=previous,previous.next=next),item.next=void 0,item.previous=this._tail,this._tail.next=item,this._tail=item}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__webpack_require__(8),os_1=__webpack_require__(13),crypto_1=__webpack_require__(15),net_1=__webpack_require__(40),messageReader_1=__webpack_require__(38),messageWriter_1=__webpack_require__(39);exports.generateRandomPipeName=function(){const randomSuffix=crypto_1.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${randomSuffix}-sock`:path_1.join(os_1.tmpdir(),`vscode-${randomSuffix}.sock`)},exports.createClientPipeTransport=function(pipeName,encoding="utf-8"){let connectResolve,connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{let server=net_1.createServer(socket=>{server.close(),connectResolve([new messageReader_1.SocketMessageReader(socket,encoding),new messageWriter_1.SocketMessageWriter(socket,encoding)])});server.on("error",reject),server.listen(pipeName,()=>{server.removeListener("error",reject),resolve({onConnected:()=>connected})})})},exports.createServerPipeTransport=function(pipeName,encoding="utf-8"){const socket=net_1.createConnection(pipeName);return[new messageReader_1.SocketMessageReader(socket,encoding),new messageWriter_1.SocketMessageWriter(socket,encoding)]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const net_1=__webpack_require__(40),messageReader_1=__webpack_require__(38),messageWriter_1=__webpack_require__(39);exports.createClientSocketTransport=function(port,encoding="utf-8"){let connectResolve,connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{let server=net_1.createServer(socket=>{server.close(),connectResolve([new messageReader_1.SocketMessageReader(socket,encoding),new messageWriter_1.SocketMessageWriter(socket,encoding)])});server.on("error",reject),server.listen(port,"127.0.0.1",()=>{server.removeListener("error",reject),resolve({onConnected:()=>connected})})})},exports.createServerSocketTransport=function(port,encoding="utf-8"){const socket=net_1.createConnection(port,"127.0.0.1");return[new messageReader_1.SocketMessageReader(socket,encoding),new messageWriter_1.SocketMessageWriter(socket,encoding)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";var Position,Range,Location,LocationLink,Color,ColorInformation,ColorPresentation,FoldingRangeKind,FoldingRange,DiagnosticRelatedInformation,DiagnosticSeverity,DiagnosticTag,Diagnostic,Command,TextEdit,TextDocumentEdit,CreateFile,RenameFile,DeleteFile,WorkspaceEdit;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Position",(function(){return Position})),__webpack_require__.d(__webpack_exports__,"Range",(function(){return Range})),__webpack_require__.d(__webpack_exports__,"Location",(function(){return Location})),__webpack_require__.d(__webpack_exports__,"LocationLink",(function(){return LocationLink})),__webpack_require__.d(__webpack_exports__,"Color",(function(){return Color})),__webpack_require__.d(__webpack_exports__,"ColorInformation",(function(){return ColorInformation})),__webpack_require__.d(__webpack_exports__,"ColorPresentation",(function(){return ColorPresentation})),__webpack_require__.d(__webpack_exports__,"FoldingRangeKind",(function(){return FoldingRangeKind})),__webpack_require__.d(__webpack_exports__,"FoldingRange",(function(){return FoldingRange})),__webpack_require__.d(__webpack_exports__,"DiagnosticRelatedInformation",(function(){return DiagnosticRelatedInformation})),__webpack_require__.d(__webpack_exports__,"DiagnosticSeverity",(function(){return DiagnosticSeverity})),__webpack_require__.d(__webpack_exports__,"DiagnosticTag",(function(){return DiagnosticTag})),__webpack_require__.d(__webpack_exports__,"Diagnostic",(function(){return Diagnostic})),__webpack_require__.d(__webpack_exports__,"Command",(function(){return Command})),__webpack_require__.d(__webpack_exports__,"TextEdit",(function(){return TextEdit})),__webpack_require__.d(__webpack_exports__,"TextDocumentEdit",(function(){return TextDocumentEdit})),__webpack_require__.d(__webpack_exports__,"CreateFile",(function(){return CreateFile})),__webpack_require__.d(__webpack_exports__,"RenameFile",(function(){return RenameFile})),__webpack_require__.d(__webpack_exports__,"DeleteFile",(function(){return DeleteFile})),__webpack_require__.d(__webpack_exports__,"WorkspaceEdit",(function(){return WorkspaceEdit})),__webpack_require__.d(__webpack_exports__,"WorkspaceChange",(function(){return WorkspaceChange})),__webpack_require__.d(__webpack_exports__,"TextDocumentIdentifier",(function(){return TextDocumentIdentifier})),__webpack_require__.d(__webpack_exports__,"VersionedTextDocumentIdentifier",(function(){return VersionedTextDocumentIdentifier})),__webpack_require__.d(__webpack_exports__,"TextDocumentItem",(function(){return TextDocumentItem})),__webpack_require__.d(__webpack_exports__,"MarkupKind",(function(){return MarkupKind})),__webpack_require__.d(__webpack_exports__,"MarkupContent",(function(){return MarkupContent})),__webpack_require__.d(__webpack_exports__,"CompletionItemKind",(function(){return CompletionItemKind})),__webpack_require__.d(__webpack_exports__,"InsertTextFormat",(function(){return InsertTextFormat})),__webpack_require__.d(__webpack_exports__,"CompletionItemTag",(function(){return CompletionItemTag})),__webpack_require__.d(__webpack_exports__,"CompletionItem",(function(){return CompletionItem})),__webpack_require__.d(__webpack_exports__,"CompletionList",(function(){return CompletionList})),__webpack_require__.d(__webpack_exports__,"MarkedString",(function(){return MarkedString})),__webpack_require__.d(__webpack_exports__,"Hover",(function(){return Hover})),__webpack_require__.d(__webpack_exports__,"ParameterInformation",(function(){return ParameterInformation})),__webpack_require__.d(__webpack_exports__,"SignatureInformation",(function(){return SignatureInformation})),__webpack_require__.d(__webpack_exports__,"DocumentHighlightKind",(function(){return DocumentHighlightKind})),__webpack_require__.d(__webpack_exports__,"DocumentHighlight",(function(){return DocumentHighlight})),__webpack_require__.d(__webpack_exports__,"SymbolKind",(function(){return SymbolKind})),__webpack_require__.d(__webpack_exports__,"SymbolTag",(function(){return SymbolTag})),__webpack_require__.d(__webpack_exports__,"SymbolInformation",(function(){return SymbolInformation})),__webpack_require__.d(__webpack_exports__,"DocumentSymbol",(function(){return DocumentSymbol})),__webpack_require__.d(__webpack_exports__,"CodeActionKind",(function(){return CodeActionKind})),__webpack_require__.d(__webpack_exports__,"CodeActionContext",(function(){return CodeActionContext})),__webpack_require__.d(__webpack_exports__,"CodeAction",(function(){return CodeAction})),__webpack_require__.d(__webpack_exports__,"CodeLens",(function(){return CodeLens})),__webpack_require__.d(__webpack_exports__,"FormattingOptions",(function(){return FormattingOptions})),__webpack_require__.d(__webpack_exports__,"DocumentLink",(function(){return DocumentLink})),__webpack_require__.d(__webpack_exports__,"SelectionRange",(function(){return SelectionRange})),__webpack_require__.d(__webpack_exports__,"EOL",(function(){return EOL})),__webpack_require__.d(__webpack_exports__,"TextDocument",(function(){return TextDocument})),function(Position){Position.create=function(line,character){return{line:line,character:character}},Position.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.number(candidate.line)&&Is.number(candidate.character)}}(Position||(Position={})),function(Range){Range.create=function(one,two,three,four){if(Is.number(one)&&Is.number(two)&&Is.number(three)&&Is.number(four))return{start:Position.create(one,two),end:Position.create(three,four)};if(Position.is(one)&&Position.is(two))return{start:one,end:two};throw new Error("Range#create called with invalid arguments["+one+", "+two+", "+three+", "+four+"]")},Range.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Position.is(candidate.start)&&Position.is(candidate.end)}}(Range||(Range={})),function(Location){Location.create=function(uri,range){return{uri:uri,range:range}},Location.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.string(candidate.uri)||Is.undefined(candidate.uri))}}(Location||(Location={})),function(LocationLink){LocationLink.create=function(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri:targetUri,targetRange:targetRange,targetSelectionRange:targetSelectionRange,originSelectionRange:originSelectionRange}},LocationLink.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.targetRange)&&Is.string(candidate.targetUri)&&(Range.is(candidate.targetSelectionRange)||Is.undefined(candidate.targetSelectionRange))&&(Range.is(candidate.originSelectionRange)||Is.undefined(candidate.originSelectionRange))}}(LocationLink||(LocationLink={})),function(Color){Color.create=function(red,green,blue,alpha){return{red:red,green:green,blue:blue,alpha:alpha}},Color.is=function(value){var candidate=value;return Is.number(candidate.red)&&Is.number(candidate.green)&&Is.number(candidate.blue)&&Is.number(candidate.alpha)}}(Color||(Color={})),function(ColorInformation){ColorInformation.create=function(range,color){return{range:range,color:color}},ColorInformation.is=function(value){var candidate=value;return Range.is(candidate.range)&&Color.is(candidate.color)}}(ColorInformation||(ColorInformation={})),function(ColorPresentation){ColorPresentation.create=function(label,textEdit,additionalTextEdits){return{label:label,textEdit:textEdit,additionalTextEdits:additionalTextEdits}},ColorPresentation.is=function(value){var candidate=value;return Is.string(candidate.label)&&(Is.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is.undefined(candidate.additionalTextEdits)||Is.typedArray(candidate.additionalTextEdits,TextEdit.is))}}(ColorPresentation||(ColorPresentation={})),function(FoldingRangeKind){FoldingRangeKind.Comment="comment",FoldingRangeKind.Imports="imports",FoldingRangeKind.Region="region"}(FoldingRangeKind||(FoldingRangeKind={})),function(FoldingRange){FoldingRange.create=function(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine:startLine,endLine:endLine};return Is.defined(startCharacter)&&(result.startCharacter=startCharacter),Is.defined(endCharacter)&&(result.endCharacter=endCharacter),Is.defined(kind)&&(result.kind=kind),result},FoldingRange.is=function(value){var candidate=value;return Is.number(candidate.startLine)&&Is.number(candidate.startLine)&&(Is.undefined(candidate.startCharacter)||Is.number(candidate.startCharacter))&&(Is.undefined(candidate.endCharacter)||Is.number(candidate.endCharacter))&&(Is.undefined(candidate.kind)||Is.string(candidate.kind))}}(FoldingRange||(FoldingRange={})),function(DiagnosticRelatedInformation){DiagnosticRelatedInformation.create=function(location,message){return{location:location,message:message}},DiagnosticRelatedInformation.is=function(value){var candidate=value;return Is.defined(candidate)&&Location.is(candidate.location)&&Is.string(candidate.message)}}(DiagnosticRelatedInformation||(DiagnosticRelatedInformation={})),function(DiagnosticSeverity){DiagnosticSeverity.Error=1,DiagnosticSeverity.Warning=2,DiagnosticSeverity.Information=3,DiagnosticSeverity.Hint=4}(DiagnosticSeverity||(DiagnosticSeverity={})),function(DiagnosticTag){DiagnosticTag.Unnecessary=1,DiagnosticTag.Deprecated=2}(DiagnosticTag||(DiagnosticTag={})),function(Diagnostic){Diagnostic.create=function(range,message,severity,code,source,relatedInformation){var result={range:range,message:message};return Is.defined(severity)&&(result.severity=severity),Is.defined(code)&&(result.code=code),Is.defined(source)&&(result.source=source),Is.defined(relatedInformation)&&(result.relatedInformation=relatedInformation),result},Diagnostic.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&Is.string(candidate.message)&&(Is.number(candidate.severity)||Is.undefined(candidate.severity))&&(Is.number(candidate.code)||Is.string(candidate.code)||Is.undefined(candidate.code))&&(Is.string(candidate.source)||Is.undefined(candidate.source))&&(Is.undefined(candidate.relatedInformation)||Is.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is))}}(Diagnostic||(Diagnostic={})),function(Command){Command.create=function(title,command){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var result={title:title,command:command};return Is.defined(args)&&args.length>0&&(result.arguments=args),result},Command.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.title)&&Is.string(candidate.command)}}(Command||(Command={})),function(TextEdit){TextEdit.replace=function(range,newText){return{range:range,newText:newText}},TextEdit.insert=function(position,newText){return{range:{start:position,end:position},newText:newText}},TextEdit.del=function(range){return{range:range,newText:""}},TextEdit.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.newText)&&Range.is(candidate.range)}}(TextEdit||(TextEdit={})),function(TextDocumentEdit){TextDocumentEdit.create=function(textDocument,edits){return{textDocument:textDocument,edits:edits}},TextDocumentEdit.is=function(value){var candidate=value;return Is.defined(candidate)&&VersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits)}}(TextDocumentEdit||(TextDocumentEdit={})),function(CreateFile){CreateFile.create=function(uri,options){var result={kind:"create",uri:uri};return void 0===options||void 0===options.overwrite&&void 0===options.ignoreIfExists||(result.options=options),result},CreateFile.is=function(value){var candidate=value;return candidate&&"create"===candidate.kind&&Is.string(candidate.uri)&&(void 0===candidate.options||(void 0===candidate.options.overwrite||Is.boolean(candidate.options.overwrite))&&(void 0===candidate.options.ignoreIfExists||Is.boolean(candidate.options.ignoreIfExists)))}}(CreateFile||(CreateFile={})),function(RenameFile){RenameFile.create=function(oldUri,newUri,options){var result={kind:"rename",oldUri:oldUri,newUri:newUri};return void 0===options||void 0===options.overwrite&&void 0===options.ignoreIfExists||(result.options=options),result},RenameFile.is=function(value){var candidate=value;return candidate&&"rename"===candidate.kind&&Is.string(candidate.oldUri)&&Is.string(candidate.newUri)&&(void 0===candidate.options||(void 0===candidate.options.overwrite||Is.boolean(candidate.options.overwrite))&&(void 0===candidate.options.ignoreIfExists||Is.boolean(candidate.options.ignoreIfExists)))}}(RenameFile||(RenameFile={})),function(DeleteFile){DeleteFile.create=function(uri,options){var result={kind:"delete",uri:uri};return void 0===options||void 0===options.recursive&&void 0===options.ignoreIfNotExists||(result.options=options),result},DeleteFile.is=function(value){var candidate=value;return candidate&&"delete"===candidate.kind&&Is.string(candidate.uri)&&(void 0===candidate.options||(void 0===candidate.options.recursive||Is.boolean(candidate.options.recursive))&&(void 0===candidate.options.ignoreIfNotExists||Is.boolean(candidate.options.ignoreIfNotExists)))}}(DeleteFile||(DeleteFile={})),function(WorkspaceEdit){WorkspaceEdit.is=function(value){var candidate=value;return candidate&&(void 0!==candidate.changes||void 0!==candidate.documentChanges)&&(void 0===candidate.documentChanges||candidate.documentChanges.every((function(change){return Is.string(change.kind)?CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change):TextDocumentEdit.is(change)})))}}(WorkspaceEdit||(WorkspaceEdit={}));var TextDocumentIdentifier,VersionedTextDocumentIdentifier,TextDocumentItem,MarkupKind,MarkupContent,CompletionItemKind,InsertTextFormat,CompletionItemTag,CompletionItem,CompletionList,MarkedString,Hover,ParameterInformation,SignatureInformation,DocumentHighlightKind,DocumentHighlight,SymbolKind,SymbolTag,SymbolInformation,DocumentSymbol,CodeActionKind,CodeActionContext,CodeAction,CodeLens,FormattingOptions,DocumentLink,SelectionRange,TextEditChangeImpl=function(){function TextEditChangeImpl(edits){this.edits=edits}return TextEditChangeImpl.prototype.insert=function(position,newText){this.edits.push(TextEdit.insert(position,newText))},TextEditChangeImpl.prototype.replace=function(range,newText){this.edits.push(TextEdit.replace(range,newText))},TextEditChangeImpl.prototype.delete=function(range){this.edits.push(TextEdit.del(range))},TextEditChangeImpl.prototype.add=function(edit){this.edits.push(edit)},TextEditChangeImpl.prototype.all=function(){return this.edits},TextEditChangeImpl.prototype.clear=function(){this.edits.splice(0,this.edits.length)},TextEditChangeImpl}(),WorkspaceChange=function(){function WorkspaceChange(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null),workspaceEdit&&(this._workspaceEdit=workspaceEdit,workspaceEdit.documentChanges?workspaceEdit.documentChanges.forEach((function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits);_this._textEditChanges[change.textDocument.uri]=textEditChange}})):workspaceEdit.changes&&Object.keys(workspaceEdit.changes).forEach((function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange})))}return Object.defineProperty(WorkspaceChange.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),WorkspaceChange.prototype.getTextEditChange=function(key){if(VersionedTextDocumentIdentifier.is(key)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var textDocument=key;if(!(result=this._textEditChanges[textDocument.uri])){var textDocumentEdit={textDocument:textDocument,edits:edits=[]};this._workspaceEdit.documentChanges.push(textDocumentEdit),result=new TextEditChangeImpl(edits),this._textEditChanges[textDocument.uri]=result}return result}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var result;if(!(result=this._textEditChanges[key])){var edits=[];this._workspaceEdit.changes[key]=edits,result=new TextEditChangeImpl(edits),this._textEditChanges[key]=result}return result},WorkspaceChange.prototype.createFile=function(uri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(CreateFile.create(uri,options))},WorkspaceChange.prototype.renameFile=function(oldUri,newUri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri,newUri,options))},WorkspaceChange.prototype.deleteFile=function(uri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(DeleteFile.create(uri,options))},WorkspaceChange.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},WorkspaceChange}();!function(TextDocumentIdentifier){TextDocumentIdentifier.create=function(uri){return{uri:uri}},TextDocumentIdentifier.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)}}(TextDocumentIdentifier||(TextDocumentIdentifier={})),function(VersionedTextDocumentIdentifier){VersionedTextDocumentIdentifier.create=function(uri,version){return{uri:uri,version:version}},VersionedTextDocumentIdentifier.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(null===candidate.version||Is.number(candidate.version))}}(VersionedTextDocumentIdentifier||(VersionedTextDocumentIdentifier={})),function(TextDocumentItem){TextDocumentItem.create=function(uri,languageId,version,text){return{uri:uri,languageId:languageId,version:version,text:text}},TextDocumentItem.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.string(candidate.languageId)&&Is.number(candidate.version)&&Is.string(candidate.text)}}(TextDocumentItem||(TextDocumentItem={})),function(MarkupKind){MarkupKind.PlainText="plaintext",MarkupKind.Markdown="markdown"}(MarkupKind||(MarkupKind={})),function(MarkupKind){MarkupKind.is=function(value){var candidate=value;return candidate===MarkupKind.PlainText||candidate===MarkupKind.Markdown}}(MarkupKind||(MarkupKind={})),function(MarkupContent){MarkupContent.is=function(value){var candidate=value;return Is.objectLiteral(value)&&MarkupKind.is(candidate.kind)&&Is.string(candidate.value)}}(MarkupContent||(MarkupContent={})),function(CompletionItemKind){CompletionItemKind.Text=1,CompletionItemKind.Method=2,CompletionItemKind.Function=3,CompletionItemKind.Constructor=4,CompletionItemKind.Field=5,CompletionItemKind.Variable=6,CompletionItemKind.Class=7,CompletionItemKind.Interface=8,CompletionItemKind.Module=9,CompletionItemKind.Property=10,CompletionItemKind.Unit=11,CompletionItemKind.Value=12,CompletionItemKind.Enum=13,CompletionItemKind.Keyword=14,CompletionItemKind.Snippet=15,CompletionItemKind.Color=16,CompletionItemKind.File=17,CompletionItemKind.Reference=18,CompletionItemKind.Folder=19,CompletionItemKind.EnumMember=20,CompletionItemKind.Constant=21,CompletionItemKind.Struct=22,CompletionItemKind.Event=23,CompletionItemKind.Operator=24,CompletionItemKind.TypeParameter=25}(CompletionItemKind||(CompletionItemKind={})),function(InsertTextFormat){InsertTextFormat.PlainText=1,InsertTextFormat.Snippet=2}(InsertTextFormat||(InsertTextFormat={})),function(CompletionItemTag){CompletionItemTag.Deprecated=1}(CompletionItemTag||(CompletionItemTag={})),function(CompletionItem){CompletionItem.create=function(label){return{label:label}}}(CompletionItem||(CompletionItem={})),function(CompletionList){CompletionList.create=function(items,isIncomplete){return{items:items||[],isIncomplete:!!isIncomplete}}}(CompletionList||(CompletionList={})),function(MarkedString){MarkedString.fromPlainText=function(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},MarkedString.is=function(value){var candidate=value;return Is.string(candidate)||Is.objectLiteral(candidate)&&Is.string(candidate.language)&&Is.string(candidate.value)}}(MarkedString||(MarkedString={})),function(Hover){Hover.is=function(value){var candidate=value;return!!candidate&&Is.objectLiteral(candidate)&&(MarkupContent.is(candidate.contents)||MarkedString.is(candidate.contents)||Is.typedArray(candidate.contents,MarkedString.is))&&(void 0===value.range||Range.is(value.range))}}(Hover||(Hover={})),function(ParameterInformation){ParameterInformation.create=function(label,documentation){return documentation?{label:label,documentation:documentation}:{label:label}}}(ParameterInformation||(ParameterInformation={})),function(SignatureInformation){SignatureInformation.create=function(label,documentation){for(var parameters=[],_i=2;_i<arguments.length;_i++)parameters[_i-2]=arguments[_i];var result={label:label};return Is.defined(documentation)&&(result.documentation=documentation),Is.defined(parameters)?result.parameters=parameters:result.parameters=[],result}}(SignatureInformation||(SignatureInformation={})),function(DocumentHighlightKind){DocumentHighlightKind.Text=1,DocumentHighlightKind.Read=2,DocumentHighlightKind.Write=3}(DocumentHighlightKind||(DocumentHighlightKind={})),function(DocumentHighlight){DocumentHighlight.create=function(range,kind){var result={range:range};return Is.number(kind)&&(result.kind=kind),result}}(DocumentHighlight||(DocumentHighlight={})),function(SymbolKind){SymbolKind.File=1,SymbolKind.Module=2,SymbolKind.Namespace=3,SymbolKind.Package=4,SymbolKind.Class=5,SymbolKind.Method=6,SymbolKind.Property=7,SymbolKind.Field=8,SymbolKind.Constructor=9,SymbolKind.Enum=10,SymbolKind.Interface=11,SymbolKind.Function=12,SymbolKind.Variable=13,SymbolKind.Constant=14,SymbolKind.String=15,SymbolKind.Number=16,SymbolKind.Boolean=17,SymbolKind.Array=18,SymbolKind.Object=19,SymbolKind.Key=20,SymbolKind.Null=21,SymbolKind.EnumMember=22,SymbolKind.Struct=23,SymbolKind.Event=24,SymbolKind.Operator=25,SymbolKind.TypeParameter=26}(SymbolKind||(SymbolKind={})),function(SymbolTag){SymbolTag.Deprecated=1}(SymbolTag||(SymbolTag={})),function(SymbolInformation){SymbolInformation.create=function(name,kind,range,uri,containerName){var result={name:name,kind:kind,location:{uri:uri,range:range}};return containerName&&(result.containerName=containerName),result}}(SymbolInformation||(SymbolInformation={})),function(DocumentSymbol){DocumentSymbol.create=function(name,detail,kind,range,selectionRange,children){var result={name:name,detail:detail,kind:kind,range:range,selectionRange:selectionRange};return void 0!==children&&(result.children=children),result},DocumentSymbol.is=function(value){var candidate=value;return candidate&&Is.string(candidate.name)&&Is.number(candidate.kind)&&Range.is(candidate.range)&&Range.is(candidate.selectionRange)&&(void 0===candidate.detail||Is.string(candidate.detail))&&(void 0===candidate.deprecated||Is.boolean(candidate.deprecated))&&(void 0===candidate.children||Array.isArray(candidate.children))}}(DocumentSymbol||(DocumentSymbol={})),function(CodeActionKind){CodeActionKind.Empty="",CodeActionKind.QuickFix="quickfix",CodeActionKind.Refactor="refactor",CodeActionKind.RefactorExtract="refactor.extract",CodeActionKind.RefactorInline="refactor.inline",CodeActionKind.RefactorRewrite="refactor.rewrite",CodeActionKind.Source="source",CodeActionKind.SourceOrganizeImports="source.organizeImports",CodeActionKind.SourceFixAll="source.fixAll"}(CodeActionKind||(CodeActionKind={})),function(CodeActionContext){CodeActionContext.create=function(diagnostics,only){var result={diagnostics:diagnostics};return null!=only&&(result.only=only),result},CodeActionContext.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.typedArray(candidate.diagnostics,Diagnostic.is)&&(void 0===candidate.only||Is.typedArray(candidate.only,Is.string))}}(CodeActionContext||(CodeActionContext={})),function(CodeAction){CodeAction.create=function(title,commandOrEdit,kind){var result={title:title};return Command.is(commandOrEdit)?result.command=commandOrEdit:result.edit=commandOrEdit,void 0!==kind&&(result.kind=kind),result},CodeAction.is=function(value){var candidate=value;return candidate&&Is.string(candidate.title)&&(void 0===candidate.diagnostics||Is.typedArray(candidate.diagnostics,Diagnostic.is))&&(void 0===candidate.kind||Is.string(candidate.kind))&&(void 0!==candidate.edit||void 0!==candidate.command)&&(void 0===candidate.command||Command.is(candidate.command))&&(void 0===candidate.isPreferred||Is.boolean(candidate.isPreferred))&&(void 0===candidate.edit||WorkspaceEdit.is(candidate.edit))}}(CodeAction||(CodeAction={})),function(CodeLens){CodeLens.create=function(range,data){var result={range:range};return Is.defined(data)&&(result.data=data),result},CodeLens.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.command)||Command.is(candidate.command))}}(CodeLens||(CodeLens={})),function(FormattingOptions){FormattingOptions.create=function(tabSize,insertSpaces){return{tabSize:tabSize,insertSpaces:insertSpaces}},FormattingOptions.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.number(candidate.tabSize)&&Is.boolean(candidate.insertSpaces)}}(FormattingOptions||(FormattingOptions={})),function(DocumentLink){DocumentLink.create=function(range,target,data){return{range:range,target:target,data:data}},DocumentLink.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.target)||Is.string(candidate.target))}}(DocumentLink||(DocumentLink={})),function(SelectionRange){SelectionRange.create=function(range,parent){return{range:range,parent:parent}},SelectionRange.is=function(value){var candidate=value;return void 0!==candidate&&Range.is(candidate.range)&&(void 0===candidate.parent||SelectionRange.is(candidate.parent))}}(SelectionRange||(SelectionRange={}));var TextDocument,EOL=["\n","\r\n","\r"];!function(TextDocument){TextDocument.create=function(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)},TextDocument.is=function(value){var candidate=value;return!!(Is.defined(candidate)&&Is.string(candidate.uri)&&(Is.undefined(candidate.languageId)||Is.string(candidate.languageId))&&Is.number(candidate.lineCount)&&Is.func(candidate.getText)&&Is.func(candidate.positionAt)&&Is.func(candidate.offsetAt))},TextDocument.applyEdits=function(document,edits){for(var text=document.getText(),sortedEdits=function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);var leftIdx=0,rightIdx=0,i=0;for(;leftIdx<left.length&&rightIdx<right.length;){var ret=compare(left[leftIdx],right[rightIdx]);data[i++]=ret<=0?left[leftIdx++]:right[rightIdx++]}for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}(edits,(function(a,b){var diff=a.range.start.line-b.range.start.line;return 0===diff?a.range.start.character-b.range.start.character:diff})),lastModifiedOffset=text.length,i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i],startOffset=document.offsetAt(e.range.start),endOffset=document.offsetAt(e.range.end);if(!(endOffset<=lastModifiedOffset))throw new Error("Overlapping edit");text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length),lastModifiedOffset=startOffset}return text}}(TextDocument||(TextDocument={}));var Is,FullTextDocument=function(){function FullTextDocument(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),FullTextDocument.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument.prototype.update=function(event,version){this._content=event.text,this._version=version,this._lineOffsets=void 0},FullTextDocument.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var lineOffsets=[],text=this._content,isLineStart=!0,i=0;i<text.length;i++){isLineStart&&(lineOffsets.push(i),isLineStart=!1);var ch=text.charAt(i);isLineStart="\r"===ch||"\n"===ch,"\r"===ch&&i+1<text.length&&"\n"===text.charAt(i+1)&&i++}isLineStart&&text.length>0&&lineOffsets.push(text.length),this._lineOffsets=lineOffsets}return this._lineOffsets},FullTextDocument.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(0===high)return Position.create(0,offset);for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return Position.create(line,offset-lineOffsets[line])},FullTextDocument.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),FullTextDocument}();!function(Is){var toString=Object.prototype.toString;Is.defined=function(value){return void 0!==value},Is.undefined=function(value){return void 0===value},Is.boolean=function(value){return!0===value||!1===value},Is.string=function(value){return"[object String]"===toString.call(value)},Is.number=function(value){return"[object Number]"===toString.call(value)},Is.func=function(value){return"[object Function]"===toString.call(value)},Is.objectLiteral=function(value){return null!==value&&"object"==typeof value},Is.typedArray=function(value,check){return Array.isArray(value)&&value.every(check)}}(Is||(Is={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Is=__webpack_require__(98),vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7),protocol_implementation_1=__webpack_require__(99);exports.ImplementationRequest=protocol_implementation_1.ImplementationRequest;const protocol_typeDefinition_1=__webpack_require__(100);exports.TypeDefinitionRequest=protocol_typeDefinition_1.TypeDefinitionRequest;const protocol_workspaceFolders_1=__webpack_require__(101);exports.WorkspaceFoldersRequest=protocol_workspaceFolders_1.WorkspaceFoldersRequest,exports.DidChangeWorkspaceFoldersNotification=protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;const protocol_configuration_1=__webpack_require__(102);exports.ConfigurationRequest=protocol_configuration_1.ConfigurationRequest;const protocol_colorProvider_1=__webpack_require__(103);exports.DocumentColorRequest=protocol_colorProvider_1.DocumentColorRequest,exports.ColorPresentationRequest=protocol_colorProvider_1.ColorPresentationRequest;const protocol_foldingRange_1=__webpack_require__(104);exports.FoldingRangeRequest=protocol_foldingRange_1.FoldingRangeRequest;const protocol_declaration_1=__webpack_require__(105);exports.DeclarationRequest=protocol_declaration_1.DeclarationRequest;const protocol_selectionRange_1=__webpack_require__(106);exports.SelectionRangeRequest=protocol_selectionRange_1.SelectionRangeRequest;const protocol_progress_1=__webpack_require__(107);var DocumentFilter,DocumentSelector;exports.WorkDoneProgress=protocol_progress_1.WorkDoneProgress,exports.WorkDoneProgressCreateRequest=protocol_progress_1.WorkDoneProgressCreateRequest,exports.WorkDoneProgressCancelNotification=protocol_progress_1.WorkDoneProgressCancelNotification,function(DocumentFilter){DocumentFilter.is=function(value){const candidate=value;return Is.string(candidate.language)||Is.string(candidate.scheme)||Is.string(candidate.pattern)}}(DocumentFilter=exports.DocumentFilter||(exports.DocumentFilter={})),function(DocumentSelector){DocumentSelector.is=function(value){if(!Array.isArray(value))return!1;for(let elem of value)if(!Is.string(elem)&&!DocumentFilter.is(elem))return!1;return!0}}(DocumentSelector=exports.DocumentSelector||(exports.DocumentSelector={})),function(RegistrationRequest){RegistrationRequest.type=new messages_1.ProtocolRequestType("client/registerCapability")}(exports.RegistrationRequest||(exports.RegistrationRequest={})),function(UnregistrationRequest){UnregistrationRequest.type=new messages_1.ProtocolRequestType("client/unregisterCapability")}(exports.UnregistrationRequest||(exports.UnregistrationRequest={})),function(ResourceOperationKind){ResourceOperationKind.Create="create",ResourceOperationKind.Rename="rename",ResourceOperationKind.Delete="delete"}(exports.ResourceOperationKind||(exports.ResourceOperationKind={})),function(FailureHandlingKind){FailureHandlingKind.Abort="abort",FailureHandlingKind.Transactional="transactional",FailureHandlingKind.TextOnlyTransactional="textOnlyTransactional",FailureHandlingKind.Undo="undo"}(exports.FailureHandlingKind||(exports.FailureHandlingKind={})),function(StaticRegistrationOptions){StaticRegistrationOptions.hasId=function(value){const candidate=value;return candidate&&Is.string(candidate.id)&&candidate.id.length>0}}(exports.StaticRegistrationOptions||(exports.StaticRegistrationOptions={})),function(TextDocumentRegistrationOptions){TextDocumentRegistrationOptions.is=function(value){const candidate=value;return candidate&&(null===candidate.documentSelector||DocumentSelector.is(candidate.documentSelector))}}(exports.TextDocumentRegistrationOptions||(exports.TextDocumentRegistrationOptions={})),function(WorkDoneProgressOptions){WorkDoneProgressOptions.is=function(value){const candidate=value;return Is.objectLiteral(candidate)&&(void 0===candidate.workDoneProgress||Is.boolean(candidate.workDoneProgress))},WorkDoneProgressOptions.hasWorkDoneProgress=function(value){const candidate=value;return candidate&&Is.boolean(candidate.workDoneProgress)}}(exports.WorkDoneProgressOptions||(exports.WorkDoneProgressOptions={})),function(InitializeRequest){InitializeRequest.type=new messages_1.ProtocolRequestType("initialize")}(exports.InitializeRequest||(exports.InitializeRequest={})),function(InitializeError){InitializeError.unknownProtocolVersion=1}(exports.InitializeError||(exports.InitializeError={})),function(InitializedNotification){InitializedNotification.type=new messages_1.ProtocolNotificationType("initialized")}(exports.InitializedNotification||(exports.InitializedNotification={})),function(ShutdownRequest){ShutdownRequest.type=new messages_1.ProtocolRequestType0("shutdown")}(exports.ShutdownRequest||(exports.ShutdownRequest={})),function(ExitNotification){ExitNotification.type=new messages_1.ProtocolNotificationType0("exit")}(exports.ExitNotification||(exports.ExitNotification={})),function(DidChangeConfigurationNotification){DidChangeConfigurationNotification.type=new messages_1.ProtocolNotificationType("workspace/didChangeConfiguration")}(exports.DidChangeConfigurationNotification||(exports.DidChangeConfigurationNotification={})),function(MessageType){MessageType.Error=1,MessageType.Warning=2,MessageType.Info=3,MessageType.Log=4}(exports.MessageType||(exports.MessageType={})),function(ShowMessageNotification){ShowMessageNotification.type=new messages_1.ProtocolNotificationType("window/showMessage")}(exports.ShowMessageNotification||(exports.ShowMessageNotification={})),function(ShowMessageRequest){ShowMessageRequest.type=new messages_1.ProtocolRequestType("window/showMessageRequest")}(exports.ShowMessageRequest||(exports.ShowMessageRequest={})),function(LogMessageNotification){LogMessageNotification.type=new messages_1.ProtocolNotificationType("window/logMessage")}(exports.LogMessageNotification||(exports.LogMessageNotification={})),function(TelemetryEventNotification){TelemetryEventNotification.type=new messages_1.ProtocolNotificationType("telemetry/event")}(exports.TelemetryEventNotification||(exports.TelemetryEventNotification={})),function(TextDocumentSyncKind){TextDocumentSyncKind.None=0,TextDocumentSyncKind.Full=1,TextDocumentSyncKind.Incremental=2}(exports.TextDocumentSyncKind||(exports.TextDocumentSyncKind={})),function(DidOpenTextDocumentNotification){DidOpenTextDocumentNotification.method="textDocument/didOpen",DidOpenTextDocumentNotification.type=new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method)}(exports.DidOpenTextDocumentNotification||(exports.DidOpenTextDocumentNotification={})),function(DidChangeTextDocumentNotification){DidChangeTextDocumentNotification.method="textDocument/didChange",DidChangeTextDocumentNotification.type=new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method)}(exports.DidChangeTextDocumentNotification||(exports.DidChangeTextDocumentNotification={})),function(DidCloseTextDocumentNotification){DidCloseTextDocumentNotification.method="textDocument/didClose",DidCloseTextDocumentNotification.type=new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method)}(exports.DidCloseTextDocumentNotification||(exports.DidCloseTextDocumentNotification={})),function(DidSaveTextDocumentNotification){DidSaveTextDocumentNotification.method="textDocument/didSave",DidSaveTextDocumentNotification.type=new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method)}(exports.DidSaveTextDocumentNotification||(exports.DidSaveTextDocumentNotification={})),function(TextDocumentSaveReason){TextDocumentSaveReason.Manual=1,TextDocumentSaveReason.AfterDelay=2,TextDocumentSaveReason.FocusOut=3}(exports.TextDocumentSaveReason||(exports.TextDocumentSaveReason={})),function(WillSaveTextDocumentNotification){WillSaveTextDocumentNotification.method="textDocument/willSave",WillSaveTextDocumentNotification.type=new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method)}(exports.WillSaveTextDocumentNotification||(exports.WillSaveTextDocumentNotification={})),function(WillSaveTextDocumentWaitUntilRequest){WillSaveTextDocumentWaitUntilRequest.method="textDocument/willSaveWaitUntil",WillSaveTextDocumentWaitUntilRequest.type=new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method)}(exports.WillSaveTextDocumentWaitUntilRequest||(exports.WillSaveTextDocumentWaitUntilRequest={})),function(DidChangeWatchedFilesNotification){DidChangeWatchedFilesNotification.type=new messages_1.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(exports.DidChangeWatchedFilesNotification||(exports.DidChangeWatchedFilesNotification={})),function(FileChangeType){FileChangeType.Created=1,FileChangeType.Changed=2,FileChangeType.Deleted=3}(exports.FileChangeType||(exports.FileChangeType={})),function(WatchKind){WatchKind.Create=1,WatchKind.Change=2,WatchKind.Delete=4}(exports.WatchKind||(exports.WatchKind={})),function(PublishDiagnosticsNotification){PublishDiagnosticsNotification.type=new messages_1.ProtocolNotificationType("textDocument/publishDiagnostics")}(exports.PublishDiagnosticsNotification||(exports.PublishDiagnosticsNotification={})),function(CompletionTriggerKind){CompletionTriggerKind.Invoked=1,CompletionTriggerKind.TriggerCharacter=2,CompletionTriggerKind.TriggerForIncompleteCompletions=3}(exports.CompletionTriggerKind||(exports.CompletionTriggerKind={})),function(CompletionRequest){CompletionRequest.method="textDocument/completion",CompletionRequest.type=new messages_1.ProtocolRequestType(CompletionRequest.method),CompletionRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.CompletionRequest||(exports.CompletionRequest={})),function(CompletionResolveRequest){CompletionResolveRequest.method="completionItem/resolve",CompletionResolveRequest.type=new messages_1.ProtocolRequestType(CompletionResolveRequest.method)}(exports.CompletionResolveRequest||(exports.CompletionResolveRequest={})),function(HoverRequest){HoverRequest.method="textDocument/hover",HoverRequest.type=new messages_1.ProtocolRequestType(HoverRequest.method)}(exports.HoverRequest||(exports.HoverRequest={})),function(SignatureHelpTriggerKind){SignatureHelpTriggerKind.Invoked=1,SignatureHelpTriggerKind.TriggerCharacter=2,SignatureHelpTriggerKind.ContentChange=3}(exports.SignatureHelpTriggerKind||(exports.SignatureHelpTriggerKind={})),function(SignatureHelpRequest){SignatureHelpRequest.method="textDocument/signatureHelp",SignatureHelpRequest.type=new messages_1.ProtocolRequestType(SignatureHelpRequest.method)}(exports.SignatureHelpRequest||(exports.SignatureHelpRequest={})),function(DefinitionRequest){DefinitionRequest.method="textDocument/definition",DefinitionRequest.type=new messages_1.ProtocolRequestType(DefinitionRequest.method),DefinitionRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DefinitionRequest||(exports.DefinitionRequest={})),function(ReferencesRequest){ReferencesRequest.method="textDocument/references",ReferencesRequest.type=new messages_1.ProtocolRequestType(ReferencesRequest.method),ReferencesRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.ReferencesRequest||(exports.ReferencesRequest={})),function(DocumentHighlightRequest){DocumentHighlightRequest.method="textDocument/documentHighlight",DocumentHighlightRequest.type=new messages_1.ProtocolRequestType(DocumentHighlightRequest.method),DocumentHighlightRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DocumentHighlightRequest||(exports.DocumentHighlightRequest={})),function(DocumentSymbolRequest){DocumentSymbolRequest.method="textDocument/documentSymbol",DocumentSymbolRequest.type=new messages_1.ProtocolRequestType(DocumentSymbolRequest.method),DocumentSymbolRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DocumentSymbolRequest||(exports.DocumentSymbolRequest={})),function(CodeActionRequest){CodeActionRequest.method="textDocument/codeAction",CodeActionRequest.type=new messages_1.ProtocolRequestType(CodeActionRequest.method),CodeActionRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.CodeActionRequest||(exports.CodeActionRequest={})),function(WorkspaceSymbolRequest){WorkspaceSymbolRequest.method="workspace/symbol",WorkspaceSymbolRequest.type=new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method),WorkspaceSymbolRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.WorkspaceSymbolRequest||(exports.WorkspaceSymbolRequest={})),function(CodeLensRequest){CodeLensRequest.type=new messages_1.ProtocolRequestType("textDocument/codeLens"),CodeLensRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.CodeLensRequest||(exports.CodeLensRequest={})),function(CodeLensResolveRequest){CodeLensResolveRequest.type=new messages_1.ProtocolRequestType("codeLens/resolve")}(exports.CodeLensResolveRequest||(exports.CodeLensResolveRequest={})),function(DocumentLinkRequest){DocumentLinkRequest.method="textDocument/documentLink",DocumentLinkRequest.type=new messages_1.ProtocolRequestType(DocumentLinkRequest.method),DocumentLinkRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DocumentLinkRequest||(exports.DocumentLinkRequest={})),function(DocumentLinkResolveRequest){DocumentLinkResolveRequest.type=new messages_1.ProtocolRequestType("documentLink/resolve")}(exports.DocumentLinkResolveRequest||(exports.DocumentLinkResolveRequest={})),function(DocumentFormattingRequest){DocumentFormattingRequest.method="textDocument/formatting",DocumentFormattingRequest.type=new messages_1.ProtocolRequestType(DocumentFormattingRequest.method)}(exports.DocumentFormattingRequest||(exports.DocumentFormattingRequest={})),function(DocumentRangeFormattingRequest){DocumentRangeFormattingRequest.method="textDocument/rangeFormatting",DocumentRangeFormattingRequest.type=new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method)}(exports.DocumentRangeFormattingRequest||(exports.DocumentRangeFormattingRequest={})),function(DocumentOnTypeFormattingRequest){DocumentOnTypeFormattingRequest.method="textDocument/onTypeFormatting",DocumentOnTypeFormattingRequest.type=new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method)}(exports.DocumentOnTypeFormattingRequest||(exports.DocumentOnTypeFormattingRequest={})),function(RenameRequest){RenameRequest.method="textDocument/rename",RenameRequest.type=new messages_1.ProtocolRequestType(RenameRequest.method)}(exports.RenameRequest||(exports.RenameRequest={})),function(PrepareRenameRequest){PrepareRenameRequest.method="textDocument/prepareRename",PrepareRenameRequest.type=new messages_1.ProtocolRequestType(PrepareRenameRequest.method)}(exports.PrepareRenameRequest||(exports.PrepareRenameRequest={})),function(ExecuteCommandRequest){ExecuteCommandRequest.type=new messages_1.ProtocolRequestType("workspace/executeCommand")}(exports.ExecuteCommandRequest||(exports.ExecuteCommandRequest={})),function(ApplyWorkspaceEditRequest){ApplyWorkspaceEditRequest.type=new messages_1.ProtocolRequestType("workspace/applyEdit")}(exports.ApplyWorkspaceEditRequest||(exports.ApplyWorkspaceEditRequest={}))},function(module,exports,__webpack_require__){"use strict";function string(value){return"string"==typeof value||value instanceof String}function array(value){return Array.isArray(value)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.boolean=function(value){return!0===value||!1===value},exports.string=string,exports.number=function(value){return"number"==typeof value||value instanceof Number},exports.error=function(value){return value instanceof Error},exports.func=function(value){return"function"==typeof value},exports.array=array,exports.stringArray=function(value){return array(value)&&value.every(elem=>string(elem))},exports.typedArray=function(value,check){return Array.isArray(value)&&value.every(check)},exports.objectLiteral=function(value){return null!==value&&"object"==typeof value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(ImplementationRequest){ImplementationRequest.method="textDocument/implementation",ImplementationRequest.type=new messages_1.ProtocolRequestType(ImplementationRequest.method),ImplementationRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.ImplementationRequest||(exports.ImplementationRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(TypeDefinitionRequest){TypeDefinitionRequest.method="textDocument/typeDefinition",TypeDefinitionRequest.type=new messages_1.ProtocolRequestType(TypeDefinitionRequest.method),TypeDefinitionRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.TypeDefinitionRequest||(exports.TypeDefinitionRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const messages_1=__webpack_require__(7);!function(WorkspaceFoldersRequest){WorkspaceFoldersRequest.type=new messages_1.ProtocolRequestType0("workspace/workspaceFolders")}(exports.WorkspaceFoldersRequest||(exports.WorkspaceFoldersRequest={})),function(DidChangeWorkspaceFoldersNotification){DidChangeWorkspaceFoldersNotification.type=new messages_1.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(exports.DidChangeWorkspaceFoldersNotification||(exports.DidChangeWorkspaceFoldersNotification={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const messages_1=__webpack_require__(7);!function(ConfigurationRequest){ConfigurationRequest.type=new messages_1.ProtocolRequestType("workspace/configuration")}(exports.ConfigurationRequest||(exports.ConfigurationRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(DocumentColorRequest){DocumentColorRequest.method="textDocument/documentColor",DocumentColorRequest.type=new messages_1.ProtocolRequestType(DocumentColorRequest.method),DocumentColorRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DocumentColorRequest||(exports.DocumentColorRequest={})),function(ColorPresentationRequest){ColorPresentationRequest.type=new messages_1.ProtocolRequestType("textDocument/colorPresentation")}(exports.ColorPresentationRequest||(exports.ColorPresentationRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(FoldingRangeKind){FoldingRangeKind.Comment="comment",FoldingRangeKind.Imports="imports",FoldingRangeKind.Region="region"}(exports.FoldingRangeKind||(exports.FoldingRangeKind={})),function(FoldingRangeRequest){FoldingRangeRequest.method="textDocument/foldingRange",FoldingRangeRequest.type=new messages_1.ProtocolRequestType(FoldingRangeRequest.method),FoldingRangeRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.FoldingRangeRequest||(exports.FoldingRangeRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(DeclarationRequest){DeclarationRequest.method="textDocument/declaration",DeclarationRequest.type=new messages_1.ProtocolRequestType(DeclarationRequest.method),DeclarationRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.DeclarationRequest||(exports.DeclarationRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(SelectionRangeRequest){SelectionRangeRequest.method="textDocument/selectionRange",SelectionRangeRequest.type=new messages_1.ProtocolRequestType(SelectionRangeRequest.method),SelectionRangeRequest.resultType=new vscode_jsonrpc_1.ProgressType}(exports.SelectionRangeRequest||(exports.SelectionRangeRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_jsonrpc_1=__webpack_require__(10),messages_1=__webpack_require__(7);!function(WorkDoneProgress){WorkDoneProgress.type=new vscode_jsonrpc_1.ProgressType}(exports.WorkDoneProgress||(exports.WorkDoneProgress={})),function(WorkDoneProgressCreateRequest){WorkDoneProgressCreateRequest.type=new messages_1.ProtocolRequestType("window/workDoneProgress/create")}(exports.WorkDoneProgressCreateRequest||(exports.WorkDoneProgressCreateRequest={})),function(WorkDoneProgressCancelNotification){WorkDoneProgressCancelNotification.type=new messages_1.ProtocolNotificationType("window/workDoneProgress/cancel")}(exports.WorkDoneProgressCancelNotification||(exports.WorkDoneProgressCancelNotification={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const messages_1=__webpack_require__(7);!function(CallHierarchyPrepareRequest){CallHierarchyPrepareRequest.method="textDocument/prepareCallHierarchy",CallHierarchyPrepareRequest.type=new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method)}(exports.CallHierarchyPrepareRequest||(exports.CallHierarchyPrepareRequest={})),function(CallHierarchyIncomingCallsRequest){CallHierarchyIncomingCallsRequest.method="callHierarchy/incomingCalls",CallHierarchyIncomingCallsRequest.type=new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method)}(exports.CallHierarchyIncomingCallsRequest||(exports.CallHierarchyIncomingCallsRequest={})),function(CallHierarchyOutgoingCallsRequest){CallHierarchyOutgoingCallsRequest.method="callHierarchy/outgoingCalls",CallHierarchyOutgoingCallsRequest.type=new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method)}(exports.CallHierarchyOutgoingCallsRequest||(exports.CallHierarchyOutgoingCallsRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const messages_1=__webpack_require__(7);!function(SemanticTokenTypes){SemanticTokenTypes.comment="comment",SemanticTokenTypes.keyword="keyword",SemanticTokenTypes.string="string",SemanticTokenTypes.number="number",SemanticTokenTypes.regexp="regexp",SemanticTokenTypes.operator="operator",SemanticTokenTypes.namespace="namespace",SemanticTokenTypes.type="type",SemanticTokenTypes.struct="struct",SemanticTokenTypes.class="class",SemanticTokenTypes.interface="interface",SemanticTokenTypes.enum="enum",SemanticTokenTypes.typeParameter="typeParameter",SemanticTokenTypes.function="function",SemanticTokenTypes.member="member",SemanticTokenTypes.property="property",SemanticTokenTypes.macro="macro",SemanticTokenTypes.variable="variable",SemanticTokenTypes.parameter="parameter",SemanticTokenTypes.label="label"}(exports.SemanticTokenTypes||(exports.SemanticTokenTypes={})),function(SemanticTokenModifiers){SemanticTokenModifiers.documentation="documentation",SemanticTokenModifiers.declaration="declaration",SemanticTokenModifiers.definition="definition",SemanticTokenModifiers.reference="reference",SemanticTokenModifiers.static="static",SemanticTokenModifiers.abstract="abstract",SemanticTokenModifiers.deprecated="deprecated",SemanticTokenModifiers.async="async",SemanticTokenModifiers.volatile="volatile",SemanticTokenModifiers.readonly="readonly"}(exports.SemanticTokenModifiers||(exports.SemanticTokenModifiers={})),function(SemanticTokens){SemanticTokens.is=function(value){const candidate=value;return void 0!==candidate&&(void 0===candidate.resultId||"string"==typeof candidate.resultId)&&Array.isArray(candidate.data)&&(0===candidate.data.length||"number"==typeof candidate.data[0])}}(exports.SemanticTokens||(exports.SemanticTokens={})),function(SemanticTokensRequest){SemanticTokensRequest.method="textDocument/semanticTokens",SemanticTokensRequest.type=new messages_1.ProtocolRequestType(SemanticTokensRequest.method)}(exports.SemanticTokensRequest||(exports.SemanticTokensRequest={})),function(SemanticTokensEditsRequest){SemanticTokensEditsRequest.method="textDocument/semanticTokens/edits",SemanticTokensEditsRequest.type=new messages_1.ProtocolRequestType(SemanticTokensEditsRequest.method)}(exports.SemanticTokensEditsRequest||(exports.SemanticTokensEditsRequest={})),function(SemanticTokensRangeRequest){SemanticTokensRangeRequest.method="textDocument/semanticTokens/range",SemanticTokensRangeRequest.type=new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method)}(exports.SemanticTokensRangeRequest||(exports.SemanticTokensRangeRequest={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9),Is=__webpack_require__(52);exports.ConfigurationFeature=Base=>class extends Base{getConfiguration(arg){return arg?Is.string(arg)?this._getConfiguration({section:arg}):this._getConfiguration(arg):this._getConfiguration({})}_getConfiguration(arg){let params={items:Array.isArray(arg)?arg:[arg]};return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type,params).then(result=>Array.isArray(arg)?result:result[0])}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9);exports.WorkspaceFoldersFeature=Base=>class extends Base{initialize(capabilities){let workspaceCapabilities=capabilities.workspace;workspaceCapabilities&&workspaceCapabilities.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new vscode_languageserver_protocol_1.Emitter,this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type,params=>{this._onDidChangeWorkspaceFolders.fire(params.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9),uuid_1=__webpack_require__(53);class WorkDoneProgressImpl{constructor(_connection,_token){this._connection=_connection,this._token=_token,WorkDoneProgressImpl.Instances.set(this._token,this),this._source=new vscode_languageserver_protocol_1.CancellationTokenSource}get token(){return this._source.token}begin(title,percentage,message,cancellable){let param={kind:"begin",title:title,percentage:percentage,message:message,cancellable:cancellable};this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,param)}report(arg0,arg1){let param={kind:"report"};"number"==typeof arg0?(param.percentage=arg0,void 0!==arg1&&(param.message=arg1)):param.message=arg0,this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,param)}done(){WorkDoneProgressImpl.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}}WorkDoneProgressImpl.Instances=new Map;class NullProgress{constructor(){this._source=new vscode_languageserver_protocol_1.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}}var ResultProgress;exports.attachWorkDone=function(connection,params){if(void 0===params||void 0===params.workDoneToken)return new NullProgress;const token=params.workDoneToken;return delete params.workDoneToken,new WorkDoneProgressImpl(connection,token)},exports.ProgressFeature=Base=>class extends Base{initialize(capabilities){var _a;!0===(null===(_a=null==capabilities?void 0:capabilities.window)||void 0===_a?void 0:_a.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type,params=>{let progress=WorkDoneProgressImpl.Instances.get(params.token);void 0!==progress&&progress.cancel()}))}attachWorkDoneProgress(token){return void 0===token?new NullProgress:new WorkDoneProgressImpl(this.connection,token)}createWorkDoneProgress(){if(this._progressSupported){const token=uuid_1.generateUuid();return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type,{token:token}).then(()=>new WorkDoneProgressImpl(this.connection,token))}return Promise.resolve(new NullProgress)}},function(ResultProgress){ResultProgress.type=new vscode_languageserver_protocol_1.ProgressType}(ResultProgress||(ResultProgress={}));class ResultProgressImpl{constructor(_connection,_token){this._connection=_connection,this._token=_token}report(data){this._connection.sendProgress(ResultProgress.type,this._token,data)}}exports.attachPartialResult=function(connection,params){if(void 0===params||void 0===params.partialResultToken)return;const token=params.partialResultToken;return delete params.partialResultToken,new ResultProgressImpl(connection,token)}},function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0});const url=__webpack_require__(32),path=__webpack_require__(8),fs=__webpack_require__(6),child_process_1=__webpack_require__(23);function isWindows(){return"win32"===process.platform}function resolve(moduleName,nodePath,cwd,tracer){const app=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((resolve,reject)=>{let env=process.env,newEnv=Object.create(null);Object.keys(env).forEach(key=>newEnv[key]=env[key]),nodePath&&fs.existsSync(nodePath)&&(newEnv.NODE_PATH?newEnv.NODE_PATH=nodePath+path.delimiter+newEnv.NODE_PATH:newEnv.NODE_PATH=nodePath,tracer&&tracer("NODE_PATH value is: "+newEnv.NODE_PATH)),newEnv.ELECTRON_RUN_AS_NODE="1";try{let cp=child_process_1.fork("",[],{cwd:cwd,env:newEnv,execArgv:["-e",app]});if(void 0===cp.pid)return void reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));cp.on("error",error=>{reject(error)}),cp.on("message",message=>{"r"===message.c&&(cp.send({c:"e"}),message.s?resolve(message.r):reject(new Error("Failed to resolve module: "+moduleName)))});let message={c:"rs",a:moduleName};cp.send(message)}catch(error){reject(error)}})}function resolveGlobalNodePath(tracer){let npmCommand="npm";const env=Object.create(null);Object.keys(process.env).forEach(key=>env[key]=process.env[key]),env.NO_UPDATE_NOTIFIER="true";const options={encoding:"utf8",env:env};isWindows()&&(npmCommand="npm.cmd",options.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let stdout=child_process_1.spawnSync(npmCommand,["config","get","prefix"],options).stdout;if(!stdout)return void(tracer&&tracer("'npm config get prefix' didn't return a value."));let prefix=stdout.trim();return tracer&&tracer("'npm config get prefix' value is: "+prefix),prefix.length>0?isWindows()?path.join(prefix,"node_modules"):path.join(prefix,"lib","node_modules"):void 0}catch(err){return}finally{process.removeListener("SIGPIPE",handler)}}var FileSystem;exports.uriToFilePath=function(uri){let parsed=url.parse(uri);if("file:"!==parsed.protocol||!parsed.path)return;let segments=parsed.path.split("/");for(var i=0,len=segments.length;i<len;i++)segments[i]=decodeURIComponent(segments[i]);if("win32"===process.platform&&segments.length>1){let first=segments[0],second=segments[1];0===first.length&&second.length>1&&":"===second[1]&&segments.shift()}return path.normalize(segments.join("/"))},exports.resolve=resolve,exports.resolveGlobalNodePath=resolveGlobalNodePath,exports.resolveGlobalYarnPath=function(tracer){let yarnCommand="yarn",options={encoding:"utf8"};isWindows()&&(yarnCommand="yarn.cmd",options.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let results=child_process_1.spawnSync(yarnCommand,["global","dir","--json"],options),stdout=results.stdout;if(!stdout)return void(tracer&&(tracer("'yarn global dir' didn't return a value."),results.stderr&&tracer(results.stderr)));let lines=stdout.trim().split(/\r?\n/);for(let line of lines)try{let yarn=JSON.parse(line);if("log"===yarn.type)return path.join(yarn.data,"node_modules")}catch(e){}return}catch(err){return}finally{process.removeListener("SIGPIPE",handler)}},function(FileSystem){let _isCaseSensitive=void 0;function isCaseSensitive(){return void 0!==_isCaseSensitive||(_isCaseSensitive="win32"!==process.platform&&(!fs.existsSync(__filename.toUpperCase())||!fs.existsSync(__filename.toLowerCase()))),_isCaseSensitive}FileSystem.isCaseSensitive=isCaseSensitive,FileSystem.isParent=function(parent,child){return isCaseSensitive()?0===path.normalize(child).indexOf(path.normalize(parent)):0===path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase())}}(FileSystem=exports.FileSystem||(exports.FileSystem={})),exports.resolveModulePath=function(workspaceRoot,moduleName,nodePath,tracer){return nodePath?(path.isAbsolute(nodePath)||(nodePath=path.join(workspaceRoot,nodePath)),resolve(moduleName,nodePath,nodePath,tracer).then(value=>FileSystem.isParent(nodePath,value)?value:Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`))).then(void 0,_error=>resolve(moduleName,resolveGlobalNodePath(tracer),workspaceRoot,tracer))):resolve(moduleName,resolveGlobalNodePath(tracer),workspaceRoot,tracer)}}).call(this,"/index.js")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9);exports.CallHierarchyFeature=Base=>class extends Base{get callHierarchy(){return{onPrepare:handler=>{this.connection.onRequest(vscode_languageserver_protocol_1.Proposed.CallHierarchyPrepareRequest.type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),void 0))},onIncomingCalls:handler=>{const type=vscode_languageserver_protocol_1.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params)))},onOutgoingCalls:handler=>{const type=vscode_languageserver_protocol_1.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params)))}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=__webpack_require__(9);exports.SemanticTokensFeature=Base=>class extends Base{get semanticTokens(){return{on:handler=>{const type=vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type;this.connection.onRequest(type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params)))},onEdits:handler=>{const type=vscode_languageserver_protocol_1.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params)))},onRange:handler=>{const type=vscode_languageserver_protocol_1.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(type,(params,cancel)=>handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params)))}}}};exports.SemanticTokensBuilder=class SemanticTokensBuilder{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(line,char,length,tokenType,tokenModifiers){let pushLine=line,pushChar=char;this._dataLen>0&&(pushLine-=this._prevLine,0===pushLine&&(pushChar-=this._prevChar)),this._data[this._dataLen++]=pushLine,this._data[this._dataLen++]=pushChar,this._data[this._dataLen++]=length,this._data[this._dataLen++]=tokenType,this._data[this._dataLen++]=tokenModifiers,this._prevLine=line,this._prevChar=char}get id(){return this._id.toString()}previousResult(id){this.id===id&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const prevDataLength=this._prevData.length,dataLength=this._data.length;let startIndex=0;for(;startIndex<dataLength&&startIndex<prevDataLength&&this._prevData[startIndex]===this._data[startIndex];)startIndex++;if(startIndex<dataLength&&startIndex<prevDataLength){let endIndex=0;for(;endIndex<dataLength&&endIndex<prevDataLength&&this._prevData[prevDataLength-1-endIndex]===this._data[dataLength-1-endIndex];)endIndex++;const newData=this._data.slice(startIndex,dataLength-endIndex);return{resultId:this.id,edits:[{start:startIndex,deleteCount:prevDataLength-endIndex-startIndex,data:newData}]}}return startIndex<dataLength?{resultId:this.id,edits:[{start:startIndex,deleteCount:0,data:this._data.slice(startIndex)}]}:startIndex<prevDataLength?{resultId:this.id,edits:[{start:startIndex,deleteCount:prevDataLength-startIndex}]}:{resultId:this.id,edits:[]}}return this.build()}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TextDocument",(function(){return TextDocument}));var TextDocument,FullTextDocument=function(){function FullTextDocument(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),FullTextDocument.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument.prototype.update=function(changes,version){for(var _i=0,changes_1=changes;_i<changes_1.length;_i++){var change=changes_1[_i];if(FullTextDocument.isIncremental(change)){var range=getWellformedRange(change.range),startOffset=this.offsetAt(range.start),endOffset=this.offsetAt(range.end);this._content=this._content.substring(0,startOffset)+change.text+this._content.substring(endOffset,this._content.length);var startLine=Math.max(range.start.line,0),endLine=Math.max(range.end.line,0),lineOffsets=this._lineOffsets,addedLineOffsets=computeLineOffsets(change.text,!1,startOffset);if(endLine-startLine===addedLineOffsets.length)for(var i=0,len=addedLineOffsets.length;i<len;i++)lineOffsets[i+startLine+1]=addedLineOffsets[i];else addedLineOffsets.length<1e4?lineOffsets.splice.apply(lineOffsets,[startLine+1,endLine-startLine].concat(addedLineOffsets)):this._lineOffsets=lineOffsets=lineOffsets.slice(0,startLine+1).concat(addedLineOffsets,lineOffsets.slice(endLine+1));var diff=change.text.length-(endOffset-startOffset);if(0!==diff)for(i=startLine+1+addedLineOffsets.length,len=lineOffsets.length;i<len;i++)lineOffsets[i]=lineOffsets[i]+diff}else{if(!FullTextDocument.isFull(change))throw new Error("Unknown change event received");this._content=change.text,this._lineOffsets=void 0}}this._version=version},FullTextDocument.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=computeLineOffsets(this._content,!0)),this._lineOffsets},FullTextDocument.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(0===high)return{line:0,character:offset};for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return{line:line,character:offset-lineOffsets[line]}},FullTextDocument.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),FullTextDocument.isIncremental=function(event){var candidate=event;return null!=candidate&&"string"==typeof candidate.text&&void 0!==candidate.range&&(void 0===candidate.rangeLength||"number"==typeof candidate.rangeLength)},FullTextDocument.isFull=function(event){var candidate=event;return null!=candidate&&"string"==typeof candidate.text&&void 0===candidate.range&&void 0===candidate.rangeLength},FullTextDocument}();function computeLineOffsets(text,isAtLineStart,textOffset){void 0===textOffset&&(textOffset=0);for(var result=isAtLineStart?[textOffset]:[],i=0;i<text.length;i++){var ch=text.charCodeAt(i);13!==ch&&10!==ch||(13===ch&&i+1<text.length&&10===text.charCodeAt(i+1)&&i++,result.push(textOffset+i+1))}return result}function getWellformedRange(range){var start=range.start,end=range.end;return start.line>end.line||start.line===end.line&&start.character>end.character?{start:end,end:start}:range}function getWellformedEdit(textEdit){var range=getWellformedRange(textEdit.range);return range!==textEdit.range?{newText:textEdit.newText,range:range}:textEdit}!function(TextDocument){TextDocument.create=function(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)},TextDocument.update=function(document,changes,version){if(document instanceof FullTextDocument)return document.update(changes,version),document;throw new Error("TextDocument.update: document must be created by TextDocument.create")},TextDocument.applyEdits=function(document,edits){for(var text=document.getText(),lastModifiedOffset=0,spans=[],_i=0,sortedEdits_1=function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);var leftIdx=0,rightIdx=0,i=0;for(;leftIdx<left.length&&rightIdx<right.length;){var ret=compare(left[leftIdx],right[rightIdx]);data[i++]=ret<=0?left[leftIdx++]:right[rightIdx++]}for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}(edits.map(getWellformedEdit),(function(a,b){var diff=a.range.start.line-b.range.start.line;return 0===diff?a.range.start.character-b.range.start.character:diff}));_i<sortedEdits_1.length;_i++){var e=sortedEdits_1[_i],startOffset=document.offsetAt(e.range.start);if(startOffset<lastModifiedOffset)throw new Error("Overlapping edit");startOffset>lastModifiedOffset&&spans.push(text.substring(lastModifiedOffset,startOffset)),e.newText.length&&spans.push(e.newText),lastModifiedOffset=document.offsetAt(e.range.end)}return spans.push(text.substr(lastModifiedOffset)),spans.join("")}}(TextDocument||(TextDocument={}))},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(41),decorators_1=__webpack_require__(118),text_1=__webpack_require__(54),src_1=__webpack_require__(11),Sentry=__importStar(__webpack_require__(227)),IGNORE_ERRORS_REGEX=new RegExp(`(${["aggregate function","already exists","authentication failed","cannot drop","cross-database references","does not exist","econnrefused","econnreset","enotfound","enotfound","er_access_denied_error","er_bad_db_error","er_bad_field_error","er_cannot_load_from_table_v2","er_dup_fieldname","er_no_referenced_row_2","er_no_such_table","er_not_supported_auth_mode","er_parse_error","etimedout","failed to connect","is ambiguous","key constraint","login failed","no such table","ora-[0-9]+","sqlite_cantopen","syntax error","unknown_code_please_report","violates"].join("|")})`,"g");let log=src_1.createLogger("telemetry");Sentry.init({maxBreadcrumbs:5,enabled:!1,sampleRate:1,release:"ls@"+constants_1.VERSION,environment:constants_1.ENV,attachStacktrace:!0,dsn:"",beforeSend:(event,_)=>Telemetry.enabled?event:null});class Telemetry{constructor(opts){this.createClient=()=>{Sentry.getCurrentHub().getClient().getOptions().enabled=!0,Sentry.setTags({product:"ls",os:process.platform,arch:process.arch,version:constants_1.VERSION,extversionnum:text_1.numericVersion(constants_1.VERSION).toString(),nodeversion:process.version}),Telemetry.extraInfo&&Sentry.setUser({id:Telemetry.extraInfo.uniqId,deviceId:Telemetry.extraInfo.uniqId,sessionId:Telemetry.extraInfo.sessId})},this.updateOpts=opts=>{Telemetry.extraInfo=opts.extraInfo||Telemetry.extraInfo||{},opts.enableTelemetry?this.enable():this.disable()},this.enable=()=>{Telemetry.enabled||(Telemetry.enabled=!0,this.createClient(),log.info("Telemetry enabled!"))},this.disable=()=>{Telemetry.enabled&&(Telemetry.enabled=!1,Sentry.getCurrentHub().getClient().getOptions().enabled=!1,log.info("Telemetry disabled!"))},this.updateOpts(opts)}prefixed(key){return"ls:"+key}registerException(error,data={}){if(!error)return;const errStr=(error&&error.message?error.message:"").toLowerCase();if(IGNORE_ERRORS_REGEX.test(errStr))return;const properties={...error.data||{},...data};log.error("Exception:%O\n\tData: %j",error,properties),Sentry.configureScope(scope=>{scope.setExtras({exception:error,properties:properties}),Sentry.captureException(error)})}registerMessage(severity,message,value="Dismissed"){let sev;switch(log.debug({severity:severity},"Message: %s, value: %s",message,value),severity){case"debug":sev=Sentry.Severity.Debug;break;case"info":sev=Sentry.Severity.Info;break;case"warn":sev=Sentry.Severity.Warning;break;case"error":case"fatal":case"critical":sev=Sentry.Severity.Error;break;default:sev=Sentry.Severity.Info}Sentry.captureMessage(this.prefixed(message),Sentry.Severity[sev])}registerEvent(name,properties){log.debug("Event: %s\n%j",name,properties||""),Sentry.captureEvent({event_id:this.prefixed(name),message:name,extra:properties,timestamp:+new Date})}registerTime(timeKey,timer){const elapsed=timer.elapsed();log.info("Time: %s %d ms",timeKey,elapsed),this.registerEvent(this.prefixed("time:"+timeKey),{value:elapsed})}}__decorate([decorators_1.runIfPropIsDefined("client")],Telemetry.prototype,"registerException",null),__decorate([decorators_1.runIfPropIsDefined("client")],Telemetry.prototype,"registerMessage",null),__decorate([decorators_1.runIfPropIsDefined("client")],Telemetry.prototype,"registerEvent",null),__decorate([decorators_1.runIfPropIsDefined("client")],Telemetry.prototype,"registerTime",null);const telemetry=new Telemetry({enableTelemetry:!1});exports.default=telemetry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.runIfPropIsDefined=void 0,exports.runIfPropIsDefined=function(prop){return function(target,key,descriptor){void 0===descriptor&&(descriptor=Object.getOwnPropertyDescriptor(target,key));const originalMethod=descriptor.value;descriptor.value=function(...args){void 0!==this[prop]&&originalMethod.apply(this,args)}}}},function(module,exports){module.exports=require("vscode")},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const factory_1=__importDefault(__webpack_require__(121));exports.default=factory_1.default()},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const pino_1=__importDefault(__webpack_require__(122));exports.default=function(opts={},stream){const logger=pino_1.default({name:"ls",base:{},level:"info",formatters:{level:level=>({level:level})},prettyPrint:!0,...opts},stream);return logger.show=()=>{},logger}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(13),stdSerializers=__webpack_require__(55),redaction=__webpack_require__(126),time=__webpack_require__(134),proto=__webpack_require__(135),symbols=__webpack_require__(24),{assertDefaultLevelFound:assertDefaultLevelFound,mappings:mappings,genLsCache:genLsCache}=__webpack_require__(58),{createArgsNormalizer:createArgsNormalizer,asChindings:asChindings,final:final,stringify:stringify,buildSafeSonicBoom:buildSafeSonicBoom,buildFormatters:buildFormatters,noop:noop}=__webpack_require__(45),{version:version}=__webpack_require__(65),{chindingsSym:chindingsSym,redactFmtSym:redactFmtSym,serializersSym:serializersSym,timeSym:timeSym,timeSliceIndexSym:timeSliceIndexSym,streamSym:streamSym,stringifySym:stringifySym,stringifiersSym:stringifiersSym,setLevelSym:setLevelSym,endSym:endSym,formatOptsSym:formatOptsSym,messageKeySym:messageKeySym,nestedKeySym:nestedKeySym,mixinSym:mixinSym,useOnlyCustomLevelsSym:useOnlyCustomLevelsSym,formattersSym:formattersSym,hooksSym:hooksSym}=symbols,{epochTime:epochTime,nullTime:nullTime}=time,{pid:pid}=process,hostname=os.hostname(),defaultErrorSerializer=stdSerializers.err,defaultOptions={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:pid,hostname:hostname},serializers:Object.assign(Object.create(null),{err:defaultErrorSerializer}),formatters:Object.assign(Object.create(null),{bindings:bindings=>bindings,level:(label,number)=>({level:number})}),hooks:{logMethod:void 0},timestamp:epochTime,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},normalize=createArgsNormalizer(defaultOptions),serializers=Object.assign(Object.create(null),stdSerializers);function pino(...args){const instance={},{opts:opts,stream:stream}=normalize(instance,...args),{redact:redact,crlf:crlf,serializers:serializers,timestamp:timestamp,messageKey:messageKey,nestedKey:nestedKey,base:base,name:name,level:level,customLevels:customLevels,useLevelLabels:useLevelLabels,changeLevelName:changeLevelName,levelKey:levelKey,mixin:mixin,useOnlyCustomLevels:useOnlyCustomLevels,formatters:formatters,hooks:hooks}=opts,allFormatters=buildFormatters(formatters.level,formatters.bindings,formatters.log);!useLevelLabels||changeLevelName||levelKey?!changeLevelName&&!levelKey||useLevelLabels?(changeLevelName||levelKey)&&useLevelLabels&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),allFormatters.level=function(name){return function(label,number){return{[name]:label}}}(changeLevelName||levelKey)):(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),allFormatters.level=function(name){return function(label,number){return{[name]:number}}}(changeLevelName||levelKey)):(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),allFormatters.level=labelsFormatter),serializers[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),allFormatters.log=serializers[Symbol.for("pino.*")]),allFormatters.bindings||(allFormatters.bindings=defaultOptions.formatters.bindings),allFormatters.level||(allFormatters.level=defaultOptions.formatters.level);const stringifiers=redact?redaction(redact,stringify):{},formatOpts=redact?{stringify:stringifiers[redactFmtSym]}:{stringify:stringify},end="}"+(crlf?"\r\n":"\n"),coreChindings=asChindings.bind(null,{[chindingsSym]:"",[serializersSym]:serializers,[stringifiersSym]:stringifiers,[stringifySym]:stringify,[formattersSym]:allFormatters}),chindings=null===base?"":coreChindings(void 0===name?base:Object.assign({},base,{name:name})),time=timestamp instanceof Function?timestamp:timestamp?epochTime:nullTime,timeSliceIndex=time().indexOf(":")+1;if(useOnlyCustomLevels&&!customLevels)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(mixin&&"function"!=typeof mixin)throw Error(`Unknown mixin type "${typeof mixin}" - expected "function"`);assertDefaultLevelFound(level,customLevels,useOnlyCustomLevels);const levels=mappings(customLevels,useOnlyCustomLevels);return Object.assign(instance,{levels:levels,[useOnlyCustomLevelsSym]:useOnlyCustomLevels,[streamSym]:stream,[timeSym]:time,[timeSliceIndexSym]:timeSliceIndex,[stringifySym]:stringify,[stringifiersSym]:stringifiers,[endSym]:end,[formatOptsSym]:formatOpts,[messageKeySym]:messageKey,[nestedKeySym]:nestedKey,[serializersSym]:serializers,[mixinSym]:mixin,[chindingsSym]:chindings,[formattersSym]:allFormatters,[hooksSym]:hooks,silent:noop}),Object.setPrototypeOf(instance,proto()),genLsCache(instance),instance[setLevelSym](level),instance}function labelsFormatter(label,number){return{level:label}}pino.extreme=(dest=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),buildSafeSonicBoom({dest:dest,minLength:4096,sync:!1})),pino.destination=(dest=process.stdout.fd)=>"object"==typeof dest?(dest.dest=dest.dest||process.stdout.fd,buildSafeSonicBoom(dest)):buildSafeSonicBoom({dest:dest,minLength:0,sync:!0}),pino.final=final,pino.levels=mappings(),pino.stdSerializers=serializers,pino.stdTimeFunctions=Object.assign({},time),pino.symbols=symbols,pino.version=version,module.exports=pino},function(module,exports,__webpack_require__){"use strict";module.exports=function errSerializer(err){if(!(err instanceof Error))return err;err[seen]=void 0;const _err=Object.create(pinoErrProto);_err.type=err.constructor.name,_err.message=err.message,_err.stack=err.stack;for(const key in err)if(void 0===_err[key]){const val=err[key];val instanceof Error?val.hasOwnProperty(seen)||(_err[key]=errSerializer(val)):_err[key]=val}return delete err[seen],_err.raw=err,_err};const seen=Symbol("circular-ref-tag"),rawSymbol=Symbol("pino-raw-err-ref"),pinoErrProto=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});Object.defineProperty(pinoErrProto,rawSymbol,{writable:!0,value:{}})},function(module,exports,__webpack_require__){"use strict";module.exports={mapHttpRequest:function(req){return{req:reqSerializer(req)}},reqSerializer:reqSerializer};var rawSymbol=Symbol("pino-raw-req-ref"),pinoReqProto=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});function reqSerializer(req){var connection=req.info||req.connection;const _req=Object.create(pinoReqProto);return _req.id="function"==typeof req.id?req.id():req.id||(req.info?req.info.id:void 0),_req.method=req.method,req.originalUrl?_req.url=req.originalUrl:_req.url=req.url?req.url.path||req.url:void 0,_req.headers=req.headers,_req.remoteAddress=connection&&connection.remoteAddress,_req.remotePort=connection&&connection.remotePort,_req.raw=req.raw||req,_req}Object.defineProperty(pinoReqProto,rawSymbol,{writable:!0,value:{}})},function(module,exports,__webpack_require__){"use strict";module.exports={mapHttpResponse:function(res){return{res:resSerializer(res)}},resSerializer:resSerializer};var rawSymbol=Symbol("pino-raw-res-ref"),pinoResProto=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});function resSerializer(res){const _res=Object.create(pinoResProto);return _res.statusCode=res.statusCode,_res.headers=res.getHeaders?res.getHeaders():res._headers,_res.raw=res,_res}Object.defineProperty(pinoResProto,rawSymbol,{writable:!0,value:{}})},function(module,exports,__webpack_require__){"use strict";const fastRedact=__webpack_require__(127),{redactFmtSym:redactFmtSym,wildcardFirstSym:wildcardFirstSym}=__webpack_require__(24),{rx:rx,validator:validator}=fastRedact,validate=validator({ERR_PATHS_MUST_BE_STRINGS:()=>"pino  redacted paths must be strings",ERR_INVALID_PATH:s=>`pino  redact paths array contains an invalid path (${s})`}),CENSOR="[Redacted]";module.exports=function(opts,serialize){const{paths:paths,censor:censor}=function(opts){if(Array.isArray(opts))return validate(opts={paths:opts,censor:CENSOR}),opts;var{paths:paths,censor:censor=CENSOR,remove:remove}=opts;if(!1===Array.isArray(paths))throw Error("pino  redact must contain an array of strings");!0===remove&&(censor=void 0);return validate({paths:paths,censor:censor}),{paths:paths,censor:censor}}(opts),shape=paths.reduce((o,str)=>{rx.lastIndex=0;const first=rx.exec(str),next=rx.exec(str);let ns=void 0!==first[1]?first[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):first[0];if("*"===ns&&(ns=wildcardFirstSym),null===next)return o[ns]=null,o;if(null===o[ns])return o;const{index:index}=next,nextPath=""+str.substr(index,str.length-1);return o[ns]=o[ns]||[],ns!==wildcardFirstSym&&0===o[ns].length&&o[ns].push(...o[wildcardFirstSym]||[]),ns===wildcardFirstSym&&Object.keys(o).forEach((function(k){o[k]&&o[k].push(nextPath)})),o[ns].push(nextPath),o},{}),result={[redactFmtSym]:fastRedact({paths:paths,censor:censor,serialize:serialize,strict:!1})},topCensor=(...args)=>serialize("function"==typeof censor?censor(...args):censor);return[...Object.keys(shape),...Object.getOwnPropertySymbols(shape)].reduce((o,k)=>(null===shape[k]?o[k]=topCensor:o[k]=fastRedact({paths:shape[k],censor:censor,serialize:serialize,strict:!1}),o),result)}},function(module,exports,__webpack_require__){"use strict";const validator=__webpack_require__(128),parse=__webpack_require__(130),redactor=__webpack_require__(131),restorer=__webpack_require__(132),{groupRedact:groupRedact,nestedRedact:nestedRedact}=__webpack_require__(56),state=__webpack_require__(133),rx=__webpack_require__(42),validate=validator(),noop=o=>o;noop.restore=noop;function fastRedact(opts={}){const paths=Array.from(new Set(opts.paths||[])),serialize="serialize"in opts&&(!1===opts.serialize||"function"==typeof opts.serialize)?opts.serialize:JSON.stringify,remove=opts.remove;if(!0===remove&&serialize!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");const censor=!0===remove?void 0:"censor"in opts?opts.censor:"[REDACTED]",isCensorFct="function"==typeof censor;if(0===paths.length)return serialize||noop;validate({paths:paths,serialize:serialize,censor:censor});const{wildcards:wildcards,wcLen:wcLen,secret:secret}=parse({paths:paths,censor:censor}),compileRestore=restorer({secret:secret,wcLen:wcLen}),strict=!("strict"in opts)||opts.strict;return redactor({secret:secret,wcLen:wcLen,serialize:serialize,strict:strict,isCensorFct:isCensorFct},state({secret:secret,censor:censor,compileRestore:compileRestore,serialize:serialize,groupRedact:groupRedact,nestedRedact:nestedRedact,wildcards:wildcards,wcLen:wcLen}))}fastRedact.rx=rx,fastRedact.validator=validator,module.exports=fastRedact},function(module,exports,__webpack_require__){"use strict";const{createContext:createContext,runInContext:runInContext}=__webpack_require__(129);module.exports=function(opts={}){const{ERR_PATHS_MUST_BE_STRINGS:ERR_PATHS_MUST_BE_STRINGS=(()=>"fast-redact - Paths must be strings"),ERR_INVALID_PATH:ERR_INVALID_PATH=(s=>`fast-redact  Invalid path (${s})`)}=opts;return function({paths:paths}){paths.forEach(s=>{if("string"!=typeof s)throw Error(ERR_PATHS_MUST_BE_STRINGS());try{if(//.test(s))throw Error();const proxy=new Proxy({},{get:()=>proxy,set:()=>{throw Error()}}),expr=("["===s[0]?"":".")+s.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(expr))throw Error();if(/\/\*/.test(expr))throw Error();runInContext(`\n          (function () {\n            'use strict'\n            o${expr}\n            if ([o${expr}].length !== 1) throw Error()\n          })()\n        `,createContext({o:proxy,"":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(e){throw Error(ERR_INVALID_PATH(s))}})}}},function(module,exports){module.exports=require("vm")},function(module,exports,__webpack_require__){"use strict";const rx=__webpack_require__(42);module.exports=function({paths:paths}){const wildcards=[];var wcLen=0;const secret=paths.reduce((function(o,strPath,ix){var path=strPath.match(rx).map(p=>p.replace(/'|"|`/g,""));const leadingBracket="["===strPath[0],star=(path=path.map(p=>"["===p[0]?p.substr(1,p.length-2):p)).indexOf("*");if(star>-1){const before=path.slice(0,star),beforeStr=before.join("."),after=path.slice(star+1,path.length);if(after.indexOf("*")>-1)throw Error("fast-redact  Only one wildcard per path is supported");const nested=after.length>0;wcLen++,wildcards.push({before:before,beforeStr:beforeStr,after:after,nested:nested})}else o[strPath]={path:path,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(strPath),leadingBracket:leadingBracket};return o}),{});return{wildcards:wildcards,wcLen:wcLen,secret:secret}}},function(module,exports,__webpack_require__){"use strict";const rx=__webpack_require__(42);module.exports=function({secret:secret,serialize:serialize,wcLen:wcLen,strict:strict,isCensorFct:isCensorFct},state){const redact=Function("o",`\n    if (typeof o !== 'object' || o == null) {\n      ${function(strict,serialize){return!0===strict?"throw Error('fast-redact: primitives cannot be redacted')":!1===serialize?"return o":"return this.serialize(o)"}(strict,serialize)}\n    }\n    const { censor, secret } = this\n    ${function(secret,isCensorFct){return Object.keys(secret).map(path=>{const{escPath:escPath,leadingBracket:leadingBracket}=secret[path],skip=leadingBracket?1:0,delim=leadingBracket?"":".",hops=[];for(var match;null!==(match=rx.exec(path));){const[,ix]=match,{index:index,input:input}=match;index>skip&&hops.push(input.substring(0,index-(ix?0:1)))}var existence=hops.map(p=>`o${delim}${p}`).join(" && ");0===existence.length?existence+=`o${delim}${path} != null`:existence+=` && o${delim}${path} != null`;const circularDetection=`\n      switch (true) {\n        ${hops.reverse().map(p=>`\n          case o${delim}${p} === censor:\n            secret[${escPath}].circle = ${JSON.stringify(p)}\n            break\n        `).join("\n")}\n      }\n    `;return`\n      if (${existence}) {\n        const val = o${delim}${path}\n        if (val === censor) {\n          secret[${escPath}].precensored = true\n        } else {\n          secret[${escPath}].val = val\n          o${delim}${path} = ${isCensorFct?"censor(val)":"censor"}\n          ${circularDetection}\n        }\n      }\n    `}).join("\n")}(secret,isCensorFct)}\n    this.compileRestore()\n    ${function(hasWildcards,isCensorFct){return!0===hasWildcards?`\n    {\n      const { wildcards, wcLen, groupRedact, nestedRedact } = this\n      for (var i = 0; i < wcLen; i++) {\n        const { before, beforeStr, after, nested } = wildcards[i]\n        if (nested === true) {\n          secret[beforeStr] = secret[beforeStr] || []\n          nestedRedact(secret[beforeStr], o, before, after, censor, ${isCensorFct})\n        } else secret[beforeStr] = groupRedact(o, before, censor, ${isCensorFct})\n      }\n    }\n  `:""}(wcLen>0,isCensorFct)}\n    ${function(serialize){return!1===serialize?"return o":"\n    var s = this.serialize(o)\n    this.restore(o)\n    return s\n  "}(serialize)}\n  `).bind(state);!1===serialize&&(redact.restore=o=>state.restore(o));return redact}},function(module,exports,__webpack_require__){"use strict";const{groupRestore:groupRestore,nestedRestore:nestedRestore}=__webpack_require__(56);module.exports=function({secret:secret,wcLen:wcLen}){return function(){if(this.restore)return;const paths=Object.keys(secret).filter(path=>!1===secret[path].precensored),resetters=function(secret,paths){return paths.map(path=>{const{circle:circle,escPath:escPath,leadingBracket:leadingBracket}=secret[path];return`\n      if (secret[${escPath}].val !== undefined) {\n        try { ${circle?`o.${circle} = secret[${escPath}].val`:`o${leadingBracket?"":"."}${path} = secret[${escPath}].val`} } catch (e) {}\n        ${`secret[${escPath}].val = undefined`}\n      }\n    `}).join("")}(secret,paths),hasWildcards=wcLen>0,state=hasWildcards?{secret:secret,groupRestore:groupRestore,nestedRestore:nestedRestore}:{secret:secret};this.restore=Function("o",function(resetters,paths,hasWildcards){const dynamicReset=!0===hasWildcards?`\n    const keys = Object.keys(secret)\n    const len = keys.length\n    for (var i = ${paths.length}; i < len; i++) {\n      const k = keys[i]\n      const o = secret[k]\n      if (o.flat === true) this.groupRestore(o)\n      else this.nestedRestore(o)\n      secret[k] = null\n    }\n  `:"";return`\n    const secret = this.secret\n    ${resetters}\n    ${dynamicReset}\n    return o\n  `}(resetters,paths,hasWildcards)).bind(state)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(o){const{secret:secret,censor:censor,isCensorFct:isCensorFct,compileRestore:compileRestore,serialize:serialize,groupRedact:groupRedact,nestedRedact:nestedRedact,wildcards:wildcards,wcLen:wcLen}=o,builder=[{secret:secret,censor:censor,isCensorFct:isCensorFct,compileRestore:compileRestore}];builder.push({secret:secret}),!1!==serialize&&builder.push({serialize:serialize});wcLen>0&&builder.push({groupRedact:groupRedact,nestedRedact:nestedRedact,wildcards:wildcards,wcLen:wcLen});return Object.assign(...builder)}},function(module,exports,__webpack_require__){"use strict";module.exports={nullTime:()=>"",epochTime:()=>',"time":'+Date.now(),unixTime:()=>',"time":'+Math.round(Date.now()/1e3),isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},function(module,exports,__webpack_require__){"use strict";const{EventEmitter:EventEmitter}=__webpack_require__(43),SonicBoom=__webpack_require__(57),flatstr=__webpack_require__(44),{lsCacheSym:lsCacheSym,levelValSym:levelValSym,setLevelSym:setLevelSym,getLevelSym:getLevelSym,chindingsSym:chindingsSym,mixinSym:mixinSym,asJsonSym:asJsonSym,writeSym:writeSym,timeSym:timeSym,timeSliceIndexSym:timeSliceIndexSym,streamSym:streamSym,serializersSym:serializersSym,formattersSym:formattersSym,useOnlyCustomLevelsSym:useOnlyCustomLevelsSym,needsMetadataGsym:needsMetadataGsym}=__webpack_require__(24),{getLevel:getLevel,setLevel:setLevel,isLevelEnabled:isLevelEnabled,mappings:mappings,initialLsCache:initialLsCache,genLsCache:genLsCache,assertNoLevelCollisions:assertNoLevelCollisions}=__webpack_require__(58),{asChindings:asChindings,asJson:asJson,buildFormatters:buildFormatters}=__webpack_require__(45),{version:version}=__webpack_require__(65),prototype={constructor:class Pino{},child:function(bindings){if(!bindings)throw Error("missing bindings for child Pino");const serializers=this[serializersSym],formatters=this[formattersSym],instance=Object.create(this);if(!0===bindings.hasOwnProperty("serializers")){for(var k in instance[serializersSym]=Object.create(null),serializers)instance[serializersSym][k]=serializers[k];const parentSymbols=Object.getOwnPropertySymbols(serializers);for(var i=0;i<parentSymbols.length;i++){const ks=parentSymbols[i];instance[serializersSym][ks]=serializers[ks]}for(var bk in bindings.serializers)instance[serializersSym][bk]=bindings.serializers[bk];const bindingsSymbols=Object.getOwnPropertySymbols(bindings.serializers);for(var bi=0;bi<bindingsSymbols.length;bi++){const bks=bindingsSymbols[bi];instance[serializersSym][bks]=bindings.serializers[bks]}}else instance[serializersSym]=serializers;if(bindings.hasOwnProperty("formatters")){const{level:level,bindings:chindings,log:log}=bindings.formatters;instance[formattersSym]=buildFormatters(level||formatters.level,chindings||resetChildingsFormatter,log||formatters.log)}else instance[formattersSym]=buildFormatters(formatters.level,resetChildingsFormatter,formatters.log);!0===bindings.hasOwnProperty("customLevels")&&(assertNoLevelCollisions(this.levels,bindings.customLevels),instance.levels=mappings(bindings.customLevels,instance[useOnlyCustomLevelsSym]),genLsCache(instance));instance[chindingsSym]=asChindings(instance,bindings);const childLevel=bindings.level||this.level;return instance[setLevelSym](childLevel),instance},bindings:function(){var chindingsJson=`{${this[chindingsSym].substr(1)}}`,bindingsFromJson=JSON.parse(chindingsJson);return delete bindingsFromJson.pid,delete bindingsFromJson.hostname,bindingsFromJson},setBindings:function(newBindings){const chindings=asChindings(this,newBindings);this[chindingsSym]=chindings},flush:function(){const stream=this[streamSym];"flush"in stream&&stream.flush()},isLevelEnabled:isLevelEnabled,version:version,get level(){return this[getLevelSym]()},set level(lvl){this[setLevelSym](lvl)},get levelVal(){return this[levelValSym]},set levelVal(n){throw Error("levelVal is read-only")},[lsCacheSym]:initialLsCache,[writeSym]:function(_obj,msg,num){const t=this[timeSym](),mixin=this[mixinSym],objError=_obj instanceof Error;var obj;null==_obj?obj=mixin?mixin():{}:(obj=Object.assign(mixin?mixin():{},_obj),!msg&&objError&&(msg=_obj.message),objError&&(obj.stack=_obj.stack,obj.type||(obj.type="Error")));const s=this[asJsonSym](obj,msg,num,t),stream=this[streamSym];!0===stream[needsMetadataGsym]&&(stream.lastLevel=num,stream.lastObj=obj,stream.lastMsg=msg,stream.lastTime=t.slice(this[timeSliceIndexSym]),stream.lastLogger=this);stream instanceof SonicBoom?stream.write(s):stream.write(flatstr(s))},[asJsonSym]:asJson,[getLevelSym]:getLevel,[setLevelSym]:setLevel};Object.setPrototypeOf(prototype,EventEmitter.prototype),module.exports=function(){return Object.create(prototype)};const resetChildingsFormatter=bindings=>bindings},function(module,exports,__webpack_require__){"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){const nil=new Int32Array(new SharedArrayBuffer(4));function sleep(ms){if(!1===(ms>0&&ms<1/0)){if("number"!=typeof ms&&"bigint"!=typeof ms)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(nil,0,0,Number(ms))}module.exports=sleep}else{function sleep(ms){if(!1===(ms>0&&ms<1/0)){if("number"!=typeof ms&&"bigint"!=typeof ms)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}const target=Date.now()+Number(ms);for(;target>Date.now(););}module.exports=sleep}},function(module,exports,__webpack_require__){"use strict";function tryStringify(o){try{return JSON.stringify(o)}catch(e){return'"[Circular]"'}}module.exports=function(f,args,opts){var ss=opts&&opts.stringify||tryStringify;if("object"==typeof f&&null!==f){var len=args.length+1;if(1===len)return f;var objects=new Array(len);objects[0]=ss(f);for(var index=1;index<len;index++)objects[index]=ss(args[index]);return objects.join(" ")}if("string"!=typeof f)return f;var argLen=args.length;if(0===argLen)return f;for(var str="",a=0,lastPos=-1,flen=f&&f.length||0,i=0;i<flen;){if(37===f.charCodeAt(i)&&i+1<flen){switch(lastPos=lastPos>-1?lastPos:0,f.charCodeAt(i+1)){case 100:if(a>=argLen)break;if(lastPos<i&&(str+=f.slice(lastPos,i)),null==args[a])break;str+=Number(args[a]),lastPos=i+=2;break;case 79:case 111:case 106:if(a>=argLen)break;if(lastPos<i&&(str+=f.slice(lastPos,i)),void 0===args[a])break;var type=typeof args[a];if("string"===type){str+="'"+args[a]+"'",lastPos=i+2,i++;break}if("function"===type){str+=args[a].name||"<anonymous>",lastPos=i+2,i++;break}str+=ss(args[a]),lastPos=i+2,i++;break;case 115:if(a>=argLen)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=String(args[a]),lastPos=i+2,i++;break;case 37:lastPos<i&&(str+=f.slice(lastPos,i)),str+="%",lastPos=i+2,i++}++a}++i}if(-1===lastPos)return f;lastPos<flen&&(str+=f.slice(lastPos));return str}},function(module,exports,__webpack_require__){"use strict";const chalk=__webpack_require__(60),jmespath=__webpack_require__(147),colors=__webpack_require__(64),{ERROR_LIKE_KEYS:ERROR_LIKE_KEYS,MESSAGE_KEY:MESSAGE_KEY,TIMESTAMP_KEY:TIMESTAMP_KEY}=__webpack_require__(46),{isObject:isObject,prettifyErrorLog:prettifyErrorLog,prettifyLevel:prettifyLevel,prettifyMessage:prettifyMessage,prettifyMetadata:prettifyMetadata,prettifyObject:prettifyObject,prettifyTime:prettifyTime}=__webpack_require__(148),bourne=__webpack_require__(150),defaultOptions={colorize:chalk.supportsColor,crlf:!1,errorLikeObjectKeys:ERROR_LIKE_KEYS,errorProps:"",levelFirst:!1,messageKey:MESSAGE_KEY,messageFormat:!1,timestampKey:TIMESTAMP_KEY,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};module.exports=function(options){const opts=Object.assign({},defaultOptions,options),EOL=opts.crlf?"\r\n":"\n",messageKey=opts.messageKey,levelKey=opts.levelKey,messageFormat=opts.messageFormat,timestampKey=opts.timestampKey,errorLikeObjectKeys=opts.errorLikeObjectKeys,errorProps=opts.errorProps.split(","),customPrettifiers=opts.customPrettifiers,ignoreKeys=opts.ignore?new Set(opts.ignore.split(",")):void 0,colorizer=colors(opts.colorize),search=opts.search;return function(inputData){let log;if(isObject(inputData))log=inputData;else{const parsed=(input=>{try{return{value:bourne.parse(input,{protoAction:"remove"})}}catch(err){return{err:err}}})(inputData);if(parsed.err||!isObject(parsed.value))return inputData+EOL;log=parsed.value}if(search&&!jmespath.search(log,search))return;const prettifiedMessage=prettifyMessage({log:log,messageKey:messageKey,colorizer:colorizer,messageFormat:messageFormat});ignoreKeys&&(log=Object.keys(log).filter(key=>!ignoreKeys.has(key)).reduce((res,key)=>(res[key]=log[key],res),{}));const prettifiedLevel=prettifyLevel({log:log,colorizer:colorizer,levelKey:levelKey}),prettifiedMetadata=prettifyMetadata({log:log}),prettifiedTime=prettifyTime({log:log,translateFormat:opts.translateTime,timestampKey:timestampKey});let line="";opts.levelFirst&&prettifiedLevel&&(line=""+prettifiedLevel);prettifiedTime&&""===line?line=""+prettifiedTime:prettifiedTime&&(line=`${line} ${prettifiedTime}`);!opts.levelFirst&&prettifiedLevel&&(line=line.length>0?`${line} ${prettifiedLevel}`:prettifiedLevel);prettifiedMetadata&&(line=`${line} ${prettifiedMetadata}:`);!1===line.endsWith(":")&&""!==line&&(line+=":");prettifiedMessage&&(line=`${line} ${prettifiedMessage}`);line.length>0&&(line+=EOL);if("Error"===log.type&&log.stack){const prettifiedErrorLog=prettifyErrorLog({log:log,errorLikeKeys:errorLikeObjectKeys,errorProperties:errorProps,ident:"    ",eol:EOL});line+=prettifiedErrorLog}else{const skipKeys=[messageKey,levelKey,timestampKey].filter(key=>"string"==typeof log[key]||"number"==typeof log[key]),prettifiedObject=prettifyObject({input:log,skipKeys:skipKeys,customPrettifiers:customPrettifiers,errorLikeKeys:errorLikeObjectKeys,eol:EOL,ident:"    "});line+=prettifiedObject}return line}}},function(module,exports,__webpack_require__){"use strict";(function(module){const wrapAnsi16=(fn,offset)=>(...args)=>`[${fn(...args)+offset}m`,wrapAnsi256=(fn,offset)=>(...args)=>{const code=fn(...args);return`[${38+offset};5;${code}m`},wrapAnsi16m=(fn,offset)=>(...args)=>{const rgb=fn(...args);return`[${38+offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`},ansi2ansi=n=>n,rgb2rgb=(r,g,b)=>[r,g,b],setLazyProperty=(object,property,get)=>{Object.defineProperty(object,property,{get:()=>{const value=get();return Object.defineProperty(object,property,{value:value,enumerable:!0,configurable:!0}),value},enumerable:!0,configurable:!0})};let colorConvert;const makeDynamicStyles=(wrap,targetSpace,identity,isBackground)=>{void 0===colorConvert&&(colorConvert=__webpack_require__(140));const offset=isBackground?10:0,styles={};for(const[sourceSpace,suite]of Object.entries(colorConvert)){const name="ansi16"===sourceSpace?"ansi":sourceSpace;sourceSpace===targetSpace?styles[name]=wrap(identity,offset):"object"==typeof suite&&(styles[name]=wrap(suite[targetSpace],offset))}return styles};Object.defineProperty(module,"exports",{enumerable:!0,get:function(){const codes=new Map,styles={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};styles.color.gray=styles.color.blackBright,styles.bgColor.bgGray=styles.bgColor.bgBlackBright,styles.color.grey=styles.color.blackBright,styles.bgColor.bgGrey=styles.bgColor.bgBlackBright;for(const[groupName,group]of Object.entries(styles)){for(const[styleName,style]of Object.entries(group))styles[styleName]={open:`[${style[0]}m`,close:`[${style[1]}m`},group[styleName]=styles[styleName],codes.set(style[0],style[1]);Object.defineProperty(styles,groupName,{value:group,enumerable:!1})}return Object.defineProperty(styles,"codes",{value:codes,enumerable:!1}),styles.color.close="[39m",styles.bgColor.close="[49m",setLazyProperty(styles.color,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,!1)),setLazyProperty(styles.color,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,!1)),setLazyProperty(styles.color,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,!1)),setLazyProperty(styles.bgColor,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,!0)),setLazyProperty(styles.bgColor,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,!0)),setLazyProperty(styles.bgColor,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,!0)),styles}})}).call(this,__webpack_require__(61)(module))},function(module,exports,__webpack_require__){const conversions=__webpack_require__(62),route=__webpack_require__(142),convert={};Object.keys(conversions).forEach(fromModel=>{convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels}),Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});const routes=route(fromModel);Object.keys(routes).forEach(toModel=>{const fn=routes[toModel];convert[fromModel][toModel]=function(fn){const wrappedFn=function(...args){const arg0=args[0];if(null==arg0)return arg0;arg0.length>1&&(args=arg0);const result=fn(args);if("object"==typeof result)for(let len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn),convert[fromModel][toModel].raw=function(fn){const wrappedFn=function(...args){const arg0=args[0];return null==arg0?arg0:(arg0.length>1&&(args=arg0),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn)})}),module.exports=convert},function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){const conversions=__webpack_require__(62);function deriveBFS(fromModel){const graph=function(){const graph={},models=Object.keys(conversions);for(let len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;){const current=queue.pop(),adjacents=Object.keys(conversions[current]);for(let len=adjacents.length,i=0;i<len;i++){const adjacent=adjacents[i],node=graph[adjacent];-1===node.distance&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){const path=[graph[toModel].parent,toModel];let fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;for(;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}module.exports=function(fromModel){const graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph);for(let len=models.length,i=0;i<len;i++){const toModel=models[i];null!==graph[toModel].parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(13),tty=__webpack_require__(63),hasFlag=__webpack_require__(144),{env:env}=process;let forceColor;function translateLevel(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}function supportsColor(haveStream,streamIsTTY){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(haveStream&&!streamIsTTY&&void 0===forceColor)return 0;const min=forceColor||0;if("dumb"===env.TERM)return min;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in env)return 1;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:min}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor="true"===env.FORCE_COLOR?1:"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3)),module.exports={supportsColor:function(stream){return translateLevel(supportsColor(stream,stream&&stream.isTTY))},stdout:translateLevel(supportsColor(!0,tty.isatty(1))),stderr:translateLevel(supportsColor(!0,tty.isatty(2)))}},function(module,exports,__webpack_require__){"use strict";module.exports=(flag,argv=process.argv)=>{const prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",position=argv.indexOf(prefix+flag),terminatorPosition=argv.indexOf("--");return-1!==position&&(-1===terminatorPosition||position<terminatorPosition)}},function(module,exports,__webpack_require__){"use strict";module.exports={stringReplaceAll:(string,substring,replacer)=>{let index=string.indexOf(substring);if(-1===index)return string;const substringLength=substring.length;let endIndex=0,returnValue="";do{returnValue+=string.substr(endIndex,index-endIndex)+substring+replacer,endIndex=index+substringLength,index=string.indexOf(substring,endIndex)}while(-1!==index);return returnValue+=string.substr(endIndex),returnValue},stringEncaseCRLFWithFirstIndex:(string,prefix,postfix,index)=>{let endIndex=0,returnValue="";do{const gotCR="\r"===string[index-1];returnValue+=string.substr(endIndex,(gotCR?index-1:index)-endIndex)+prefix+(gotCR?"\r\n":"\n")+postfix,endIndex=index+1,index=string.indexOf("\n",endIndex)}while(-1!==index);return returnValue+=string.substr(endIndex),returnValue}}},function(module,exports,__webpack_require__){"use strict";const TEMPLATE_REGEX=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(c){const u="u"===c[0],bracket="{"===c[1];return u&&!bracket&&5===c.length||"x"===c[0]&&3===c.length?String.fromCharCode(parseInt(c.slice(1),16)):u&&bracket?String.fromCodePoint(parseInt(c.slice(2,-1),16)):ESCAPES.get(c)||c}function parseArguments(name,arguments_){const results=[],chunks=arguments_.trim().split(/\s*,\s*/g);let matches;for(const chunk of chunks){const number=Number(chunk);if(Number.isNaN(number)){if(!(matches=chunk.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);results.push(matches[2].replace(ESCAPE_REGEX,(m,escape,character)=>escape?unescape(escape):character))}else results.push(number)}return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;const results=[];let matches;for(;null!==(matches=STYLE_REGEX.exec(style));){const name=matches[1];if(matches[2]){const args=parseArguments(name,matches[2]);results.push([name].concat(args))}else results.push([name])}return results}function buildStyle(chalk,styles){const enabled={};for(const layer of styles)for(const style of layer.styles)enabled[style[0]]=layer.inverse?null:style.slice(1);let current=chalk;for(const[styleName,styles]of Object.entries(enabled))if(Array.isArray(styles)){if(!(styleName in current))throw new Error("Unknown Chalk style: "+styleName);current=styles.length>0?current[styleName](...styles):current[styleName]}return current}module.exports=(chalk,temporary)=>{const styles=[],chunks=[];let chunk=[];if(temporary.replace(TEMPLATE_REGEX,(m,escapeCharacter,inverse,style,close,character)=>{if(escapeCharacter)chunk.push(unescape(escapeCharacter));else if(style){const string=chunk.join("");chunk=[],chunks.push(0===styles.length?string:buildStyle(chalk,styles)(string)),styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length)throw new Error("Found extraneous } in Chalk template literal");chunks.push(buildStyle(chalk,styles)(chunk.join(""))),chunk=[],styles.pop()}else chunk.push(character)}),chunks.push(chunk.join("")),styles.length>0){const errMessage=`Chalk template literal is missing ${styles.length} closing bracket${1===styles.length?"":"s"} (\`}\`)`;throw new Error(errMessage)}return chunks.join("")}},function(module,exports,__webpack_require__){!function(exports){"use strict";function isArray(obj){return null!==obj&&"[object Array]"===Object.prototype.toString.call(obj)}function isObject(obj){return null!==obj&&"[object Object]"===Object.prototype.toString.call(obj)}function strictDeepEqual(first,second){if(first===second)return!0;if(Object.prototype.toString.call(first)!==Object.prototype.toString.call(second))return!1;if(!0===isArray(first)){if(first.length!==second.length)return!1;for(var i=0;i<first.length;i++)if(!1===strictDeepEqual(first[i],second[i]))return!1;return!0}if(!0===isObject(first)){var keysSeen={};for(var key in first)if(hasOwnProperty.call(first,key)){if(!1===strictDeepEqual(first[key],second[key]))return!1;keysSeen[key]=!0}for(var key2 in second)if(hasOwnProperty.call(second,key2)&&!0!==keysSeen[key2])return!1;return!0}return!1}function isFalse(obj){if(""===obj||!1===obj||null===obj)return!0;if(isArray(obj)&&0===obj.length)return!0;if(isObject(obj)){for(var key in obj)if(obj.hasOwnProperty(key))return!1;return!0}return!1}var trimLeft;trimLeft="function"==typeof String.prototype.trimLeft?function(str){return str.trimLeft()}:function(str){return str.match(/^\s*(.*)/)[1]};var TYPE_NUMBER=0,TYPE_STRING=2,basicTokens={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},operatorStartToken={"<":!0,">":!0,"=":!0,"!":!0},skipChars={" ":!0,"\t":!0,"\n":!0};function isNum(ch){return ch>="0"&&ch<="9"||"-"===ch}function Lexer(){}Lexer.prototype={tokenize:function(stream){var start,identifier,token,ch,tokens=[];for(this._current=0;this._current<stream.length;)if((ch=stream[this._current])>="a"&&ch<="z"||ch>="A"&&ch<="Z"||"_"===ch)start=this._current,identifier=this._consumeUnquotedIdentifier(stream),tokens.push({type:"UnquotedIdentifier",value:identifier,start:start});else if(void 0!==basicTokens[stream[this._current]])tokens.push({type:basicTokens[stream[this._current]],value:stream[this._current],start:this._current}),this._current++;else if(isNum(stream[this._current]))token=this._consumeNumber(stream),tokens.push(token);else if("["===stream[this._current])token=this._consumeLBracket(stream),tokens.push(token);else if('"'===stream[this._current])start=this._current,identifier=this._consumeQuotedIdentifier(stream),tokens.push({type:"QuotedIdentifier",value:identifier,start:start});else if("'"===stream[this._current])start=this._current,identifier=this._consumeRawStringLiteral(stream),tokens.push({type:"Literal",value:identifier,start:start});else if("`"===stream[this._current]){start=this._current;var literal=this._consumeLiteral(stream);tokens.push({type:"Literal",value:literal,start:start})}else if(void 0!==operatorStartToken[stream[this._current]])tokens.push(this._consumeOperator(stream));else if(void 0!==skipChars[stream[this._current]])this._current++;else if("&"===stream[this._current])start=this._current,this._current++,"&"===stream[this._current]?(this._current++,tokens.push({type:"And",value:"&&",start:start})):tokens.push({type:"Expref",value:"&",start:start});else{if("|"!==stream[this._current]){var error=new Error("Unknown character:"+stream[this._current]);throw error.name="LexerError",error}start=this._current,this._current++,"|"===stream[this._current]?(this._current++,tokens.push({type:"Or",value:"||",start:start})):tokens.push({type:"Pipe",value:"|",start:start})}return tokens},_consumeUnquotedIdentifier:function(stream){var ch,start=this._current;for(this._current++;this._current<stream.length&&((ch=stream[this._current])>="a"&&ch<="z"||ch>="A"&&ch<="Z"||ch>="0"&&ch<="9"||"_"===ch);)this._current++;return stream.slice(start,this._current)},_consumeQuotedIdentifier:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;'"'!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&'"'!==stream[current+1]?current++:current+=2,this._current=current}return this._current++,JSON.parse(stream.slice(start,this._current))},_consumeRawStringLiteral:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;"'"!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&"'"!==stream[current+1]?current++:current+=2,this._current=current}return this._current++,stream.slice(start+1,this._current-1).replace("\\'","'")},_consumeNumber:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;isNum(stream[this._current])&&this._current<maxLength;)this._current++;return{type:"Number",value:parseInt(stream.slice(start,this._current)),start:start}},_consumeLBracket:function(stream){var start=this._current;return this._current++,"?"===stream[this._current]?(this._current++,{type:"Filter",value:"[?",start:start}):"]"===stream[this._current]?(this._current++,{type:"Flatten",value:"[]",start:start}):{type:"Lbracket",value:"[",start:start}},_consumeOperator:function(stream){var start=this._current,startingChar=stream[start];return this._current++,"!"===startingChar?"="===stream[this._current]?(this._current++,{type:"NE",value:"!=",start:start}):{type:"Not",value:"!",start:start}:"<"===startingChar?"="===stream[this._current]?(this._current++,{type:"LTE",value:"<=",start:start}):{type:"LT",value:"<",start:start}:">"===startingChar?"="===stream[this._current]?(this._current++,{type:"GTE",value:">=",start:start}):{type:"GT",value:">",start:start}:"="===startingChar&&"="===stream[this._current]?(this._current++,{type:"EQ",value:"==",start:start}):void 0},_consumeLiteral:function(stream){this._current++;for(var literal,start=this._current,maxLength=stream.length;"`"!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&"`"!==stream[current+1]?current++:current+=2,this._current=current}var literalString=trimLeft(stream.slice(start,this._current));return literalString=literalString.replace("\\`","`"),literal=this._looksLikeJSON(literalString)?JSON.parse(literalString):JSON.parse('"'+literalString+'"'),this._current++,literal},_looksLikeJSON:function(literalString){if(""===literalString)return!1;if('[{"'.indexOf(literalString[0])>=0)return!0;if(["true","false","null"].indexOf(literalString)>=0)return!0;if(!("-0123456789".indexOf(literalString[0])>=0))return!1;try{return JSON.parse(literalString),!0}catch(ex){return!1}}};var bindingPower={};function Parser(){}function TreeInterpreter(runtime){this.runtime=runtime}function Runtime(interpreter){this._interpreter=interpreter,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[TYPE_NUMBER]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[TYPE_NUMBER]}]},contains:{_func:this._functionContains,_signature:[{types:[TYPE_STRING,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},floor:{_func:this._functionFloor,_signature:[{types:[TYPE_NUMBER]}]},length:{_func:this._functionLength,_signature:[{types:[TYPE_STRING,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[TYPE_STRING]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[TYPE_STRING,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}bindingPower.EOF=0,bindingPower.UnquotedIdentifier=0,bindingPower.QuotedIdentifier=0,bindingPower.Rbracket=0,bindingPower.Rparen=0,bindingPower.Comma=0,bindingPower.Rbrace=0,bindingPower.Number=0,bindingPower.Current=0,bindingPower.Expref=0,bindingPower.Pipe=1,bindingPower.Or=2,bindingPower.And=3,bindingPower.EQ=5,bindingPower.GT=5,bindingPower.LT=5,bindingPower.GTE=5,bindingPower.LTE=5,bindingPower.NE=5,bindingPower.Flatten=9,bindingPower.Star=20,bindingPower.Filter=21,bindingPower.Dot=40,bindingPower.Not=45,bindingPower.Lbrace=50,bindingPower.Lbracket=55,bindingPower.Lparen=60,Parser.prototype={parse:function(expression){this._loadTokens(expression),this.index=0;var ast=this.expression(0);if("EOF"!==this._lookahead(0)){var t=this._lookaheadToken(0),error=new Error("Unexpected token type: "+t.type+", value: "+t.value);throw error.name="ParserError",error}return ast},_loadTokens:function(expression){var tokens=(new Lexer).tokenize(expression);tokens.push({type:"EOF",value:"",start:expression.length}),this.tokens=tokens},expression:function(rbp){var leftToken=this._lookaheadToken(0);this._advance();for(var left=this.nud(leftToken),currentToken=this._lookahead(0);rbp<bindingPower[currentToken];)this._advance(),left=this.led(currentToken,left),currentToken=this._lookahead(0);return left},_lookahead:function(number){return this.tokens[this.index+number].type},_lookaheadToken:function(number){return this.tokens[this.index+number]},_advance:function(){this.index++},nud:function(token){var right,expression;switch(token.type){case"Literal":return{type:"Literal",value:token.value};case"UnquotedIdentifier":return{type:"Field",name:token.value};case"QuotedIdentifier":var node={type:"Field",name:token.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return node;case"Not":return{type:"NotExpression",children:[right=this.expression(bindingPower.Not)]};case"Star":return right=null,{type:"ValueProjection",children:[{type:"Identity"},right="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(bindingPower.Star)]};case"Filter":return this.led(token.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},right=this._parseProjectionRHS(bindingPower.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(right=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},right)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},right=this._parseProjectionRHS(bindingPower.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[expression=this.expression(bindingPower.Expref)]};case"Lparen":for(var args=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(expression={type:"Current"},this._advance()):expression=this.expression(0),args.push(expression);return this._match("Rparen"),args[0];default:this._errorToken(token)}},led:function(tokenName,left){var right;switch(tokenName){case"Dot":var rbp=bindingPower.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[left,right=this._parseDotRHS(rbp)]}:(this._advance(),{type:"ValueProjection",children:[left,right=this._parseProjectionRHS(rbp)]});case"Pipe":return{type:"Pipe",children:[left,right=this.expression(bindingPower.Pipe)]};case"Or":return{type:"OrExpression",children:[left,right=this.expression(bindingPower.Or)]};case"And":return{type:"AndExpression",children:[left,right=this.expression(bindingPower.And)]};case"Lparen":for(var expression,name=left.name,args=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(expression={type:"Current"},this._advance()):expression=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),args.push(expression);return this._match("Rparen"),{type:"Function",name:name,children:args};case"Filter":var condition=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[left,right="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(bindingPower.Filter),condition]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[left]},this._parseProjectionRHS(bindingPower.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(left,tokenName);case"Lbracket":var token=this._lookaheadToken(0);return"Number"===token.type||"Colon"===token.type?(right=this._parseIndexExpression(),this._projectIfSlice(left,right)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[left,right=this._parseProjectionRHS(bindingPower.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(tokenType){if(this._lookahead(0)!==tokenType){var t=this._lookaheadToken(0),error=new Error("Expected "+tokenType+", got: "+t.type);throw error.name="ParserError",error}this._advance()},_errorToken:function(token){var error=new Error("Invalid token ("+token.type+'): "'+token.value+'"');throw error.name="ParserError",error},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var node={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),node},_projectIfSlice:function(left,right){var indexExpr={type:"IndexExpression",children:[left,right]};return"Slice"===right.type?{type:"Projection",children:[indexExpr,this._parseProjectionRHS(bindingPower.Star)]}:indexExpr},_parseSliceExpression:function(){for(var parts=[null,null,null],index=0,currentToken=this._lookahead(0);"Rbracket"!==currentToken&&index<3;){if("Colon"===currentToken)index++,this._advance();else{if("Number"!==currentToken){var t=this._lookahead(0),error=new Error("Syntax error, unexpected token: "+t.value+"("+t.type+")");throw error.name="Parsererror",error}parts[index]=this._lookaheadToken(0).value,this._advance()}currentToken=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:parts}},_parseComparator:function(left,comparator){return{type:"Comparator",name:comparator,children:[left,this.expression(bindingPower[comparator])]}},_parseDotRHS:function(rbp){var lookahead=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(lookahead)>=0?this.expression(rbp):"Lbracket"===lookahead?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===lookahead?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(rbp){var right;if(bindingPower[this._lookahead(0)]<10)right={type:"Identity"};else if("Lbracket"===this._lookahead(0))right=this.expression(rbp);else if("Filter"===this._lookahead(0))right=this.expression(rbp);else{if("Dot"!==this._lookahead(0)){var t=this._lookaheadToken(0),error=new Error("Sytanx error, unexpected token: "+t.value+"("+t.type+")");throw error.name="ParserError",error}this._match("Dot"),right=this._parseDotRHS(rbp)}return right},_parseMultiselectList:function(){for(var expressions=[];"Rbracket"!==this._lookahead(0);){var expression=this.expression(0);if(expressions.push(expression),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:expressions}},_parseMultiselectHash:function(){for(var keyToken,keyName,node,pairs=[],identifierTypes=["UnquotedIdentifier","QuotedIdentifier"];;){if(keyToken=this._lookaheadToken(0),identifierTypes.indexOf(keyToken.type)<0)throw new Error("Expecting an identifier token, got: "+keyToken.type);if(keyName=keyToken.value,this._advance(),this._match("Colon"),node={type:"KeyValuePair",name:keyName,value:this.expression(0)},pairs.push(node),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:pairs}}},TreeInterpreter.prototype={search:function(node,value){return this.visit(node,value)},visit:function(node,value){var matched,current,result,first,second,field,left,collected,i;switch(node.type){case"Field":return null===value?null:isObject(value)?void 0===(field=value[node.name])?null:field:null;case"Subexpression":for(result=this.visit(node.children[0],value),i=1;i<node.children.length;i++)if(null===(result=this.visit(node.children[1],result)))return null;return result;case"IndexExpression":return left=this.visit(node.children[0],value),this.visit(node.children[1],left);case"Index":if(!isArray(value))return null;var index=node.value;return index<0&&(index=value.length+index),void 0===(result=value[index])&&(result=null),result;case"Slice":if(!isArray(value))return null;var sliceParams=node.children.slice(0),computed=this.computeSliceParams(value.length,sliceParams),start=computed[0],stop=computed[1],step=computed[2];if(result=[],step>0)for(i=start;i<stop;i+=step)result.push(value[i]);else for(i=start;i>stop;i+=step)result.push(value[i]);return result;case"Projection":var base=this.visit(node.children[0],value);if(!isArray(base))return null;for(collected=[],i=0;i<base.length;i++)null!==(current=this.visit(node.children[1],base[i]))&&collected.push(current);return collected;case"ValueProjection":if(!isObject(base=this.visit(node.children[0],value)))return null;collected=[];var values=function(obj){for(var keys=Object.keys(obj),values=[],i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}(base);for(i=0;i<values.length;i++)null!==(current=this.visit(node.children[1],values[i]))&&collected.push(current);return collected;case"FilterProjection":if(!isArray(base=this.visit(node.children[0],value)))return null;var filtered=[],finalResults=[];for(i=0;i<base.length;i++)isFalse(matched=this.visit(node.children[2],base[i]))||filtered.push(base[i]);for(var j=0;j<filtered.length;j++)null!==(current=this.visit(node.children[1],filtered[j]))&&finalResults.push(current);return finalResults;case"Comparator":switch(first=this.visit(node.children[0],value),second=this.visit(node.children[1],value),node.name){case"EQ":result=strictDeepEqual(first,second);break;case"NE":result=!strictDeepEqual(first,second);break;case"GT":result=first>second;break;case"GTE":result=first>=second;break;case"LT":result=first<second;break;case"LTE":result=first<=second;break;default:throw new Error("Unknown comparator: "+node.name)}return result;case"Flatten":var original=this.visit(node.children[0],value);if(!isArray(original))return null;var merged=[];for(i=0;i<original.length;i++)isArray(current=original[i])?merged.push.apply(merged,current):merged.push(current);return merged;case"Identity":return value;case"MultiSelectList":if(null===value)return null;for(collected=[],i=0;i<node.children.length;i++)collected.push(this.visit(node.children[i],value));return collected;case"MultiSelectHash":if(null===value)return null;var child;for(collected={},i=0;i<node.children.length;i++)collected[(child=node.children[i]).name]=this.visit(child.value,value);return collected;case"OrExpression":return isFalse(matched=this.visit(node.children[0],value))&&(matched=this.visit(node.children[1],value)),matched;case"AndExpression":return!0===isFalse(first=this.visit(node.children[0],value))?first:this.visit(node.children[1],value);case"NotExpression":return isFalse(first=this.visit(node.children[0],value));case"Literal":return node.value;case"Pipe":return left=this.visit(node.children[0],value),this.visit(node.children[1],left);case"Current":return value;case"Function":var resolvedArgs=[];for(i=0;i<node.children.length;i++)resolvedArgs.push(this.visit(node.children[i],value));return this.runtime.callFunction(node.name,resolvedArgs);case"ExpressionReference":var refNode=node.children[0];return refNode.jmespathType="Expref",refNode;default:throw new Error("Unknown node type: "+node.type)}},computeSliceParams:function(arrayLength,sliceParams){var start=sliceParams[0],stop=sliceParams[1],step=sliceParams[2],computed=[null,null,null];if(null===step)step=1;else if(0===step){var error=new Error("Invalid slice, step cannot be 0");throw error.name="RuntimeError",error}var stepValueNegative=step<0;return start=null===start?stepValueNegative?arrayLength-1:0:this.capSliceRange(arrayLength,start,step),stop=null===stop?stepValueNegative?-1:arrayLength:this.capSliceRange(arrayLength,stop,step),computed[0]=start,computed[1]=stop,computed[2]=step,computed},capSliceRange:function(arrayLength,actualValue,step){return actualValue<0?(actualValue+=arrayLength)<0&&(actualValue=step<0?-1:0):actualValue>=arrayLength&&(actualValue=step<0?arrayLength-1:arrayLength),actualValue}},Runtime.prototype={callFunction:function(name,resolvedArgs){var functionEntry=this.functionTable[name];if(void 0===functionEntry)throw new Error("Unknown function: "+name+"()");return this._validateArgs(name,resolvedArgs,functionEntry._signature),functionEntry._func.call(this,resolvedArgs)},_validateArgs:function(name,args,signature){var pluralized,currentSpec,actualType,typeMatched;if(signature[signature.length-1].variadic){if(args.length<signature.length)throw pluralized=1===signature.length?" argument":" arguments",new Error("ArgumentError: "+name+"() takes at least"+signature.length+pluralized+" but received "+args.length)}else if(args.length!==signature.length)throw pluralized=1===signature.length?" argument":" arguments",new Error("ArgumentError: "+name+"() takes "+signature.length+pluralized+" but received "+args.length);for(var i=0;i<signature.length;i++){typeMatched=!1,currentSpec=signature[i].types,actualType=this._getTypeName(args[i]);for(var j=0;j<currentSpec.length;j++)if(this._typeMatches(actualType,currentSpec[j],args[i])){typeMatched=!0;break}if(!typeMatched)throw new Error("TypeError: "+name+"() expected argument "+(i+1)+" to be type "+currentSpec+" but received type "+actualType+" instead.")}},_typeMatches:function(actual,expected,argValue){if(1===expected)return!0;if(9!==expected&&8!==expected&&3!==expected)return actual===expected;if(3===expected)return 3===actual;if(3===actual){var subtype;8===expected?subtype=TYPE_NUMBER:9===expected&&(subtype=TYPE_STRING);for(var i=0;i<argValue.length;i++)if(!this._typeMatches(this._getTypeName(argValue[i]),subtype,argValue[i]))return!1;return!0}},_getTypeName:function(obj){switch(Object.prototype.toString.call(obj)){case"[object String]":return TYPE_STRING;case"[object Number]":return TYPE_NUMBER;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===obj.jmespathType?6:4}},_functionStartsWith:function(resolvedArgs){return 0===resolvedArgs[0].lastIndexOf(resolvedArgs[1])},_functionEndsWith:function(resolvedArgs){var searchStr=resolvedArgs[0],suffix=resolvedArgs[1];return-1!==searchStr.indexOf(suffix,searchStr.length-suffix.length)},_functionReverse:function(resolvedArgs){if(this._getTypeName(resolvedArgs[0])===TYPE_STRING){for(var originalStr=resolvedArgs[0],reversedStr="",i=originalStr.length-1;i>=0;i--)reversedStr+=originalStr[i];return reversedStr}var reversedArray=resolvedArgs[0].slice(0);return reversedArray.reverse(),reversedArray},_functionAbs:function(resolvedArgs){return Math.abs(resolvedArgs[0])},_functionCeil:function(resolvedArgs){return Math.ceil(resolvedArgs[0])},_functionAvg:function(resolvedArgs){for(var sum=0,inputArray=resolvedArgs[0],i=0;i<inputArray.length;i++)sum+=inputArray[i];return sum/inputArray.length},_functionContains:function(resolvedArgs){return resolvedArgs[0].indexOf(resolvedArgs[1])>=0},_functionFloor:function(resolvedArgs){return Math.floor(resolvedArgs[0])},_functionLength:function(resolvedArgs){return isObject(resolvedArgs[0])?Object.keys(resolvedArgs[0]).length:resolvedArgs[0].length},_functionMap:function(resolvedArgs){for(var mapped=[],interpreter=this._interpreter,exprefNode=resolvedArgs[0],elements=resolvedArgs[1],i=0;i<elements.length;i++)mapped.push(interpreter.visit(exprefNode,elements[i]));return mapped},_functionMerge:function(resolvedArgs){for(var merged={},i=0;i<resolvedArgs.length;i++){var current=resolvedArgs[i];for(var key in current)merged[key]=current[key]}return merged},_functionMax:function(resolvedArgs){if(resolvedArgs[0].length>0){if(this._getTypeName(resolvedArgs[0][0])===TYPE_NUMBER)return Math.max.apply(Math,resolvedArgs[0]);for(var elements=resolvedArgs[0],maxElement=elements[0],i=1;i<elements.length;i++)maxElement.localeCompare(elements[i])<0&&(maxElement=elements[i]);return maxElement}return null},_functionMin:function(resolvedArgs){if(resolvedArgs[0].length>0){if(this._getTypeName(resolvedArgs[0][0])===TYPE_NUMBER)return Math.min.apply(Math,resolvedArgs[0]);for(var elements=resolvedArgs[0],minElement=elements[0],i=1;i<elements.length;i++)elements[i].localeCompare(minElement)<0&&(minElement=elements[i]);return minElement}return null},_functionSum:function(resolvedArgs){for(var sum=0,listToSum=resolvedArgs[0],i=0;i<listToSum.length;i++)sum+=listToSum[i];return sum},_functionType:function(resolvedArgs){switch(this._getTypeName(resolvedArgs[0])){case TYPE_NUMBER:return"number";case TYPE_STRING:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(resolvedArgs){return Object.keys(resolvedArgs[0])},_functionValues:function(resolvedArgs){for(var obj=resolvedArgs[0],keys=Object.keys(obj),values=[],i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values},_functionJoin:function(resolvedArgs){var joinChar=resolvedArgs[0];return resolvedArgs[1].join(joinChar)},_functionToArray:function(resolvedArgs){return 3===this._getTypeName(resolvedArgs[0])?resolvedArgs[0]:[resolvedArgs[0]]},_functionToString:function(resolvedArgs){return this._getTypeName(resolvedArgs[0])===TYPE_STRING?resolvedArgs[0]:JSON.stringify(resolvedArgs[0])},_functionToNumber:function(resolvedArgs){var convertedValue,typeName=this._getTypeName(resolvedArgs[0]);return typeName===TYPE_NUMBER?resolvedArgs[0]:typeName!==TYPE_STRING||(convertedValue=+resolvedArgs[0],isNaN(convertedValue))?null:convertedValue},_functionNotNull:function(resolvedArgs){for(var i=0;i<resolvedArgs.length;i++)if(7!==this._getTypeName(resolvedArgs[i]))return resolvedArgs[i];return null},_functionSort:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);return sortedArray.sort(),sortedArray},_functionSortBy:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);if(0===sortedArray.length)return sortedArray;var interpreter=this._interpreter,exprefNode=resolvedArgs[1],requiredType=this._getTypeName(interpreter.visit(exprefNode,sortedArray[0]));if([TYPE_NUMBER,TYPE_STRING].indexOf(requiredType)<0)throw new Error("TypeError");for(var that=this,decorated=[],i=0;i<sortedArray.length;i++)decorated.push([i,sortedArray[i]]);decorated.sort((function(a,b){var exprA=interpreter.visit(exprefNode,a[1]),exprB=interpreter.visit(exprefNode,b[1]);if(that._getTypeName(exprA)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprA));if(that._getTypeName(exprB)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprB));return exprA>exprB?1:exprA<exprB?-1:a[0]-b[0]}));for(var j=0;j<decorated.length;j++)sortedArray[j]=decorated[j][1];return sortedArray},_functionMaxBy:function(resolvedArgs){for(var maxRecord,current,exprefNode=resolvedArgs[1],resolvedArray=resolvedArgs[0],keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]),maxNumber=-1/0,i=0;i<resolvedArray.length;i++)(current=keyFunction(resolvedArray[i]))>maxNumber&&(maxNumber=current,maxRecord=resolvedArray[i]);return maxRecord},_functionMinBy:function(resolvedArgs){for(var minRecord,current,exprefNode=resolvedArgs[1],resolvedArray=resolvedArgs[0],keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]),minNumber=1/0,i=0;i<resolvedArray.length;i++)(current=keyFunction(resolvedArray[i]))<minNumber&&(minNumber=current,minRecord=resolvedArray[i]);return minRecord},createKeyFunction:function(exprefNode,allowedTypes){var that=this,interpreter=this._interpreter;return function(x){var current=interpreter.visit(exprefNode,x);if(allowedTypes.indexOf(that._getTypeName(current))<0){var msg="TypeError: expected one of "+allowedTypes+", received "+that._getTypeName(current);throw new Error(msg)}return current}}},exports.tokenize=function(stream){return(new Lexer).tokenize(stream)},exports.compile=function(stream){return(new Parser).parse(stream)},exports.search=function(data,expression){var parser=new Parser,runtime=new Runtime,interpreter=new TreeInterpreter(runtime);runtime._interpreter=interpreter;var node=parser.parse(expression);return interpreter.search(node,data)},exports.strictDeepEqual=strictDeepEqual}(exports)},function(module,exports,__webpack_require__){"use strict";const dateformat=__webpack_require__(149),stringifySafe=__webpack_require__(59),defaultColorizer=__webpack_require__(64)(),{DATE_FORMAT:DATE_FORMAT,ERROR_LIKE_KEYS:ERROR_LIKE_KEYS,MESSAGE_KEY:MESSAGE_KEY,LEVEL_KEY:LEVEL_KEY,TIMESTAMP_KEY:TIMESTAMP_KEY,LOGGER_KEYS:LOGGER_KEYS}=__webpack_require__(46);function formatTime(epoch,translateTime=!1){if(!1===translateTime)return epoch;const instant=new Date(epoch);if(!0===translateTime)return dateformat(instant,"UTC:"+DATE_FORMAT);const upperFormat=translateTime.toUpperCase();if("SYS:STANDARD"===upperFormat)return dateformat(instant,DATE_FORMAT);const prefix=upperFormat.substr(0,4);return dateformat(instant,"SYS:"===prefix||"UTC:"===prefix?"UTC:"===prefix?translateTime:translateTime.slice(4):"UTC:"+translateTime)}function isObject(input){return"[object Object]"===Object.prototype.toString.apply(input)}function joinLinesWithIndentation({input:input,ident:ident="    ",eol:eol="\n"}){const lines=input.split(/\r?\n/);for(var i=1;i<lines.length;i+=1)lines[i]=ident+lines[i];return lines.join(eol)}function prettifyObject({input:input,ident:ident="    ",eol:eol="\n",skipKeys:skipKeys=[],customPrettifiers:customPrettifiers={},errorLikeKeys:errorLikeKeys=ERROR_LIKE_KEYS,excludeLoggerKeys:excludeLoggerKeys=!0}){const objectKeys=Object.keys(input),keysToIgnore=[].concat(skipKeys);!0===excludeLoggerKeys&&Array.prototype.push.apply(keysToIgnore,LOGGER_KEYS);let result="";const keysToIterate=objectKeys.filter(k=>!1===keysToIgnore.includes(k));for(var i=0;i<objectKeys.length;i+=1){const keyName=keysToIterate[i],keyValue=input[keyName];if(void 0===keyValue)continue;let lines;if(lines="function"==typeof customPrettifiers[keyName]?customPrettifiers[keyName](keyValue,keyName,input):stringifySafe(keyValue,null,2),void 0===lines)continue;const joinedLines=joinLinesWithIndentation({input:lines,ident:ident,eol:eol});if(!0===errorLikeKeys.includes(keyName)){const splitLines=`${ident}${keyName}: ${joinedLines}${eol}`.split(eol);for(var j=0;j<splitLines.length;j+=1){0!==j&&(result+=eol);const line=splitLines[j];if(/^\s*"stack"/.test(line)){const matches=/^(\s*"stack":)\s*(".*"),?$/.exec(line);if(matches&&3===matches.length){const indentSize=/^\s*/.exec(line)[0].length+4,indentation=" ".repeat(indentSize),stackMessage=matches[2];result+=matches[1]+eol+indentation+JSON.parse(stackMessage).replace(/\n/g,eol+indentation)}}else result+=line}}else result+=`${ident}${keyName}: ${joinedLines}${eol}`}return result}module.exports={isObject:isObject,prettifyErrorLog:function({log:log,messageKey:messageKey=MESSAGE_KEY,ident:ident="    ",eol:eol="\n",errorLikeKeys:errorLikeKeys=ERROR_LIKE_KEYS,errorProperties:errorProperties=[]}){const joinedLines=joinLinesWithIndentation({input:log.stack,ident:ident,eol:eol});let result=`${ident}${joinedLines}${eol}`;if(errorProperties.length>0){const excludeProperties=LOGGER_KEYS.concat(messageKey,"type","stack");let propertiesToPrint;propertiesToPrint="*"===errorProperties[0]?Object.keys(log).filter(k=>!1===excludeProperties.includes(k)):errorProperties.filter(k=>!1===excludeProperties.includes(k));for(var i=0;i<propertiesToPrint.length;i+=1){const key=propertiesToPrint[i];if(key in log!=!1)if(isObject(log[key])){const prettifiedObject=prettifyObject({input:log[key],errorLikeKeys:errorLikeKeys,excludeLoggerKeys:!1,eol:eol,ident:ident});result=`${result}${key}: {${eol}${prettifiedObject}}${eol}`}else result=`${result}${key}: ${log[key]}${eol}`}}return result},prettifyLevel:function({log:log,colorizer:colorizer=defaultColorizer,levelKey:levelKey=LEVEL_KEY}){return levelKey in log==!1?void 0:colorizer(log[levelKey])},prettifyMessage:function({log:log,messageFormat:messageFormat,messageKey:messageKey=MESSAGE_KEY,colorizer:colorizer=defaultColorizer}){if(messageFormat){const message=String(messageFormat).replace(/{([^{}]+)}/g,(function(match,p1){return p1&&log[p1]?log[p1]:""}));return colorizer.message(message)}return messageKey in log==!1||"string"!=typeof log[messageKey]?void 0:colorizer.message(log[messageKey])},prettifyMetadata:function({log:log}){let line="";(log.name||log.pid||log.hostname)&&(line+="(",log.name&&(line+=log.name),log.name&&log.pid?line+="/"+log.pid:log.pid&&(line+=log.pid),log.hostname&&(line+=`${"("===line?"on":" on"} ${log.hostname}`),line+=")");log.caller&&(line+=`${""===line?"":" "}<${log.caller}>`);return""===line?void 0:line},prettifyObject:prettifyObject,prettifyTime:function({log:log,timestampKey:timestampKey=TIMESTAMP_KEY,translateFormat:translateFormat}){let time=null;timestampKey in log?time=log[timestampKey]:"timestamp"in log&&(time=log.timestamp);if(null===time)return;if(translateFormat)return"["+formatTime(time,translateFormat)+"]";return`[${time}]`}},module.exports.internals={formatTime:formatTime,joinLinesWithIndentation:joinLinesWithIndentation}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){"use strict";var token,timezone,timezoneClip,dateFormat=(token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,function(date,mask,utc,gmt){if(1!==arguments.length||"string"!==kindOf(date)||/\d/.test(date)||(mask=date,date=void 0),(date=date||new Date)instanceof Date||(date=new Date(date)),isNaN(date))throw TypeError("Invalid date");var maskSlice=(mask=String(dateFormat.masks[mask]||mask||dateFormat.masks.default)).slice(0,4);"UTC:"!==maskSlice&&"GMT:"!==maskSlice||(mask=mask.slice(4),utc=!0,"GMT:"===maskSlice&&(gmt=!0));var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),W=getWeek(date),N=getDayOfWeek(date),flags={d:d,dd:pad(d),ddd:dateFormat.i18n.dayNames[D],dddd:dateFormat.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dateFormat.i18n.monthNames[m],mmmm:dateFormat.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(Math.round(L/10)),t:H<12?dateFormat.i18n.timeNames[0]:dateFormat.i18n.timeNames[1],tt:H<12?dateFormat.i18n.timeNames[2]:dateFormat.i18n.timeNames[3],T:H<12?dateFormat.i18n.timeNames[4]:dateFormat.i18n.timeNames[5],TT:H<12?dateFormat.i18n.timeNames[6]:dateFormat.i18n.timeNames[7],Z:gmt?"GMT":utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:W,N:N};return mask.replace(token,(function(match){return match in flags?flags[match]:match.slice(1,match.length-1)}))});function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}function getWeek(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/6048e5;return 1+Math.floor(weekDiff)}function getDayOfWeek(date){var dow=date.getDay();return 0===dow&&(dow=7),dow}function kindOf(val){return null===val?"null":void 0===val?"undefined":"object"!=typeof val?typeof val:Array.isArray(val)?"array":{}.toString.call(val).slice(8,-1).toLowerCase()}dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return dateFormat}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";const internals_suspectRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;exports.parse=function(text,...args){const firstOptions="object"==typeof args[0]&&args[0],reviver=args.length>1||!firstOptions?args[0]:void 0,options=args.length>1&&args[1]||firstOptions||{},obj=JSON.parse(text,reviver);return"ignore"===options.protoAction?obj:obj&&"object"==typeof obj&&text.match(internals_suspectRx)?(exports.scan(obj,options),obj):obj},exports.scan=function(obj,options={}){let next=[obj];for(;next.length;){const nodes=next;next=[];for(const node of nodes){if(Object.prototype.hasOwnProperty.call(node,"__proto__")){if("remove"!==options.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete node.__proto__}for(const key in node){const value=node[key];value&&"object"==typeof value&&next.push(node[key])}}}},exports.safeParse=function(text,reviver){try{return exports.parse(text,reviver)}catch(ignoreError){return null}}},function(module){module.exports=JSON.parse('{"name":"pino","version":"6.5.0","description":"super fast, all natural json logger","main":"pino.js","browser":"./browser.js","files":["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","test":"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"airtap":"2.0.2","benchmark":"^2.1.4","bole":"^3.0.2","bunyan":"^1.8.12","docsify-cli":"^4.4.0","execa":"^1.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","log":"^5.0.0","loglevel":"^1.6.7","pino-pretty":"^4.0.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","semver":"^6.3.0","snazzy":"^8.0.0","split2":"^3.1.1","standard":"^14.3.3","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^14.10.7","tape":"^4.13.2","through2":"^3.0.1","winston":"^3.2.1"},"dependencies":{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7","flatstr":"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.0"}}')},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports){module.exports=require("tls")},function(module,exports){module.exports=require("assert")},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};const events_1=__webpack_require__(43),promisify_1=__importDefault(__webpack_require__(156));function isSecureEndpoint(){const{stack:stack}=new Error;return"string"==typeof stack&&stack.split("\n").some(l=>-1!==l.indexOf("(https.js:"))}function createAgent(callback,opts){return new createAgent.Agent(callback,opts)}!function(createAgent){class Agent extends events_1.EventEmitter{constructor(callback,_opts){super(),this.promisifiedCallback=void 0;let opts=_opts;"function"==typeof callback?this.callback=callback:callback&&(opts=callback),this.timeout=null,opts&&"number"==typeof opts.timeout&&(this.timeout=opts.timeout),this.options=opts||{},this.maxFreeSockets=1,this.maxSockets=1,this.sockets=[],this.requests=[]}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:isSecureEndpoint()?443:80}set defaultPort(v){this.explicitDefaultPort=v}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:isSecureEndpoint()?"https:":"http:"}set protocol(v){this.explicitProtocol=v}callback(req,opts,fn){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(req,_opts){const ownOpts=Object.assign({},_opts);"boolean"!=typeof ownOpts.secureEndpoint&&(ownOpts.secureEndpoint=isSecureEndpoint()),null==ownOpts.host&&(ownOpts.host="localhost"),null==ownOpts.port&&(ownOpts.port=ownOpts.secureEndpoint?443:80);const opts=Object.assign(Object.assign({},this.options),ownOpts);opts.host&&opts.path&&delete opts.path,delete opts.agent,delete opts.hostname,delete opts._defaultAgent,delete opts.defaultPort,delete opts.createConnection,req._last=!0,req.shouldKeepAlive=!1;let timedOut=!1,timeout=null;const timeoutMs=this.timeout,freeSocket=this.freeSocket;function onerror(err){req._hadError||(req.emit("error",err),req._hadError=!0)}function callbackError(err){timedOut||(null!==timeout&&(clearTimeout(timeout),timeout=null),onerror(err))}if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?this.promisifiedCallback=promisify_1.default(this.callback):this.promisifiedCallback=this.callback),"number"==typeof timeoutMs&&timeoutMs>0&&(timeout=setTimeout((function(){timeout=null,timedOut=!0;const err=new Error(`A "socket" was not created for HTTP request before ${timeoutMs}ms`);err.code="ETIMEOUT",onerror(err)}),timeoutMs)),"port"in opts&&"number"!=typeof opts.port&&(opts.port=Number(opts.port));try{Promise.resolve(this.promisifiedCallback(req,opts)).then((function(socket){let sock;if(timedOut)return;if(null!=timeout&&(clearTimeout(timeout),timeout=null),v=socket,Boolean(v)&&"function"==typeof v.addRequest||function(v){return Boolean(v)&&"function"==typeof v.addRequest}(socket))return void socket.addRequest(req,opts);var v;if(socket)return sock=socket,sock.on("free",(function(){freeSocket(sock,opts)})),void req.onSocket(sock);onerror(new Error(`no Duplex stream was returned to agent-base for \`${req.method} ${req.path}\``))}),callbackError)}catch(err){Promise.reject(err).catch(callbackError)}}else onerror(new Error("`callback` is not defined"))}freeSocket(socket,opts){socket.destroy()}destroy(){}}createAgent.Agent=Agent}(createAgent||(createAgent={})),createAgent.prototype=createAgent.Agent.prototype,module.exports=createAgent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(fn){return function(req,opts){return new Promise((resolve,reject)=>{fn.call(this,req,opts,(err,rtn)=>{err?reject(err):resolve(rtn)})})}}},function(module,exports,__webpack_require__){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?module.exports=__webpack_require__(158):module.exports=__webpack_require__(160)},function(module,exports,__webpack_require__){exports.log=function(...args){return"object"==typeof console&&console.log&&console.log(...args)},exports.formatArgs=function(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)},exports.save=function(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function(){let r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function(){try{return localStorage}catch(error){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=__webpack_require__(67)(exports);const{formatters:formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,msAbs,n,name){var isPlural=msAbs>=1.5*n;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&isFinite(val))return options.long?function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return plural(ms,msAbs,d,"day");if(msAbs>=h)return plural(ms,msAbs,h,"hour");if(msAbs>=m)return plural(ms,msAbs,m,"minute");if(msAbs>=s)return plural(ms,msAbs,s,"second");return ms+" ms"}(val):function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return Math.round(ms/d)+"d";if(msAbs>=h)return Math.round(ms/h)+"h";if(msAbs>=m)return Math.round(ms/m)+"m";if(msAbs>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){const tty=__webpack_require__(63),util=__webpack_require__(14);exports.init=function(debug){debug.inspectOpts={};const keys=Object.keys(exports.inspectOpts);for(let i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(...args){return process.stderr.write(util.format(...args)+"\n")},exports.formatArgs=function(args){const{namespace:name,useColors:useColors}=this;if(useColors){const c=this.color,colorCode="[3"+(c<8?c:"8;5;"+c),prefix=`  ${colorCode};1m${name} [0m`;args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push(colorCode+"m+"+module.exports.humanize(this.diff)+"[0m")}else args[0]=function(){if(exports.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+name+" "+args[0]},exports.save=function(namespaces){namespaces?process.env.DEBUG=namespaces:delete process.env.DEBUG},exports.load=function(){return process.env.DEBUG},exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)},exports.colors=[6,2,3,4,5,1];try{const supportsColor=__webpack_require__(161);supportsColor&&(supportsColor.stderr||supportsColor).level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(error){}exports.inspectOpts=Object.keys(process.env).filter(key=>/^debug_/i.test(key)).reduce((obj,key)=>{const prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(_,k)=>k.toUpperCase());let val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj},{}),module.exports=__webpack_require__(67)(exports);const{formatters:formatters}=module.exports;formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).replace(/\s*\n\s*/g," ")},formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(13),hasFlag=__webpack_require__(162),{env:env}=process;let forceColor;function getSupportLevel(stream){return function(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}(function(stream){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(stream&&!stream.isTTY&&void 0===forceColor)return 0;const min=forceColor||0;if("dumb"===env.TERM)return min;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:min}(stream))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor=!0===env.FORCE_COLOR||"true"===env.FORCE_COLOR?1:!1===env.FORCE_COLOR||"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3)),module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},function(module,exports,__webpack_require__){"use strict";module.exports=(flag,argv)=>{argv=argv||process.argv;const prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",pos=argv.indexOf(prefix+flag),terminatorPos=argv.indexOf("--");return-1!==pos&&(-1===terminatorPos||pos<terminatorPos)}},function(module,exports){module.exports=require("console")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegisterPlugin=void 0;const vscode_languageserver_protocol_1=__webpack_require__(9);exports.RegisterPlugin=new vscode_languageserver_protocol_1.RequestType("ls/RegisterPlugin")},function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=165},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const config_manager_1=__importDefault(__webpack_require__(20)),text_1=__webpack_require__(54),vscode_languageserver_1=__webpack_require__(19),query_1=__webpack_require__(69),telemetry_1=__importDefault(__webpack_require__(29));exports.default=class FormatterPlugin{constructor(){this.formatterLanguages=[],this.formatterRegistration=null,this.handler=params=>{try{Array.isArray(params)&&(params=params[0]);const{textDocument:textDocument,range:range,options:{insertSpaces:insertSpaces,tabSize:tabSize}}=params,document=this.server.docManager.get(textDocument.uri);let text,newRange;return range?text=document.getText().substring(document.offsetAt(range.start),document.offsetAt(range.end)):(text=document.getText(),newRange={start:{line:0,character:0},end:{line:document.lineCount,character:0}}),[vscode_languageserver_1.TextEdit.replace(newRange||range,query_1.format(text,{...config_manager_1.default.format,tabSize:tabSize,insertSpaces:insertSpaces}))]}catch(e){telemetry_1.default.registerException(e)}},this.onDidChangeConfiguration=async()=>{const oldLang=this.formatterLanguages.sort(text_1.sortText),newLang=config_manager_1.default.formatLanguages.sort(text_1.sortText);newLang.length>0&&(!this.formatterRegistration||oldLang.join()!==newLang.join())?(this.formatterLanguages=newLang.reduce((agg,language)=>("string"==typeof language?(agg.push({language:language,scheme:"untitled"}),agg.push({language:language,scheme:"file"})):agg.push(language),agg),[]),this.formatterRegistration&&(await this.formatterRegistration).dispose(),this.formatterRegistration=this.server.client.register(vscode_languageserver_1.DocumentRangeFormattingRequest.type,{documentSelector:this.formatterLanguages}).then(a=>a,error=>this.server.notifyError("formatterRegistration error",error))):this.formatterRegistration&&(await this.formatterRegistration).dispose()}}register(server){this.server=server,this.server.addOnDidChangeConfigurationHooks(this.onDidChangeConfiguration),this.server.onDocumentFormatting(this.handler),this.server.onDocumentRangeFormatting(this.handler)}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.tokenize=exports.format=void 0;const Db2Formatter_1=__importDefault(__webpack_require__(168)),N1qlFormatter_1=__importDefault(__webpack_require__(176)),PlSqlFormatter_1=__importDefault(__webpack_require__(177)),StandardSqlFormatter_1=__importDefault(__webpack_require__(178));exports.format=(query,cfg={})=>{switch(cfg.language){case"db2":return new Db2Formatter_1.default(cfg).format(query);case"n1ql":return new N1qlFormatter_1.default(cfg).format(query);case"pl/sql":return new PlSqlFormatter_1.default(cfg).format(query);case"sql":default:return new StandardSqlFormatter_1.default(cfg).format(query)}},exports.tokenize=(query,cfg={})=>new StandardSqlFormatter_1.default(cfg).tokenize(query),exports.default={format:exports.format,tokenize:exports.tokenize}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const abstract_1=__importDefault(__webpack_require__(30));class Db2Formatter extends abstract_1.default{getTokenizerConfig(){return{reservedWords:reservedWords,reservedTopLevelWords:reservedTopLevelWords,reservedNewlineWords:reservedNewlineWords,reservedTopLevelWordsNoIndent:reservedTopLevelWordsNoIndent,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]}}}exports.default=Db2Formatter;const reservedWords=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],reservedTopLevelWords=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],reservedTopLevelWordsNoIndent=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],reservedNewlineWords=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"]},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const escapeRegExp_1=__importDefault(__webpack_require__(170)),types_1=__webpack_require__(31);exports.default=class Tokenizer{constructor(cfg){this.WHITESPACE_REGEX=/^(\s+)/u,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+|([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}))\b/u,this.AMBIGUOS_OPERATOR_REGEX=/^(\?\||\?&)/u,this.OPERATOR_REGEX=/^(!=|<>|>>|<<|==|<=|>=|!<|!>|\|\|\/|\|\/|\|\||~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|:=|&&|@>|<@|#-|@|.)/u,this.NO_SPACE_OPERATOR_REGEX=/^(::|->>|->|#>>|#>)/u,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/u,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(cfg.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=this.createReservedWordRegex(cfg.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=this.createReservedWordRegex(cfg.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(cfg.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(cfg.reservedWords),this.WORD_REGEX=this.createWordRegex(cfg.specialWordChars),this.STRING_REGEX=this.createStringRegex(cfg.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(cfg.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(cfg.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(cfg.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(cfg.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(cfg.namedPlaceholderTypes,this.createStringPattern(cfg.stringTypes))}createLineCommentRegex(lineCommentTypes){return new RegExp(`^((?:${lineCommentTypes.map(c=>escapeRegExp_1.default(c)).join("|")})[^>]*?(?:\r\n|\r|\n|$))`,"u")}createReservedWordRegex(reservedWords){const reservedWordsPattern=reservedWords.join("|").replace(/ /gu,"\\s+");return new RegExp(`^(${reservedWordsPattern})\\b`,"iu")}createWordRegex(specialChars){return new RegExp(`^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}${specialChars.join("")}]+)`,"u")}createStringRegex(stringTypes){return new RegExp("^("+this.createStringPattern(stringTypes)+")","u")}createStringPattern(stringTypes){const patterns={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return stringTypes.map(t=>patterns[t]).join("|")}createParenRegex(parens){return new RegExp("^("+parens.map(p=>this.escapeParen(p)).join("|")+")","iu")}escapeParen(paren){return 1===paren.length?escapeRegExp_1.default(paren):"\\b"+paren+"\\b"}createPlaceholderRegex(types,pattern){if(!types||0===types.length)return null;const typesRegex=types.map(escapeRegExp_1.default).join("|");return new RegExp(`^((?:${typesRegex})(?:${pattern}))`,"u")}tokenize(input){if(!input)return[];const tokens=[];let token;for(;input.length;)token=this.getNextToken(input,token),input=input.substring(token.value.length),tokens.push(token);return tokens}getNextToken(input,previousToken){return this.getWhitespaceToken(input)||this.getCommentToken(input)||this.getStringToken(input)||this.getOpenParenToken(input)||this.getCloseParenToken(input)||this.getAmbiguosOperatorToken(input)||this.getNoSpaceOperatorToken(input)||this.getServerVariableToken(input)||this.getPlaceholderToken(input)||this.getNumberToken(input)||this.getReservedWordToken(input,previousToken)||this.getWordToken(input)||this.getOperatorToken(input)}getWhitespaceToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.WHITESPACE,regex:this.WHITESPACE_REGEX})}getCommentToken(input){return this.getLineCommentToken(input)||this.getBlockCommentToken(input)}getLineCommentToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}getBlockCommentToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}getStringToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.STRING,regex:this.STRING_REGEX})}getOpenParenToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}getCloseParenToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}getPlaceholderToken(input){return this.getIdentNamedPlaceholderToken(input)||this.getStringNamedPlaceholderToken(input)||this.getIndexedPlaceholderToken(input)}getServerVariableToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.SERVERVARIABLE,regex:/(^@@\w+)/iu})}getIdentNamedPlaceholderToken(input){return this.getPlaceholderTokenWithKey({input:input,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:v=>v.slice(1)})}getStringNamedPlaceholderToken(input){return this.getPlaceholderTokenWithKey({input:input,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:v=>this.getEscapedPlaceholderKey({key:v.slice(2,-1),quoteChar:v.slice(-1)})})}getIndexedPlaceholderToken(input){return this.getPlaceholderTokenWithKey({input:input,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:v=>v.slice(1)})}getPlaceholderTokenWithKey({input:input,regex:regex,parseKey:parseKey}){const token=this.getTokenOnFirstMatch({input:input,regex:regex,type:types_1.TokenTypes.PLACEHOLDER});return token&&(token.key=parseKey(token.value)),token}getEscapedPlaceholderKey({key:key,quoteChar:quoteChar}){return key.replace(new RegExp(escapeRegExp_1.default("\\"+quoteChar),"gu"),quoteChar)}getNumberToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.NUMBER,regex:this.NUMBER_REGEX})}getOperatorToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.OPERATOR,regex:this.OPERATOR_REGEX})}getAmbiguosOperatorToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.OPERATOR,regex:this.AMBIGUOS_OPERATOR_REGEX})}getNoSpaceOperatorToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.NO_SPACE_OPERATOR,regex:this.NO_SPACE_OPERATOR_REGEX})}getReservedWordToken(input,previousToken){if(!previousToken||!previousToken.value||"."!==previousToken.value)return this.getToplevelReservedToken(input)||this.getNewlineReservedToken(input)||this.getTopLevelReservedTokenNoIndent(input)||this.getPlainReservedToken(input)}getToplevelReservedToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}getNewlineReservedToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}getPlainReservedToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}getTopLevelReservedTokenNoIndent(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}getWordToken(input){return this.getTokenOnFirstMatch({input:input,type:types_1.TokenTypes.WORD,regex:this.WORD_REGEX})}getTokenOnFirstMatch({input:input,type:type,regex:regex}){const matches=input.match(regex);if(matches)return{type:type,value:matches[1]}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);exports.default=function(str){return str&&reHasRegExpChar.test(str)?str.replace(reRegExpChar,"\\$&"):str||""}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const types_1=__webpack_require__(31),Indentation_1=__importDefault(__webpack_require__(172)),InlineBlock_1=__importDefault(__webpack_require__(174)),Params_1=__importDefault(__webpack_require__(175)),trimSpacesEnd=str=>str.replace(/[ \t]+$/u,"");exports.default=class Formatter{constructor(cfg,tokenizer,tokenOverride){this.cfg=cfg,this.tokenizer=tokenizer,this.tokenOverride=tokenOverride,this.tokens=[],this.previousReservedWord={type:null,value:null},this.previousNonWhiteSpace={type:null,value:null},this.index=0,this.indentation=new Indentation_1.default(this.cfg.indent),this.inlineBlock=new InlineBlock_1.default,this.params=new Params_1.default(this.cfg.params)}format(query){this.tokens=this.tokenizer.tokenize(query);return this.getFormattedQueryFromTokens().trim()}getFormattedQueryFromTokens(){let formattedQuery="";return this.tokens.forEach((token,index)=>{this.index=index,this.tokenOverride&&(token=this.tokenOverride(token,this.previousReservedWord)||token),formattedQuery=token.type===types_1.TokenTypes.WHITESPACE?this.formatWhitespace(token,formattedQuery):token.type===types_1.TokenTypes.LINE_COMMENT?this.formatLineComment(token,formattedQuery):token.type===types_1.TokenTypes.BLOCK_COMMENT?this.formatBlockComment(token,formattedQuery):token.type===types_1.TokenTypes.RESERVED_TOP_LEVEL||token.type===types_1.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT||token.type===types_1.TokenTypes.RESERVED_NEWLINE||token.type===types_1.TokenTypes.RESERVED?this.formatReserved(token,formattedQuery):token.type===types_1.TokenTypes.OPEN_PAREN?this.formatOpeningParentheses(token,formattedQuery):token.type===types_1.TokenTypes.CLOSE_PAREN?this.formatClosingParentheses(token,formattedQuery):token.type===types_1.TokenTypes.NO_SPACE_OPERATOR?this.formatWithoutSpaces(token,formattedQuery):token.type===types_1.TokenTypes.PLACEHOLDER||token.type===types_1.TokenTypes.SERVERVARIABLE?this.formatPlaceholder(token,formattedQuery):","===token.value?this.formatComma(token,formattedQuery):":"===token.value?this.formatWithSpaceAfter(token,formattedQuery):"."===token.value?this.formatWithoutSpaces(token,formattedQuery):";"===token.value?this.formatQuerySeparator(token,formattedQuery):this.formatWithSpaces(token,formattedQuery),token.type!==types_1.TokenTypes.WHITESPACE&&(this.previousNonWhiteSpace=token)}),formattedQuery}formatWhitespace(token,query){return"preserve"===this.cfg.linesBetweenQueries&&/((\r\n|\n)(\r\n|\n)+)/u.test(token.value)&&";"===this.previousToken().value?query.replace(/(\n|\r\n)$/m,"")+token.value:query}formatReserved(token,query){return token.type===types_1.TokenTypes.RESERVED_NEWLINE&&this.previousReservedWord&&this.previousReservedWord.value&&"AND"===token.value.toUpperCase()&&"BETWEEN"===this.previousReservedWord.value.toUpperCase()&&(token.type=types_1.TokenTypes.RESERVED),query=token.type===types_1.TokenTypes.RESERVED_TOP_LEVEL?this.formatTopLevelReservedWord(token,query):token.type===types_1.TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT?this.formatTopLevelReservedWordNoIndent(token,query):token.type===types_1.TokenTypes.RESERVED_NEWLINE?this.formatNewlineReservedWord(token,query):this.formatWithSpaces(token,query),this.previousReservedWord=token,query}formatLineComment(token,query){return this.addNewline(query+token.value)}formatBlockComment(token,query){return this.addNewline(this.addNewline(query)+this.indentComment(token.value))}indentComment(comment){return comment.replace(/\n[ \t]*/gu,"\n"+this.indentation.getIndent()+" ")}formatTopLevelReservedWordNoIndent(token,query){return this.indentation.decreaseTopLevel(),query=this.addNewline(query)+this.equalizeWhitespace(this.formatReservedWord(token.value)),this.addNewline(query)}formatTopLevelReservedWord(token,query){const shouldChangeTopLevel=","!==this.previousNonWhiteSpace.value&&!["GRANT"].includes((""+this.previousNonWhiteSpace.value).toUpperCase());return shouldChangeTopLevel&&(this.indentation.decreaseTopLevel(),query=this.addNewline(query)),query=query+this.equalizeWhitespace(this.formatReservedWord(token.value))+" ",shouldChangeTopLevel&&this.indentation.increaseTopLevel(),query}formatNewlineReservedWord(token,query){return this.addNewline(query)+this.equalizeWhitespace(this.formatReservedWord(token.value))+" "}equalizeWhitespace(value){return value.replace(/\s+/gu," ")}formatOpeningParentheses(token,query){token.value=this.formatCase(token.value);const previousTokenType=this.previousToken().type;return previousTokenType!==types_1.TokenTypes.WHITESPACE&&previousTokenType!==types_1.TokenTypes.OPEN_PAREN&&previousTokenType!==types_1.TokenTypes.LINE_COMMENT&&(query=trimSpacesEnd(query)),query+=token.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),query=this.addNewline(query)),query}formatClosingParentheses(token,query){return token.value=this.formatCase(token.value),this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(token,query)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(token,this.addNewline(query)))}formatPlaceholder(token,query){return query+this.params.get(token)+" "}formatComma(token,query){return query=trimSpacesEnd(query)+token.value+" ",this.inlineBlock.isActive()||/^LIMIT$/iu.test(this.previousReservedWord.value)?query:this.addNewline(query)}formatWithSpaceAfter(token,query){return trimSpacesEnd(query)+token.value+" "}formatWithoutSpaces(token,query){return trimSpacesEnd(query)+token.value}formatWithSpaces(token,query){return query+(token.type===types_1.TokenTypes.RESERVED?this.formatReservedWord(token.value):token.value)+" "}formatReservedWord(value){return this.formatCase(value)}formatQuerySeparator(token,query){this.indentation.resetIndentation();let lines="\n";return"preserve"!==this.cfg.linesBetweenQueries&&(lines="\n".repeat(this.cfg.linesBetweenQueries||1)),trimSpacesEnd(query)+token.value+lines}addNewline(query){return(query=trimSpacesEnd(query)).endsWith("\n")||(query+="\n"),query+this.indentation.getIndent()}previousToken(){return this.tokens[this.index-1]||{type:null,value:null}}formatCase(value){return"upper"===this.cfg.reservedWordCase?value.toUpperCase():"lower"===this.cfg.reservedWordCase?value.toLowerCase():value}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const last_1=__importDefault(__webpack_require__(173));exports.default=class Indentation{constructor(indent){this.indent=indent,this.indentTypes=[],this.indent=indent||"  "}getIndent(){return new Array(this.indentTypes.length).fill(this.indent).join("")}increaseTopLevel(){this.indentTypes.push("top-level")}increaseBlockLevel(){this.indentTypes.push("block-level")}decreaseTopLevel(){"top-level"===last_1.default(this.indentTypes)&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0;){if("top-level"!==this.indentTypes.pop())break}}resetIndentation(){this.indentTypes=[]}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=(arr=[])=>arr[arr.length-1]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const types_1=__webpack_require__(31);exports.default=class InlineBlock{constructor(){this.level=0}beginIfPossible(tokens,index){0===this.level&&this.isInlineBlock(tokens,index)?this.level=1:this.level>0?this.level++:this.level=0}end(){this.level--}isActive(){return this.level>0}isInlineBlock(tokens,index){let length=0,level=0;for(let i=index;i<tokens.length;i++){const token=tokens[i];if(length+=token.value.length,length>50)return!1;if(token.type===types_1.TokenTypes.OPEN_PAREN)level++;else if(token.type===types_1.TokenTypes.CLOSE_PAREN&&(level--,0===level))return!0;if(this.isForbiddenToken(token))return!1}return!1}isForbiddenToken({type:type,value:value}){return type===types_1.TokenTypes.RESERVED_TOP_LEVEL||type===types_1.TokenTypes.RESERVED_NEWLINE||type===types_1.TokenTypes.LINE_COMMENT||type===types_1.TokenTypes.BLOCK_COMMENT||";"===value}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=class Params{constructor(params){this.params=params,this.index=0,this.params=params}get({key:key,value:value}){return this.params?key?this.params[key]:this.params[this.index++]:value}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const abstract_1=__importDefault(__webpack_require__(30));class N1qlFormatter extends abstract_1.default{getTokenizerConfig(){return{reservedWords:reservedWords,reservedTopLevelWords:reservedTopLevelWords,reservedNewlineWords:reservedNewlineWords,reservedTopLevelWordsNoIndent:reservedTopLevelWordsNoIndent,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}exports.default=N1qlFormatter;const reservedWords=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],reservedTopLevelWords=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],reservedTopLevelWordsNoIndent=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],reservedNewlineWords=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"]},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const abstract_1=__importDefault(__webpack_require__(30)),types_1=__webpack_require__(31);class PlSqlFormatter extends abstract_1.default{constructor(){super(...arguments),this.tokenOverride=(token,previousReservedToken)=>{if(token.type===types_1.TokenTypes.RESERVED_TOP_LEVEL&&previousReservedToken.value&&"SET"===token.value.toUpperCase()&&"BY"===previousReservedToken.value.toUpperCase())return token.type=types_1.TokenTypes.RESERVED,token}}getTokenizerConfig(){return{reservedWords:reservedWords,reservedTopLevelWords:reservedTopLevelWords,reservedNewlineWords:reservedNewlineWords,reservedTopLevelWordsNoIndent:reservedTopLevelWordsNoIndent,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]}}}exports.default=PlSqlFormatter;const reservedWords=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],reservedTopLevelWords=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],reservedTopLevelWordsNoIndent=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],reservedNewlineWords=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"]},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const abstract_1=__importDefault(__webpack_require__(30));class StandardSqlFormatter extends abstract_1.default{getTokenizerConfig(){return{reservedWords:reservedWords,reservedTopLevelWords:reservedTopLevelWords,reservedNewlineWords:reservedNewlineWords,reservedTopLevelWordsNoIndent:reservedTopLevelWordsNoIndent,stringTypes:['""',"N''","''","``","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":","%","$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}exports.default=StandardSqlFormatter;const reservedWords=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRIGGER","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],reservedTopLevelWords=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CREATE OR REPLACE","DECLARE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GO","GRANT","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","MODIFY","ORDER BY","RETURNING","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],reservedTopLevelWordsNoIndent=["INTERSECT ALL","INTERSECT","MINUS","UNION ALL","UNION"],reservedNewlineWords=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","FULL JOIN","FULL OUTER JOIN","LEFT JOIN","LEFT OUTER JOIN","NATURAL JOIN","OR","OUTER APPLY","OUTER JOIN","RENAME","RIGHT JOIN","RIGHT OUTER JOIN","JOIN","WHEN","XOR"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class QueryParser{static parse(query,driver="mysql"){"mssql"===driver&&(query=query.replace(/^[ \t]*GO;?[ \t]*$/gim,""));for(var queries=[];;){null==restOfQuery&&(restOfQuery=query);var statementAndRest=QueryParser.getStatements(restOfQuery,driver,";"),statement=statementAndRest[0];null!=statement&&""!=statement.trim()&&queries.push(statement);var restOfQuery=statementAndRest[1];if(null==restOfQuery||""==restOfQuery.trim())break}return queries}static getStatements(query,driver,delimiter){for(var charArray=Array.from(query),previousChar=null,nextChar=null,isInComment=!1,commentChar=null,isInString=!1,stringChar=null,isInTag=!1,tagChar=null,resultQueries=[],index=0;index<charArray.length;index++){var char=charArray[index];if(index>0&&(previousChar=charArray[index-1]),index<charArray.length&&(nextChar=charArray[index+1]),"\\"==previousChar||"'"!=char&&'"'!=char||0!=isInString||0!=isInComment)if(("#"==char&&" "==nextChar||"-"==char&&"-"==nextChar||"/"==char&&"*"==nextChar)&&0==isInString)isInComment=!0,commentChar=char;else if(1!=isInComment||("#"!=commentChar&&"-"!=commentChar||"\n"!=char)&&("/"!=commentChar||"*"!=char||"/"!=nextChar))if("\\"==previousChar||char!=stringChar||1!=isInString){if("d"==char.toLowerCase()&&0==isInComment&&0==isInString){var delimiterResult=QueryParser.getDelimiter(index,query,driver);if(null!=delimiterResult){var delimiterSymbol=delimiterResult[0],delimiterEndIndex=delimiterResult[1];query=query.substring(delimiterEndIndex),resultQueries=QueryParser.getStatements(query,driver,delimiterSymbol);break}}if("$"==char&&0==isInComment&&0==isInString){var tagSymbolResult,queryUntilTagSymbol=query.substring(index);if(0==isInTag)null!=(tagSymbolResult=QueryParser.getTag(queryUntilTagSymbol,driver))&&(isInTag=!0,tagChar=tagSymbolResult[0]);else if(null!=(tagSymbolResult=QueryParser.getTag(queryUntilTagSymbol,driver)))tagSymbolResult[0]==tagChar&&(isInTag=!1)}if("mssql"===driver&&"g"===char.toLowerCase()&&"o"===(""+(charArray[index+1]||"")).toLowerCase()&&void 0!==charArray[index+2]&&/go\b/gi.test(`${char}${charArray[index+1]}${charArray[index+2]}`)&&(char=`${char}${charArray[index+1]}`),(char.toLowerCase()===delimiter.toLowerCase()||"go"===char.toLowerCase())&&0==isInString&&0==isInComment&&0==isInTag){var splittingIndex=index+1;if("mssql"===driver&&"go"===char.toLowerCase()){splittingIndex=index,resultQueries=QueryParser.getQueryParts(query,splittingIndex,2);break}resultQueries=QueryParser.getQueryParts(query,splittingIndex,0);break}}else isInString=!1,stringChar=null;else isInComment=!1,commentChar=null;else isInString=!0,stringChar=char}return 0==resultQueries.length&&(null!=query&&(query=query.trim()),resultQueries.push(query,null)),resultQueries}static getQueryParts(query,splittingIndex,numChars=1){var statement=query.substring(0,splittingIndex),restOfQuery=query.substring(splittingIndex+numChars),result=[];return null!=statement&&(statement=statement.trim()),result.push(statement),result.push(restOfQuery),result}static getDelimiter(index,query,driver){if("mysql"==driver){var delimiterLength="delimiter ".length,parsedQueryAfterIndexOriginal=query.substring(index);if(0==parsedQueryAfterIndexOriginal.toLowerCase().indexOf("delimiter ")){var parsedQueryAfterIndex=query.substring(index),indexOfNewLine=parsedQueryAfterIndex.indexOf("\n");-1==indexOfNewLine&&(indexOfNewLine=query.length);var delimiterSymbol=(parsedQueryAfterIndex=(parsedQueryAfterIndex=parsedQueryAfterIndex.substring(0,indexOfNewLine)).substring(delimiterLength)).trim();if(null!=(delimiterSymbol=QueryParser.clearTextUntilComment(delimiterSymbol))){delimiterSymbol=delimiterSymbol.trim();var delimiterSymbolEndIndex=parsedQueryAfterIndexOriginal.indexOf(delimiterSymbol)+index+delimiterSymbol.length,result=[];return result.push(delimiterSymbol),result.push(delimiterSymbolEndIndex),result}return null}return null}}static getTag(query,driver){if("pg"==driver){var matchTag=query.match(/^(\$[a-zA-Z]*\$)/i);if(null!=matchTag&&matchTag.length>1){var result=[],tagSymbol=matchTag[1].trim(),indexOfCmd=query.indexOf(tagSymbol);return result.push(tagSymbol),result.push(indexOfCmd),result}return null}}static isGoDelimiter(driver,query,index){if("mssql"==driver){var match=/(?:\bgo\b\s*)/i.exec(query);return null!=match&&match.index==index}}static clearTextUntilComment(text){for(var nextChar=null,charArray=Array.from(text),clearedText=null,index=0;index<charArray.length;index++){var char=charArray[index];if(index<charArray.length&&(nextChar=charArray[index+1]),"#"==char&&" "==nextChar||"-"==char&&"-"==nextChar||"/"==char&&"*"==nextChar)break;null==clearedText&&(clearedText=""),clearedText+=char}return clearedText}}exports.default=QueryParser.parse},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const connection_1=__importDefault(__webpack_require__(181)),config_manager_1=__importDefault(__webpack_require__(20)),connection_2=__webpack_require__(71),sync_1=__importDefault(__webpack_require__(185)),fs_1=__webpack_require__(6),util_1=__webpack_require__(14),contracts_1=__webpack_require__(189),handlers_1=__importDefault(__webpack_require__(190)),language_server_1=__importDefault(__webpack_require__(194)),contracts_2=__webpack_require__(74),ls_decorate_exception_1=__importDefault(__webpack_require__(70)),src_1=__webpack_require__(11),telemetry_1=__importDefault(__webpack_require__(29)),connections_state_model_1=__importStar(__webpack_require__(48)),query_results_model_1=__importDefault(__webpack_require__(73)),notifications_1=__webpack_require__(47),writeFile=util_1.promisify(fs_1.writeFile),log=src_1.createLogger("conn-manager");exports.default=class ConnectionManagerPlugin{constructor(){this.getConnectionsList=async()=>{const[activeConnections={},lastUsedId]=await Promise.all([connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY),connections_state_model_1.default.get(connections_state_model_1.LAST_USED_ID_KEY)]);return(config_manager_1.default.connections||[]).map(conn=>((conn=connection_2.migrateConnectionSetting(conn)).isActive=connection_2.getConnectionId(conn)===lastUsedId,conn.isConnected=!!activeConnections[connection_2.getConnectionId(conn)],conn))},this.runCommandHandler=async({conn:conn,args:args,command:command})=>{try{const c=await this.getConnectionInstance(conn);if(!c)throw"Connection not found";const results=await c[command](...args);return await handlers_1.default.QuerySuccess(results),results}catch(e){throw this.server.notifyError("Execute query error",e),e}},this.saveResultsHandler=async({fileType:fileType,filename:filename,...opts})=>{const{results:results,cols:cols}=await query_results_model_1.default.get(query_results_model_1.default.buildKey(opts));return"json"===fileType?writeFile(filename,JSON.stringify(results,null,2)):"csv"===fileType?writeFile(filename,sync_1.default(results,{columns:cols,header:!0,quoted_string:!0,quoted_empty:!0})):void 0},this.searchItemsHandler=async({conn:conn,itemType:itemType,search:search,extraParams:extraParams={}})=>{if(!conn)return;const activeConnections=await connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,{});if(0===Object.keys(activeConnections).length)return{results:[]};const c=await this.getConnectionInstance(conn);return{results:await c.searchItems(itemType,search,extraParams)}},this.closeConnectionHandler=async({conn:conn})=>{if(!conn)return;const c=await this.getConnectionInstance(conn);c&&(await c.close().catch(this.server.notifyError("Connection Error")),await handlers_1.default.Disconnect(c))},this.GetConnectionPasswordRequestHandler=async({conn:conn})=>{if(!conn)return;const c=await this.getConnectionInstance(conn);return c?c.getPassword():null},this.connectionStateSerializer=async conn=>{const instance=await this.getConnectionInstance(conn),lastUsedId=await connections_state_model_1.default.get(connections_state_model_1.LAST_USED_ID_KEY);return instance?{...instance.serialize(),isActive:instance.getId()===lastUsedId}:conn},this.openConnectionHandler=async req=>{if(!req||!req.conn)return;let progressBase;const creds=req.conn;creds.id=connection_2.getConnectionId(creds);try{let c=await this.getConnectionInstance(creds);return c?(log.info("Connection instance already exists for %s.",c.getName()),await handlers_1.default.Connect(c),this.connectionStateSerializer(creds)):(c=new connection_1.default(creds,()=>this.server.server.workspace.getWorkspaceFolders()),log.info("Connection instance created for %s.",c.getName()),progressBase={id:"progress:"+c.getId(),title:c.getName()},req.password&&c.setPassword(req.password),this.server.sendNotification(contracts_1.ProgressNotificationStart,{...progressBase,message:"Connecting...."}),await c.connect(),await handlers_1.default.Connect(c),this.server.sendNotification(contracts_1.ProgressNotificationComplete,{...progressBase,message:"Connected!"}),this.connectionStateSerializer(creds))}catch(e){return req.internalRequest?(e.callback=()=>progressBase&&this.server.sendNotification(contracts_1.ProgressNotificationComplete,progressBase),Promise.reject(e)):(log.error("Connecting error: %O",e),await handlers_1.default.Disconnect(void 0),progressBase&&this.server.sendNotification(contracts_1.ProgressNotificationComplete,progressBase),(e=ls_decorate_exception_1.default(e,{conn:creds})).data&&e.data.notification?creds.driver&&language_server_1.default.runningJobs.includes(creds.driver)?void this.server.sendNotification(contracts_2.DependeciesAreBeingInstalledNotification,e.data.args):void this.server.sendNotification(e.data.notification,e.data.args):(telemetry_1.default.registerException(e),Promise.reject(e)))}},this.testConnectionHandler=async req=>{if(!req||!req.conn)return;const progressBase={id:"progress:testingConnection",title:req.conn.name};try{this.server.sendNotification(contracts_1.ProgressNotificationStart,{...progressBase,message:"Testing connection...."});const creds={...req.conn,password:req.conn.password||req.password};return await connection_1.default.testConnection(creds,()=>this.server.server.workspace.getWorkspaceFolders()),this.server.sendNotification(contracts_1.ProgressNotificationComplete,{...progressBase,message:"Connection test successful!"}),req.conn}catch(e){if(progressBase&&this.server.sendNotification(contracts_1.ProgressNotificationComplete,progressBase),(e=ls_decorate_exception_1.default(e,{conn:req.conn})).data&&e.data.notification)return req.conn.driver&&language_server_1.default.runningJobs.includes(req.conn.driver)?void this.server.sendNotification(contracts_2.DependeciesAreBeingInstalledNotification,e.data.args):(delete e.data.args.conn,this.server.sendNotification(e.data.notification,e.data.args),e.data);throw e}},this.clientRequestConnectionHandler=async({connId:connId,connectedOnly:connectedOnly,sort:sort="connectedFirst"}={})=>{let connList=await this.getConnectionsList();if(connId)return connList.filter(c=>c.id===connId);switch(connectedOnly&&(connList=connList.filter(c=>c.isConnected)),sort){case"name":return connList.sort((a,b)=>a.name.localeCompare(b.name));case"connectedFirst":default:return connList.sort((a,b)=>a.isConnected===b.isConnected?a.name.localeCompare(b.name):a.isConnected&&!b.isConnected?-1:!a.isConnected&&b.isConnected?1:void 0)}},this.GetChildrenForTreeItemHandler=async req=>{if(!req||!req.conn)return[];const{conn:conn,...params}=req;let c=await this.getConnectionInstance(conn);return c?c.getChildrenForItem(params):[]},this.GetInsertQueryHandler=async req=>{if(!req||!req.conn)return"";const{conn:conn,...params}=req;let c=await this.getConnectionInstance(conn);return c?c.getInsertQuery(params):""},this._autoConnectIfActive=async(retryCount=0)=>{if(retryCount>=RETRY_LIMIT)return;retryCount++;const defaultConnections=[],[activeConnections,lastUsedId]=await Promise.all([connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,{}),connections_state_model_1.default.get(connections_state_model_1.LAST_USED_ID_KEY)]);if(lastUsedId&&activeConnections[lastUsedId]&&defaultConnections.push(await this.connectionStateSerializer(activeConnections[lastUsedId].serialize())),"string"==typeof config_manager_1.default.autoConnectTo||Array.isArray(config_manager_1.default.autoConnectTo)&&config_manager_1.default.autoConnectTo.length>0){const autoConnectTo=Array.isArray(config_manager_1.default.autoConnectTo)?config_manager_1.default.autoConnectTo:[config_manager_1.default.autoConnectTo];log.info("Configuration set to auto connect to: %s. connection attempt count: %d",autoConnectTo.join(", "),retryCount);const existingConnections=config_manager_1.default.connections;autoConnectTo.forEach(connName=>{if(defaultConnections.find(c=>c.name===connName))return;const foundConn=existingConnections.find(c=>connName===c.name);foundConn&&defaultConnections.push(foundConn)})}if(0!==defaultConnections.length){log.debug("Found connections: %s. connection attempt count: %d",defaultConnections.map(c=>c.name).join(", "),retryCount);try{await Promise.all(defaultConnections.slice(1).map(conn=>(log.info("Auto connect to %s",conn.name),Promise.resolve(this.openConnectionHandler({conn:conn,internalRequest:!0})).catch(e=>retryCount<RETRY_LIMIT?Promise.reject(e):(this.server.notifyError("Failed to auto connect to "+conn.name,e),Promise.resolve()))))),log.debug("Will mark %s as active",defaultConnections[0].name),await this.openConnectionHandler({conn:defaultConnections[0],internalRequest:!0}),this.server.sendRequest(contracts_1.ForceListRefresh,void 0)}catch(error){if(retryCount<RETRY_LIMIT&&error&&error.data&&error.data.notification===notifications_1.DriverNotInstalledNotification)return log.info("auto connect will retry: attempts %d",retryCount),new Promise(res=>{setTimeout(res,2e3)}).then(()=>this._autoConnectIfActive(retryCount));if(error&&"function"==typeof error.callback&&error.callback(),delete error.callback,log.error("auto connect error >> %O",error),error.data&&error.data.notification)return void this.server.sendNotification(error.data.notification,error.data.args);this.server.notifyError("Auto connect failed:",error)}}}}async getConnectionInstance(creds){const id=connection_2.getConnectionId(creds);return(await connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,{}))[id]||null}register(server){server.registerPlugin(new language_server_1.default),this.server=this.server||server,this.server.onRequest(contracts_1.RunCommandRequest,this.runCommandHandler),this.server.onRequest(contracts_1.SaveResultsRequest,this.saveResultsHandler),this.server.onRequest(contracts_1.SearchConnectionItemsRequest,this.searchItemsHandler),this.server.onRequest(contracts_1.DisconnectRequest,this.closeConnectionHandler),this.server.onRequest(contracts_1.GetConnectionPasswordRequest,this.GetConnectionPasswordRequestHandler),this.server.onRequest(contracts_1.ConnectRequest,this.openConnectionHandler),this.server.onRequest(contracts_1.TestConnectionRequest,this.testConnectionHandler),this.server.onRequest(contracts_1.GetConnectionsRequest,this.clientRequestConnectionHandler),this.server.onRequest(contracts_1.GetChildrenForTreeItemRequest,this.GetChildrenForTreeItemHandler),this.server.onRequest(contracts_1.GetInsertQueryRequest,this.GetInsertQueryHandler),this.server.addOnDidChangeConfigurationHooks(()=>this._autoConnectIfActive())}};const RETRY_LIMIT=15},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const ls_decorate_exception_1=__importDefault(__webpack_require__(70)),connection_1=__webpack_require__(71),config_manager_1=__importDefault(__webpack_require__(20)),telemetry_1=__importDefault(__webpack_require__(29)),internal_id_1=__importDefault(__webpack_require__(182)),context_1=__importDefault(__webpack_require__(68)),driver_not_installed_1=__importDefault(__webpack_require__(183)),log=__webpack_require__(11).createLogger("conn");class Connection{constructor(credentials,getWorkspaceFolders){if(this.credentials=credentials,this.connected=!1,this.decorateException=e=>(e=ls_decorate_exception_1.default(e,{conn:this.credentials}),Promise.reject(e)),this.getStaticCompletions=()=>"function"!=typeof this.conn.getStaticCompletions?Promise.resolve({}):this.conn.getStaticCompletions(),!context_1.default.drivers.has(credentials.driver))throw new driver_not_installed_1.default(credentials.driver);const DriverClass=context_1.default.drivers.get(credentials.driver);this.conn=new DriverClass(this.credentials,getWorkspaceFolders)}needsPassword(){return this.conn.credentials.askForPassword}async connect(){!this.connected&&this.conn.checkDependencies&&await this.conn.checkDependencies(),"function"==typeof this.conn.testConnection?await this.conn.testConnection().catch(this.decorateException):await this.query("SELECT 1;",{throwIfError:!0}),this.connected=!0}setPassword(password){this.conn.credentials.password=password}getPassword(){return this.conn.credentials.password}isConnected(){return this.connected}close(){return this.needsPassword()&&(this.conn.credentials.password=null),this.connected=!1,this.conn.close()}async describeTable(table,opt){const info=await this.conn.describeTable(table,opt).catch(this.decorateException);return info[0]&&(info[0].label="Table "+table.label),info}async showRecords(table,opt){const{pageSize:pageSize,page:page,requestId:requestId}=opt,limit=pageSize||this.conn.credentials.previewLimit||config_manager_1.default.results&&config_manager_1.default.results.limit||50,[records]=await this.conn.showRecords(table,{limit:limit,page:page,requestId:requestId}).catch(this.decorateException);return records&&(records.label=[Math.max(records.total||0,records.results.length,0),"records on",`'${table.label}'`,"table"].join(" ")),[records]}query(query,opt={}){return this.conn.query(query,opt).catch(this.decorateException).catch(e=>{if(log.error("%O",e),opt.throwIfError)throw e;telemetry_1.default.registerException(e,{driver:this.conn.credentials.driver});let message="";return message="string"==typeof e?e:e.message?e.message:JSON.stringify(e),[{requestId:opt.requestId,resultId:internal_id_1.default(),connId:this.getId(),cols:[],error:!0,messages:[{message:message,date:new Date}],query:query,results:[]}]})}getName(){return this.conn.credentials.name}getServer(){return this.conn.credentials.server}getPort(){return this.conn.credentials.port}getUsername(){return this.conn.credentials.username}getDatabase(){return this.conn.credentials.database}getDriver(){return this.conn.credentials.driver}getId(){return connection_1.getConnectionId(this.conn.credentials)}serialize(){return{id:this.getId(),...this.conn.credentials,isConnected:this.isConnected()}}static async testConnection(credentials,getWorkspaceFolders){const testConn=new Connection(credentials,getWorkspaceFolders);return await testConn.connect(),await testConn.close(),!0}getChildrenForItem(params){return this.conn.getChildrenForItem(params)}getInsertQuery(params){if(this.conn.getInsertQuery&&"function"==typeof this.conn.getInsertQuery)return this.conn.getInsertQuery(params);const{item:item,columns:columns}=params;let insertQuery=`INSERT INTO ${item.label} (${columns.map(col=>col.label).join(", ")}) VALUES (`;return columns.forEach((col,index)=>{insertQuery=insertQuery.concat(`'\${${index+1}:${col.label}:${col.dataType}}', `)}),insertQuery}searchItems(itemType,search="",extraParams={}){return this.conn.searchItems(itemType,search,extraParams)}}exports.default=Connection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const uuid_1=__webpack_require__(228);exports.default=uuid_1.v4},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DriverNotInstalledError=void 0;const response_error_1=__importDefault(__webpack_require__(184)),notifications_1=__webpack_require__(47);class DriverNotInstalledError extends response_error_1.default{constructor(driverName){super(1e3,`Driver ${driverName} not installed.`,{notification:notifications_1.DriverNotInstalledNotification,dontNotify:!0,args:{driverName:driverName}})}}exports.DriverNotInstalledError=DriverNotInstalledError,exports.default=DriverNotInstalledError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotifyResponseError=void 0;const vscode_languageserver_1=__webpack_require__(19);class NotifyResponseError extends vscode_languageserver_1.ResponseError{constructor(code,message,data){super(code,message,data)}}exports.NotifyResponseError=NotifyResponseError,exports.default=NotifyResponseError},function(module,exports,__webpack_require__){const stringify=__webpack_require__(186),{StringDecoder:StringDecoder}=__webpack_require__(188);module.exports=function(records,options={}){const data=[];if(Buffer.isBuffer(records)){records=(new StringDecoder).write(records)}const stringifier=new stringify.Stringifier(options);stringifier.push=function(record){record&&data.push(record.toString())};for(let record of records)stringifier.write(record);return stringifier.end(),data.join("")}},function(module,exports,__webpack_require__){const{Transform:Transform}=__webpack_require__(187),bom_utf8=Buffer.from([239,187,191]);class Stringifier extends Transform{constructor(opts={}){super({writableObjectMode:!0,...opts});const options={};let err;for(let opt in opts)options[underscore(opt)]=opts[opt];if(err=this.normalize(options))throw err;switch(options.record_delimiter){case"auto":options.record_delimiter=null;break;case"unix":options.record_delimiter="\n";break;case"mac":options.record_delimiter="\r";break;case"windows":options.record_delimiter="\r\n";break;case"ascii":options.record_delimiter="";break;case"unicode":options.record_delimiter="\u2028"}this.options=options,this.state={stop:!1},this.info={records:0},!0===options.bom&&this.push(bom_utf8)}normalize(options){if(void 0===options.bom||null===options.bom||!1===options.bom)options.bom=!1;else if(!0!==options.bom)return new CsvError("CSV_OPTION_BOOLEAN_INVALID_TYPE",["option `bom` is optional and must be a boolean value,","got "+JSON.stringify(options.bom)]);if(void 0===options.delimiter||null===options.delimiter)options.delimiter=",";else if(Buffer.isBuffer(options.delimiter))options.delimiter=options.delimiter.toString();else if("string"!=typeof options.delimiter)return new CsvError("CSV_OPTION_DELIMITER_INVALID_TYPE",["option `delimiter` must be a buffer or a string,","got "+JSON.stringify(options.delimiter)]);if(void 0===options.quote||null===options.quote)options.quote='"';else if(!0===options.quote)options.quote='"';else if(!1===options.quote)options.quote="";else if(Buffer.isBuffer(options.quote))options.quote=options.quote.toString();else if("string"!=typeof options.quote)return new CsvError("CSV_OPTION_QUOTE_INVALID_TYPE",["option `quote` must be a boolean, a buffer or a string,","got "+JSON.stringify(options.quote)]);if(void 0!==options.quoted&&null!==options.quoted||(options.quoted=!1),void 0!==options.quoted_empty&&null!==options.quoted_empty||(options.quoted_empty=void 0),void 0===options.quoted_match||null===options.quoted_match||!1===options.quoted_match?options.quoted_match=null:Array.isArray(options.quoted_match)||(options.quoted_match=[options.quoted_match]),options.quoted_match)for(let quoted_match of options.quoted_match){const isRegExp=quoted_match instanceof RegExp;if(!("string"==typeof quoted_match)&&!isRegExp)return Error("Invalid Option: quoted_match must be a string or a regex, got "+JSON.stringify(quoted_match))}if(void 0!==options.quoted_string&&null!==options.quoted_string||(options.quoted_string=!1),void 0!==options.eof&&null!==options.eof||(options.eof=!0),void 0===options.escape||null===options.escape)options.escape='"';else if(Buffer.isBuffer(options.escape))options.escape=options.escape.toString();else if("string"!=typeof options.escape)return Error("Invalid Option: escape must be a buffer or a string, got "+JSON.stringify(options.escape));if(options.escape.length>1)return Error(`Invalid Option: escape must be one character, got ${options.escape.length} characters`);if(void 0!==options.header&&null!==options.header||(options.header=!1),options.columns=this.normalize_columns(options.columns),void 0!==options.quoted&&null!==options.quoted||(options.quoted=!1),void 0!==options.cast&&null!==options.cast||(options.cast={}),void 0!==options.cast.bigint&&null!==options.cast.bigint||(options.cast.bigint=value=>""+value),void 0!==options.cast.boolean&&null!==options.cast.boolean||(options.cast.boolean=value=>value?"1":""),void 0!==options.cast.date&&null!==options.cast.date||(options.cast.date=value=>""+value.getTime()),void 0!==options.cast.number&&null!==options.cast.number||(options.cast.number=value=>""+value),void 0!==options.cast.object&&null!==options.cast.object||(options.cast.object=value=>JSON.stringify(value)),void 0!==options.cast.string&&null!==options.cast.string||(options.cast.string=function(value){return value}),void 0===options.record_delimiter||null===options.record_delimiter)options.record_delimiter="\n";else if(Buffer.isBuffer(options.record_delimiter))options.record_delimiter=options.record_delimiter.toString();else if("string"!=typeof options.record_delimiter)return Error("Invalid Option: record_delimiter must be a buffer or a string, got "+JSON.stringify(options.record_delimiter))}_transform(chunk,encoding,callback){if(!0!==this.state.stop){if(!Array.isArray(chunk)&&"object"!=typeof chunk)return this.state.stop=!0,callback(Error("Invalid Record: expect an array or an object, got "+JSON.stringify(chunk)));if(0===this.info.records)if(Array.isArray(chunk)){if(!0===this.options.header&&!this.options.columns)return this.state.stop=!0,callback(Error("Undiscoverable Columns: header option requires column option or object records"))}else void 0!==this.options.columns&&null!==this.options.columns||(this.options.columns=this.normalize_columns(Object.keys(chunk)));0===this.info.records&&this.headers();try{this.emit("record",chunk,this.info.records)}catch(err){return this.state.stop=!0,this.emit("error",err)}if(this.options.eof){if(void 0===(chunk=this.stringify(chunk)))return;chunk+=this.options.record_delimiter}else{if(void 0===(chunk=this.stringify(chunk)))return;(this.options.header||this.info.records)&&(chunk=this.options.record_delimiter+chunk)}this.info.records++,this.push(chunk),callback()}}_flush(callback){0===this.info.records&&this.headers(),callback()}stringify(chunk,chunkIsHeader=!1){if("object"!=typeof chunk)return chunk;const{columns:columns,header:header}=this.options,record=[];if(Array.isArray(chunk)){columns&&chunk.splice(columns.length);for(let i=0;i<chunk.length;i++){const field=chunk[i],[err,value]=this.__cast(field,{index:i,column:i,records:this.info.records,header:chunkIsHeader});if(err)return void this.emit("error",err);record[i]=[value,field]}}else if(columns)for(let i=0;i<columns.length;i++){const field=get(chunk,columns[i].key),[err,value]=this.__cast(field,{index:i,column:columns[i].key,records:this.info.records,header:chunkIsHeader});if(err)return void this.emit("error",err);record[i]=[value,field]}else for(let column of chunk){const field=chunk[column],[err,value]=this.__cast(field,{index:i,column:columns[i].key,records:this.info.records,header:chunkIsHeader});if(err)return void this.emit("error",err);record.push([value,field])}let csvrecord="";for(let i=0;i<record.length;i++){let options,err,[value,field]=record[i];if("string"==typeof value)options=this.options;else if(isObject(value)){if(options=value,value=options.value,delete options.value,"string"!=typeof value&&null!=value)return void this.emit("error",Error("Invalid Casting Value: returned value must return a string, null or undefined, got "+JSON.stringify(value)));if(options={...this.options,...options},err=this.normalize(options))return void this.emit("error",err)}else{if(null!=value)return void this.emit("error",Error("Invalid Casting Value: returned value must return a string, an object, null or undefined, got "+JSON.stringify(value)));options=this.options}const{delimiter:delimiter,escape:escape,quote:quote,quoted:quoted,quoted_empty:quoted_empty,quoted_string:quoted_string,quoted_match:quoted_match,record_delimiter:record_delimiter}=options;if(value){if("string"!=typeof value)return this.emit("error",Error("Formatter must return a string, null or undefined, got "+JSON.stringify(value))),null;const containsdelimiter=delimiter.length&&value.indexOf(delimiter)>=0,containsQuote=""!==quote&&value.indexOf(quote)>=0,containsEscape=value.indexOf(escape)>=0&&escape!==quote,containsRecordDelimiter=value.indexOf(record_delimiter)>=0,quotedString=quoted_string&&"string"==typeof field;let quotedMatch=quoted_match&&quoted_match.filter(quoted_match=>"string"==typeof quoted_match?-1!==value.indexOf(quoted_match):quoted_match.test(value));quotedMatch=quotedMatch&&quotedMatch.length>0;const shouldQuote=!0===containsQuote||containsdelimiter||containsRecordDelimiter||quoted||quotedString||quotedMatch;if(!0===shouldQuote&&!0===containsEscape){const regexp="\\"===escape?new RegExp(escape+escape,"g"):new RegExp(escape,"g");value=value.replace(regexp,escape+escape)}if(!0===containsQuote){const regexp=new RegExp(quote,"g");value=value.replace(regexp,escape+quote)}!0===shouldQuote&&(value=quote+value+quote),csvrecord+=value}else(!0===quoted_empty||""===field&&!0===quoted_string&&!1!==quoted_empty)&&(csvrecord+=quote+quote);i!==record.length-1&&(csvrecord+=delimiter)}return csvrecord}headers(){if(!1===this.options.header)return;if(void 0===this.options.columns)return;let headers=this.options.columns.map(column=>column.header);headers=this.options.eof?this.stringify(headers,!0)+this.options.record_delimiter:this.stringify(headers),this.push(headers)}__cast(value,context){const type=typeof value;try{return"string"===type?[void 0,this.options.cast.string(value,context)]:"bigint"===type?[void 0,this.options.cast.bigint(value,context)]:"number"===type?[void 0,this.options.cast.number(value,context)]:"boolean"===type?[void 0,this.options.cast.boolean(value,context)]:value instanceof Date?[void 0,this.options.cast.date(value,context)]:"object"===type&&null!==value?[void 0,this.options.cast.object(value,context)]:[void 0,value,value]}catch(err){return[err]}}normalize_columns(columns){if(null!=columns){if("object"!=typeof columns)throw Error('Invalid option "columns": expect an array or an object');if(Array.isArray(columns)){const newcolumns=[];for(let column of columns)if("string"==typeof column)newcolumns.push({key:column,header:column});else{if("object"!=typeof column||void 0===column||Array.isArray(column))throw Error("Invalid column definition: expect a string or an object");if(!column.key)throw Error('Invalid column definition: property "key" is required');void 0===column.header&&(column.header=column.key),newcolumns.push(column)}columns=newcolumns}else{const newcolumns=[];for(let k in columns)newcolumns.push({key:k,header:columns[k]});columns=newcolumns}return columns}}}const stringify=function(){let data,options,callback;for(let i in arguments){const argument=arguments[i],type=typeof argument;if(void 0===data&&Array.isArray(argument))data=argument;else if(void 0===options&&isObject(argument))options=argument;else{if(void 0!==callback||"function"!==type)throw new CsvError("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(argument)} at index ${i}`]);callback=argument}}const stringifier=new Stringifier(options);if(callback){const chunks=[];stringifier.on("readable",(function(){let chunk;for(;null!==(chunk=this.read());)chunks.push(chunk)})),stringifier.on("error",(function(err){callback(err)})),stringifier.on("end",(function(){callback(void 0,chunks.join(""))}))}if(void 0!==data)if("function"==typeof setImmediate)setImmediate((function(){for(let record of data)stringifier.write(record);stringifier.end()}));else{for(let record of data)stringifier.write(record);stringifier.end()}return stringifier};class CsvError extends Error{constructor(code,message,...contexts){Array.isArray(message)&&(message=message.join(" ")),super(message),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,CsvError),this.code=code;for(const context of contexts)for(const key in context){const value=context[key];this[key]=Buffer.isBuffer(value)?value.toString():null==value?value:JSON.parse(JSON.stringify(value))}}}stringify.Stringifier=Stringifier,stringify.CsvError=CsvError,module.exports=stringify;const isObject=function(obj){return"object"==typeof obj&&null!==obj&&!Array.isArray(obj)},underscore=function(str){return str.replace(/([A-Z])/g,(function(_,match){return"_"+match.toLowerCase()}))},charCodeOfDot=".".charCodeAt(0),reEscapeChar=/\\(\\)?/g,rePropName=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,isSymbol=function(value){const type=typeof value;return"symbol"===type||"object"===type&&value&&"[object Symbol]"===function(value){return Object.prototype.toString.call(value)}(value)},castPath=function(value,object){return Array.isArray(value)?value:function(value,object){if(Array.isArray(value))return!1;const type=typeof value;return!("number"!==type&&"symbol"!==type&&"boolean"!==type&&value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}(value,object)?[value]:function(string){const result=[];return string.charCodeAt(0)===charCodeOfDot&&result.push(""),string.replace(rePropName,(function(match,expression,quote,subString){let key=match;quote?key=subString.replace(reEscapeChar,"$1"):expression&&(key=expression.trim()),result.push(key)})),result}(value)},toKey=function(value){if("string"==typeof value||isSymbol(value))return value;const result=""+value;return"0"==result&&1/value==-INFINITY?"-0":result},get=function(object,path){let index=0;const length=(path=castPath(path,object)).length;for(;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index===length?object:void 0}},function(module,exports){module.exports=require("stream")},function(module,exports){module.exports=require("string_decoder")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProgressNotificationComplete=exports.ProgressNotificationStart=exports.GetInsertQueryRequest=exports.GetChildrenForTreeItemRequest=exports.SaveResultsRequest=exports.SearchConnectionItemsRequest=exports.DisconnectRequest=exports.TestConnectionRequest=exports.ConnectRequest=exports.RunCommandRequest=exports.GetConnectionPasswordRequest=exports.ForceListRefresh=exports.GetConnectionsRequest=void 0;const vscode_languageserver_protocol_1=__webpack_require__(9),constants_1=__webpack_require__(41);exports.GetConnectionsRequest=new vscode_languageserver_protocol_1.RequestType("connection/GetConnectionsRequest"),exports.ForceListRefresh=new vscode_languageserver_protocol_1.RequestType("connection/ForceListRefresh"),exports.GetConnectionPasswordRequest=new vscode_languageserver_protocol_1.RequestType("connection/GetConnectionPasswordRequest"),exports.RunCommandRequest=new vscode_languageserver_protocol_1.RequestType("connection/RunCommandRequest"),exports.ConnectRequest=new vscode_languageserver_protocol_1.RequestType("connection/ConnectRequest"),exports.TestConnectionRequest=new vscode_languageserver_protocol_1.RequestType("connection/TestConnectionRequest"),exports.DisconnectRequest=new vscode_languageserver_protocol_1.RequestType("connection/DisconnectRequest"),exports.SearchConnectionItemsRequest=new vscode_languageserver_protocol_1.RequestType("connection/SearchConnectionItemsRequest"),exports.SaveResultsRequest=new vscode_languageserver_protocol_1.RequestType("connection/SaveResultsRequest"),exports.GetChildrenForTreeItemRequest=new vscode_languageserver_protocol_1.RequestType("connection/GetChildrenForTreeItemRequest"),exports.GetInsertQueryRequest=new vscode_languageserver_protocol_1.RequestType("connection/GetInsertQueryRequest"),exports.ProgressNotificationStart=new vscode_languageserver_protocol_1.NotificationType(constants_1.EXT_NAMESPACE+"/window/progress/start"),exports.ProgressNotificationComplete=new vscode_languageserver_protocol_1.NotificationType(constants_1.EXT_NAMESPACE+"/window/progress/complete")},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const connections_state_model_1=__importStar(__webpack_require__(48)),query_results_model_1=__importDefault(__webpack_require__(73));async function CleanUpCache(conn){return conn&&Promise.all([query_results_model_1.default.delStartWith(`[${conn.getId()}]`),connections_state_model_1.default.delStartWith(`[${conn.getId()}]`)]).then(()=>!0)}exports.default={Connect:async function(conn){const activeConnections=await connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY)||{};return Promise.all([connections_state_model_1.default.set(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,{...activeConnections,[conn.getId()]:conn}),connections_state_model_1.default.set(connections_state_model_1.LAST_USED_ID_KEY,conn.getId()),CleanUpCache(conn)])},Disconnect:async function(conn){const[activeConnections={},lastUsedId]=await Promise.all([connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY),connections_state_model_1.default.get(connections_state_model_1.LAST_USED_ID_KEY),CleanUpCache(conn)]);conn&&delete activeConnections[conn.getId()];const newLastUsedId=conn&&lastUsedId===conn.getId()?void 0:lastUsedId;return Promise.all([connections_state_model_1.default.set(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,activeConnections),connections_state_model_1.default.set(connections_state_model_1.LAST_USED_ID_KEY,newLastUsedId)])},QuerySuccess:async function(results){return Promise.all(results.map(res=>query_results_model_1.default.set(query_results_model_1.default.buildKey(res),res)))}}},function(module,exports,__webpack_require__){"use strict";const Yallist=__webpack_require__(192),MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;const get=(self,key,doUse)=>{const node=self[CACHE].get(key);if(node){const hit=node.value;if(isStale(self,hit)){if(del(self,node),!self[ALLOW_STALE])return}else doUse&&(self[UPDATE_AGE_ON_GET]&&(node.value.now=Date.now()),self[LRU_LIST].unshiftNode(node));return hit.value}},isStale=(self,hit)=>{if(!hit||!hit.maxAge&&!self[MAX_AGE])return!1;const diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]},trim=self=>{if(self[LENGTH]>self[MAX])for(let walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&null!==walker;){const prev=walker.prev;del(self,walker),walker=prev}},del=(self,node)=>{if(node){const hit=node.value;self[DISPOSE]&&self[DISPOSE](hit.key,hit.value),self[LENGTH]-=hit.length,self[CACHE].delete(hit.key),self[LRU_LIST].removeNode(node)}};class Entry{constructor(key,value,length,now,maxAge){this.key=key,this.value=value,this.length=length,this.now=now,this.maxAge=maxAge||0}}const forEachStep=(self,fn,node,thisp)=>{let hit=node.value;isStale(self,hit)&&(del(self,node),self[ALLOW_STALE]||(hit=void 0)),hit&&fn.call(thisp,hit.value,hit.key,self)};module.exports=class LRUCache{constructor(options){if("number"==typeof options&&(options={max:options}),options||(options={}),options.max&&("number"!=typeof options.max||options.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=options.max||1/0;const lc=options.length||naiveLength;if(this[LENGTH_CALCULATOR]="function"!=typeof lc?naiveLength:lc,this[ALLOW_STALE]=options.stale||!1,options.maxAge&&"number"!=typeof options.maxAge)throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0,this[DISPOSE]=options.dispose,this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||!1,this.reset()}set max(mL){if("number"!=typeof mL||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||1/0,trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if("number"!=typeof mA)throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){"function"!=typeof lC&&(lC=naiveLength),lC!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=lC,this[LENGTH]=0,this[LRU_LIST].forEach(hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key),this[LENGTH]+=hit.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;null!==walker;){const prev=walker.prev;forEachStep(this,fn,walker,thisp),walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;null!==walker;){const next=walker.next;forEachStep(this,fn,walker,thisp),walker=next}}keys(){return this[LRU_LIST].toArray().map(k=>k.key)}values(){return this[LRU_LIST].toArray().map(k=>k.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(hit=>this[DISPOSE](hit.key,hit.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(hit=>!isStale(this,hit)&&{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}).toArray().filter(h=>h)}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){if((maxAge=maxAge||this[MAX_AGE])&&"number"!=typeof maxAge)throw new TypeError("maxAge must be a number");const now=maxAge?Date.now():0,len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX])return del(this,this[CACHE].get(key)),!1;const item=this[CACHE].get(key).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](key,item.value)),item.now=now,item.maxAge=maxAge,item.value=value,this[LENGTH]+=len-item.length,item.length=len,this.get(key),trim(this),!0}const hit=new Entry(key,value,len,now,maxAge);return hit.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](key,value),!1):(this[LENGTH]+=hit.length,this[LRU_LIST].unshift(hit),this[CACHE].set(key,this[LRU_LIST].head),trim(this),!0)}has(key){if(!this[CACHE].has(key))return!1;const hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,!0)}peek(key){return get(this,key,!1)}pop(){const node=this[LRU_LIST].tail;return node?(del(this,node),node.value):null}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();const now=Date.now();for(let l=arr.length-1;l>=0;l--){const hit=arr[l],expiresAt=hit.e||0;if(0===expiresAt)this.set(hit.k,hit.v);else{const maxAge=expiresAt-now;maxAge>0&&this.set(hit.k,hit.v,maxAge)}}}prune(){this[CACHE].forEach((value,key)=>get(this,key,!1))}}},function(module,exports,__webpack_require__){"use strict";function Yallist(list){var self=this;if(self instanceof Yallist||(self=new Yallist),self.tail=null,self.head=null,self.length=0,list&&"function"==typeof list.forEach)list.forEach((function(item){self.push(item)}));else if(arguments.length>0)for(var i=0,l=arguments.length;i<l;i++)self.push(arguments[i]);return self}function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);return null===inserted.next&&(self.tail=inserted),null===inserted.prev&&(self.head=inserted),self.length++,inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self),self.head||(self.head=self.tail),self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self),self.tail||(self.tail=self.head),self.length++}function Node(value,prev,next,list){if(!(this instanceof Node))return new Node(value,prev,next,list);this.list=list,this.value=value,prev?(prev.next=this,this.prev=prev):this.prev=null,next?(next.prev=this,this.next=next):this.next=null}module.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(node){if(node.list!==this)throw new Error("removing node which does not belong to this list");var next=node.next,prev=node.prev;return next&&(next.prev=prev),prev&&(prev.next=next),node===this.head&&(this.head=next),node===this.tail&&(this.tail=prev),node.list.length--,node.next=null,node.prev=null,node.list=null,next},Yallist.prototype.unshiftNode=function(node){if(node!==this.head){node.list&&node.list.removeNode(node);var head=this.head;node.list=this,node.next=head,head&&(head.prev=node),this.head=node,this.tail||(this.tail=node),this.length++}},Yallist.prototype.pushNode=function(node){if(node!==this.tail){node.list&&node.list.removeNode(node);var tail=this.tail;node.list=this,node.prev=tail,tail&&(tail.next=node),this.tail=node,this.head||(this.head=node),this.length++}},Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++)push(this,arguments[i]);return this.length},Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++)unshift(this,arguments[i]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var res=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,res}},Yallist.prototype.shift=function(){if(this.head){var res=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,res}},Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;null!==walker;i++)fn.call(thisp,walker.value,i,this),walker=walker.next},Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;null!==walker;i--)fn.call(thisp,walker.value,i,this),walker=walker.prev},Yallist.prototype.get=function(n){for(var i=0,walker=this.head;null!==walker&&i<n;i++)walker=walker.next;if(i===n&&null!==walker)return walker.value},Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;null!==walker&&i<n;i++)walker=walker.prev;if(i===n&&null!==walker)return walker.value},Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.head;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.next;return res},Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.tail;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.prev;return res},Yallist.prototype.reduce=function(fn,initial){var acc,walker=this.head;if(arguments.length>1)acc=initial;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");walker=this.head.next,acc=this.head.value}for(var i=0;null!==walker;i++)acc=fn(acc,walker.value,i),walker=walker.next;return acc},Yallist.prototype.reduceReverse=function(fn,initial){var acc,walker=this.tail;if(arguments.length>1)acc=initial;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");walker=this.tail.prev,acc=this.tail.value}for(var i=this.length-1;null!==walker;i--)acc=fn(acc,walker.value,i),walker=walker.prev;return acc},Yallist.prototype.toArray=function(){for(var arr=new Array(this.length),i=0,walker=this.head;null!==walker;i++)arr[i]=walker.value,walker=walker.next;return arr},Yallist.prototype.toArrayReverse=function(){for(var arr=new Array(this.length),i=0,walker=this.tail;null!==walker;i++)arr[i]=walker.value,walker=walker.prev;return arr},Yallist.prototype.slice=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=0,walker=this.head;null!==walker&&i<from;i++)walker=walker.next;for(;null!==walker&&i<to;i++,walker=walker.next)ret.push(walker.value);return ret},Yallist.prototype.sliceReverse=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=this.length,walker=this.tail;null!==walker&&i>to;i--)walker=walker.prev;for(;null!==walker&&i>from;i--,walker=walker.prev)ret.push(walker.value);return ret},Yallist.prototype.splice=function(start,deleteCount){start>this.length&&(start=this.length-1),start<0&&(start=this.length+start);for(var i=0,walker=this.head;null!==walker&&i<start;i++)walker=walker.next;var ret=[];for(i=0;walker&&i<deleteCount;i++)ret.push(walker.value),walker=this.removeNode(walker);null===walker&&(walker=this.tail),walker!==this.head&&walker!==this.tail&&(walker=walker.prev);for(i=2;i<arguments.length;i++)walker=insert(this,walker,arguments[i]);return ret},Yallist.prototype.reverse=function(){for(var head=this.head,tail=this.tail,walker=head;null!==walker;walker=walker.prev){var p=walker.prev;walker.prev=walker.next,walker.next=p}return this.head=tail,this.tail=head,this};try{__webpack_require__(193)(Yallist)}catch(er){}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next)yield walker.value}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const contracts_1=__webpack_require__(74),cli_1=__importDefault(__webpack_require__(195)),config_manager_1=__importDefault(__webpack_require__(20)),log=__webpack_require__(11).createLogger("dep-man");class DependencyManager{constructor(){this.onRequestToInstall=async({deps:deps=[]})=>{const depManagerSettings=config_manager_1.default.dependencyManager||{packageManager:"npm",installArgs:["install"],runScriptArgs:["run"],autoAccept:!1};if(log.debug("Dependency manager settings:\n"+JSON.stringify(depManagerSettings,null,2)),0===deps.length)throw log.info("Nothing to install. Request is invalid."),new Error("Nothing to install. Request is invalid.");const depsId=deps.sort((a,b)=>a.name.localeCompare(b.name)).map(d=>d.name).join();if(DependencyManager.runningJobs.includes(depsId))return log.info("You are already installing deps");DependencyManager.runningJobs.push(depsId),log.debug("Received request to install deps:",JSON.stringify(deps));const command=depManagerSettings.packageManager;try{for(let dep of deps)switch(dep.type){case"npmscript":log.info(`Will run ${dep.name} script`),await cli_1.default(command,depManagerSettings.runScriptArgs.concat([dep.name])),log.info(`Finished ${dep.name} script`);break;case"package":log.info(`Will install ${dep.name} package`,dep.args||"");const args=[`${dep.name}${dep.version?"@"+dep.version:""}`].concat(dep.args||[]);await cli_1.default(command,depManagerSettings.installArgs.concat(args)),log.info(`Finished ${dep.name} script`)}log.info("Finished installing deps"),DependencyManager.runningJobs=DependencyManager.runningJobs.filter(v=>v!==depsId)}catch(e){throw DependencyManager.runningJobs=DependencyManager.runningJobs.filter(v=>v!==depsId),e}}}register(server){this.server=this.server||server,this.server.addOnInitializeHook(()=>({capabilities:{}})),this.server.onRequest(contracts_1.InstallDepRequest,this.onRequestToInstall)}}exports.default=DependencyManager,DependencyManager.runningJobs=[]},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.cli=void 0;const command_exists_1=__webpack_require__(196),execPromise_1=__importDefault(__webpack_require__(198)),path_1=__webpack_require__(199);function cli(command,args,options={}){if(!command_exists_1.sync(command))throw new Error(`${command} Not found. You need to install ${command} first to install dependencies. Install it and restart before continue.`);return execPromise_1.default(command,args,{shell:!0,cwd:path_1.getDataPath(),...options})}exports.cli=cli,exports.default=cli},function(module,exports,__webpack_require__){module.exports=__webpack_require__(197)},function(module,exports,__webpack_require__){"use strict";var exec=__webpack_require__(23).exec,execSync=__webpack_require__(23).execSync,fs=__webpack_require__(6),path=__webpack_require__(8),access=fs.access,accessSync=fs.accessSync,constants=fs.constants||fs,isUsingWindows="win32"==process.platform,commandExistsUnix=function(commandName,cleanedCommandName,callback){!function(commandName,callback){access(commandName,constants.F_OK,(function(err){callback(!err)}))}(commandName,(function(isFile){if(isFile)!function(commandName,callback){access(commandName,constants.F_OK|constants.X_OK,(function(err){callback(null,!err)}))}(commandName,callback);else exec("command -v "+cleanedCommandName+" 2>/dev/null && { echo >&1 "+cleanedCommandName+"; exit 0; }",(function(error,stdout,stderr){callback(null,!!stdout)}))}))},commandExistsUnixSync=function(commandName,cleanedCommandName){if(function(commandName){try{return accessSync(commandName,constants.F_OK),!1}catch(e){return!0}}(commandName))try{return!!execSync("command -v "+cleanedCommandName+" 2>/dev/null && { echo >&1 "+cleanedCommandName+"; exit 0; }")}catch(error){return!1}return function(commandName){try{return accessSync(commandName,constants.F_OK|constants.X_OK),!0}catch(e){return!1}}(commandName)},cleanInput=function(s){return/[^A-Za-z0-9_\/:=-]/.test(s)&&(s=(s="'"+s.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),s};isUsingWindows&&(cleanInput=function(s){return/[\\]/.test(s)?'"'+path.dirname(s)+'"'+":"+('"'+path.basename(s)+'"'):'"'+s+'"'}),module.exports=function commandExists(commandName,callback){var cleanedCommandName=cleanInput(commandName);if(!callback&&"undefined"!=typeof Promise)return new Promise((function(resolve,reject){commandExists(commandName,(function(error,output){output?resolve(commandName):reject(error)}))}));isUsingWindows?function(commandName,cleanedCommandName,callback){if(/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(commandName))exec("where "+cleanedCommandName,(function(error){callback(null,null===error)}));else callback(null,!1)}(commandName,cleanedCommandName,callback):commandExistsUnix(commandName,cleanedCommandName,callback)},module.exports.sync=function(commandName){var cleanedCommandName=cleanInput(commandName);return isUsingWindows?function(commandName,cleanedCommandName,callback){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(commandName))return!1;try{return!!execSync("where "+cleanedCommandName,{stdio:[]})}catch(error){return!1}}(commandName,cleanedCommandName):commandExistsUnixSync(commandName,cleanedCommandName)}},function(module,exports,__webpack_require__){"use strict";(function(__dirname){Object.defineProperty(exports,"__esModule",{value:!0});const child_process_1=__webpack_require__(23);exports.default=function(command,args,options={}){return new Promise((resolve,reject)=>{options.env={...process.env,NODE_VERSION:process.versions.node,...options.env};const child=child_process_1.spawn(command,args,{cwd:__dirname,...options});let stderr="",stdout="",output="";child.stdout.on("data",chunk=>{stdout+=chunk.toString(),output+=chunk.toString(),process.stdout.write(chunk)}),child.stderr.on("data",chunk=>{stderr+=chunk.toString(),output+=chunk.toString(),process.stderr.write(chunk)}),child.on("exit",code=>0!==code?reject({code:code,stderr:stderr,message:output}):resolve({code:code,stdout:stdout,stderr:stderr,message:output}))})}}).call(this,"/")},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SESSION_FILES_DIRNAME=exports.RUNNING_INFO_FILENAME=exports.migrateFilesToNewPaths=exports.getCachePath=exports.getDataPath=exports.getConfigPath=exports.getHome=void 0;const env_paths_1=__importDefault(__webpack_require__(200)),path_1=__importDefault(__webpack_require__(8)),fs_1=__importDefault(__webpack_require__(6)),src_1=__webpack_require__(11),mkdir_1=__importDefault(__webpack_require__(201)),log=src_1.createLogger("persistence"),SQLTOOLS_PATHS=env_paths_1.default("vscode-sqltools",{suffix:null});let home;function getHome(...args){if(!home){if(!process||!process.env||!process.env.HOME&&!process.env.USERPROFILE)throw new Error("Could not find user home path");home=process.env.HOME||process.env.USERPROFILE}return path_1.default.resolve(home,...args)}function getConfigPath(...args){return path_1.default.resolve(SQLTOOLS_PATHS.config,...args)}function getDataPath(...args){return path_1.default.resolve(SQLTOOLS_PATHS.data,...args)}fs_1.default.existsSync(SQLTOOLS_PATHS.config)||(mkdir_1.default.sync(SQLTOOLS_PATHS.config),log.debug("Created config path "+SQLTOOLS_PATHS.config)),fs_1.default.existsSync(SQLTOOLS_PATHS.data)||(mkdir_1.default.sync(SQLTOOLS_PATHS.data),log.debug("Created data path "+SQLTOOLS_PATHS.data)),fs_1.default.existsSync(SQLTOOLS_PATHS.cache)||(mkdir_1.default.sync(SQLTOOLS_PATHS.cache),log.debug("Created cache path "+SQLTOOLS_PATHS.cache)),fs_1.default.existsSync(getDataPath("node_modules"))||(mkdir_1.default.sync(getDataPath("node_modules")),log.debug("Created node_modules path "+getDataPath("node_modules"))),exports.getHome=getHome,exports.getConfigPath=getConfigPath,exports.getDataPath=getDataPath,exports.getCachePath=function(...args){return path_1.default.resolve(SQLTOOLS_PATHS.cache,...args)},exports.migrateFilesToNewPaths=function(){log.debug("Checking file paths migration needed"),[{from:getHome(".sqltools-setup"),to:getConfigPath(exports.RUNNING_INFO_FILENAME),migrated:!1},{from:getHome(".SQLTools"),to:getDataPath(exports.SESSION_FILES_DIRNAME)}].map(task=>{const{from:from,to:to}=task;return fs_1.default.existsSync(to)?(log.debug(`Destination file ${to} already exists. Skipping...`),task):fs_1.default.existsSync(from)?(fs_1.default.renameSync(from,to),task.migrated=!0,log.info(`Migrated file from ${from} to ${to}`),task):(log.debug(`Origin file ${from} doesnt exists. Skipping...`),task)})},exports.RUNNING_INFO_FILENAME="runningInfo.json",exports.SESSION_FILES_DIRNAME="session"},function(module,exports,__webpack_require__){"use strict";const path=__webpack_require__(8),os=__webpack_require__(13),homedir=os.homedir(),tmpdir=os.tmpdir(),{env:env}=process,envPaths=(name,options)=>{if("string"!=typeof name)throw new TypeError("Expected string, got "+typeof name);return(options=Object.assign({suffix:"nodejs"},options)).suffix&&(name+="-"+options.suffix),"darwin"===process.platform?(name=>{const library=path.join(homedir,"Library");return{data:path.join(library,"Application Support",name),config:path.join(library,"Preferences",name),cache:path.join(library,"Caches",name),log:path.join(library,"Logs",name),temp:path.join(tmpdir,name)}})(name):"win32"===process.platform?(name=>{const appData=env.APPDATA||path.join(homedir,"AppData","Roaming"),localAppData=env.LOCALAPPDATA||path.join(homedir,"AppData","Local");return{data:path.join(localAppData,name,"Data"),config:path.join(appData,name,"Config"),cache:path.join(localAppData,name,"Cache"),log:path.join(localAppData,name,"Log"),temp:path.join(tmpdir,name)}})(name):(name=>{const username=path.basename(homedir);return{data:path.join(env.XDG_DATA_HOME||path.join(homedir,".local","share"),name),config:path.join(env.XDG_CONFIG_HOME||path.join(homedir,".config"),name),cache:path.join(env.XDG_CACHE_HOME||path.join(homedir,".cache"),name),log:path.join(env.XDG_STATE_HOME||path.join(homedir,".local","state"),name),temp:path.join(tmpdir,username,name)}})(name)};module.exports=envPaths,module.exports.default=envPaths},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0});const mkdir=__importStar(__webpack_require__(202));exports.default=mkdir},function(module,exports,__webpack_require__){"use strict";const fs=__webpack_require__(6),path=__webpack_require__(8),{promisify:promisify}=__webpack_require__(14),useNativeRecursiveOption=__webpack_require__(203).satisfies(process.version,">=10.12.0"),checkPath=pth=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(pth.replace(path.parse(pth).root,""))){const error=new Error("Path contains invalid characters: "+pth);throw error.code="EINVAL",error}}},processOptions=options=>({...{mode:511,fs:fs},...options}),permissionError=pth=>{const error=new Error(`operation not permitted, mkdir '${pth}'`);return error.code="EPERM",error.errno=-4048,error.path=pth,error.syscall="mkdir",error};module.exports=async(input,options)=>{checkPath(input),options=processOptions(options);const mkdir=promisify(options.fs.mkdir),stat=promisify(options.fs.stat);if(useNativeRecursiveOption&&options.fs.mkdir===fs.mkdir){const pth=path.resolve(input);return await mkdir(pth,{mode:options.mode,recursive:!0}),pth}const make=async pth=>{try{return await mkdir(pth,options.mode),pth}catch(error){if("EPERM"===error.code)throw error;if("ENOENT"===error.code){if(path.dirname(pth)===pth)throw permissionError(pth);if(error.message.includes("null bytes"))throw error;return await make(path.dirname(pth)),make(pth)}try{if(!(await stat(pth)).isDirectory())throw new Error("The path is not a directory")}catch(_){throw error}return pth}};return make(path.resolve(input))},module.exports.sync=(input,options)=>{if(checkPath(input),options=processOptions(options),useNativeRecursiveOption&&options.fs.mkdirSync===fs.mkdirSync){const pth=path.resolve(input);return fs.mkdirSync(pth,{mode:options.mode,recursive:!0}),pth}const make=pth=>{try{options.fs.mkdirSync(pth,options.mode)}catch(error){if("EPERM"===error.code)throw error;if("ENOENT"===error.code){if(path.dirname(pth)===pth)throw permissionError(pth);if(error.message.includes("null bytes"))throw error;return make(path.dirname(pth)),make(pth)}try{if(!options.fs.statSync(pth).isDirectory())throw new Error("The path is not a directory")}catch(_){throw error}}return pth};return make(path.resolve(input))}},function(module,exports){var debug;exports=module.exports=SemVer,debug="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments,0);args.unshift("SEMVER"),console.log.apply(console,args)}:function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],t=exports.tokens={},R=0;function tok(n){t[n]=R++}tok("NUMERICIDENTIFIER"),src[t.NUMERICIDENTIFIER]="0|[1-9]\\d*",tok("NUMERICIDENTIFIERLOOSE"),src[t.NUMERICIDENTIFIERLOOSE]="[0-9]+",tok("NONNUMERICIDENTIFIER"),src[t.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",tok("MAINVERSION"),src[t.MAINVERSION]="("+src[t.NUMERICIDENTIFIER]+")\\.("+src[t.NUMERICIDENTIFIER]+")\\.("+src[t.NUMERICIDENTIFIER]+")",tok("MAINVERSIONLOOSE"),src[t.MAINVERSIONLOOSE]="("+src[t.NUMERICIDENTIFIERLOOSE]+")\\.("+src[t.NUMERICIDENTIFIERLOOSE]+")\\.("+src[t.NUMERICIDENTIFIERLOOSE]+")",tok("PRERELEASEIDENTIFIER"),src[t.PRERELEASEIDENTIFIER]="(?:"+src[t.NUMERICIDENTIFIER]+"|"+src[t.NONNUMERICIDENTIFIER]+")",tok("PRERELEASEIDENTIFIERLOOSE"),src[t.PRERELEASEIDENTIFIERLOOSE]="(?:"+src[t.NUMERICIDENTIFIERLOOSE]+"|"+src[t.NONNUMERICIDENTIFIER]+")",tok("PRERELEASE"),src[t.PRERELEASE]="(?:-("+src[t.PRERELEASEIDENTIFIER]+"(?:\\."+src[t.PRERELEASEIDENTIFIER]+")*))",tok("PRERELEASELOOSE"),src[t.PRERELEASELOOSE]="(?:-?("+src[t.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[t.PRERELEASEIDENTIFIERLOOSE]+")*))",tok("BUILDIDENTIFIER"),src[t.BUILDIDENTIFIER]="[0-9A-Za-z-]+",tok("BUILD"),src[t.BUILD]="(?:\\+("+src[t.BUILDIDENTIFIER]+"(?:\\."+src[t.BUILDIDENTIFIER]+")*))",tok("FULL"),tok("FULLPLAIN"),src[t.FULLPLAIN]="v?"+src[t.MAINVERSION]+src[t.PRERELEASE]+"?"+src[t.BUILD]+"?",src[t.FULL]="^"+src[t.FULLPLAIN]+"$",tok("LOOSEPLAIN"),src[t.LOOSEPLAIN]="[v=\\s]*"+src[t.MAINVERSIONLOOSE]+src[t.PRERELEASELOOSE]+"?"+src[t.BUILD]+"?",tok("LOOSE"),src[t.LOOSE]="^"+src[t.LOOSEPLAIN]+"$",tok("GTLT"),src[t.GTLT]="((?:<|>)?=?)",tok("XRANGEIDENTIFIERLOOSE"),src[t.XRANGEIDENTIFIERLOOSE]=src[t.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",tok("XRANGEIDENTIFIER"),src[t.XRANGEIDENTIFIER]=src[t.NUMERICIDENTIFIER]+"|x|X|\\*",tok("XRANGEPLAIN"),src[t.XRANGEPLAIN]="[v=\\s]*("+src[t.XRANGEIDENTIFIER]+")(?:\\.("+src[t.XRANGEIDENTIFIER]+")(?:\\.("+src[t.XRANGEIDENTIFIER]+")(?:"+src[t.PRERELEASE]+")?"+src[t.BUILD]+"?)?)?",tok("XRANGEPLAINLOOSE"),src[t.XRANGEPLAINLOOSE]="[v=\\s]*("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:"+src[t.PRERELEASELOOSE]+")?"+src[t.BUILD]+"?)?)?",tok("XRANGE"),src[t.XRANGE]="^"+src[t.GTLT]+"\\s*"+src[t.XRANGEPLAIN]+"$",tok("XRANGELOOSE"),src[t.XRANGELOOSE]="^"+src[t.GTLT]+"\\s*"+src[t.XRANGEPLAINLOOSE]+"$",tok("COERCE"),src[t.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",tok("COERCERTL"),re[t.COERCERTL]=new RegExp(src[t.COERCE],"g"),tok("LONETILDE"),src[t.LONETILDE]="(?:~>?)",tok("TILDETRIM"),src[t.TILDETRIM]="(\\s*)"+src[t.LONETILDE]+"\\s+",re[t.TILDETRIM]=new RegExp(src[t.TILDETRIM],"g");tok("TILDE"),src[t.TILDE]="^"+src[t.LONETILDE]+src[t.XRANGEPLAIN]+"$",tok("TILDELOOSE"),src[t.TILDELOOSE]="^"+src[t.LONETILDE]+src[t.XRANGEPLAINLOOSE]+"$",tok("LONECARET"),src[t.LONECARET]="(?:\\^)",tok("CARETTRIM"),src[t.CARETTRIM]="(\\s*)"+src[t.LONECARET]+"\\s+",re[t.CARETTRIM]=new RegExp(src[t.CARETTRIM],"g");tok("CARET"),src[t.CARET]="^"+src[t.LONECARET]+src[t.XRANGEPLAIN]+"$",tok("CARETLOOSE"),src[t.CARETLOOSE]="^"+src[t.LONECARET]+src[t.XRANGEPLAINLOOSE]+"$",tok("COMPARATORLOOSE"),src[t.COMPARATORLOOSE]="^"+src[t.GTLT]+"\\s*("+src[t.LOOSEPLAIN]+")$|^$",tok("COMPARATOR"),src[t.COMPARATOR]="^"+src[t.GTLT]+"\\s*("+src[t.FULLPLAIN]+")$|^$",tok("COMPARATORTRIM"),src[t.COMPARATORTRIM]="(\\s*)"+src[t.GTLT]+"\\s*("+src[t.LOOSEPLAIN]+"|"+src[t.XRANGEPLAIN]+")",re[t.COMPARATORTRIM]=new RegExp(src[t.COMPARATORTRIM],"g");tok("HYPHENRANGE"),src[t.HYPHENRANGE]="^\\s*("+src[t.XRANGEPLAIN]+")\\s+-\\s+("+src[t.XRANGEPLAIN]+")\\s*$",tok("HYPHENRANGELOOSE"),src[t.HYPHENRANGELOOSE]="^\\s*("+src[t.XRANGEPLAINLOOSE]+")\\s+-\\s+("+src[t.XRANGEPLAINLOOSE]+")\\s*$",tok("STAR"),src[t.STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<R;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));function parse(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer)return version;if("string"!=typeof version)return null;if(version.length>256)return null;if(!(options.loose?re[t.LOOSE]:re[t.FULL]).test(version))return null;try{return new SemVer(version,options)}catch(er){return null}}function SemVer(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer){if(version.loose===options.loose)return version;version=version.version}else if("string"!=typeof version)throw new TypeError("Invalid Version: "+version);if(version.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(version,options);debug("SemVer",version,options),this.options=options,this.loose=!!options.loose;var m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m)throw new TypeError("Invalid Version: "+version);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map((function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id})):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}exports.parse=parse,exports.valid=function(version,options){var v=parse(version,options);return v?v.version:null},exports.clean=function(version,options){var s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null},exports.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(other){return debug("SemVer.compare",this.version,this.options,other),other instanceof SemVer||(other=new SemVer(other,this.options)),this.compareMain(other)||this.comparePre(other)},SemVer.prototype.compareMain=function(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)},SemVer.prototype.comparePre=function(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.compareBuild=function(other){other instanceof SemVer||(other=new SemVer(other,this.options));var i=0;do{var a=this.build[i],b=other.build[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.inc=function(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}identifier&&(this.prerelease[0]===identifier?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error("invalid increment argument: "+release)}return this.format(),this.raw=this.version,this},exports.inc=function(version,release,loose,identifier){"string"==typeof loose&&(identifier=loose,loose=void 0);try{return new SemVer(version,loose).inc(release,identifier).version}catch(er){return null}},exports.diff=function(version1,version2){if(eq(version1,version2))return null;var v1=parse(version1),v2=parse(version2),prefix="";if(v1.prerelease.length||v2.prerelease.length){prefix="pre";var defaultResult="prerelease"}for(var key in v1)if(("major"===key||"minor"===key||"patch"===key)&&v1[key]!==v2[key])return prefix+key;return defaultResult},exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1}function compare(a,b,loose){return new SemVer(a,loose).compare(new SemVer(b,loose))}function gt(a,b,loose){return compare(a,b,loose)>0}function lt(a,b,loose){return compare(a,b,loose)<0}function eq(a,b,loose){return 0===compare(a,b,loose)}function neq(a,b,loose){return 0!==compare(a,b,loose)}function gte(a,b,loose){return compare(a,b,loose)>=0}function lte(a,b,loose){return compare(a,b,loose)<=0}function cmp(a,op,b,loose){switch(op){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a===b;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError("Invalid operator: "+op)}}function Comparator(comp,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}if(!(this instanceof Comparator))return new Comparator(comp,options);debug("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}exports.rcompareIdentifiers=function(a,b){return compareIdentifiers(b,a)},exports.major=function(a,loose){return new SemVer(a,loose).major},exports.minor=function(a,loose){return new SemVer(a,loose).minor},exports.patch=function(a,loose){return new SemVer(a,loose).patch},exports.compare=compare,exports.compareLoose=function(a,b){return compare(a,b,!0)},exports.compareBuild=function(a,b,loose){var versionA=new SemVer(a,loose),versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)},exports.rcompare=function(a,b,loose){return compare(b,a,loose)},exports.sort=function(list,loose){return list.sort((function(a,b){return exports.compareBuild(a,b,loose)}))},exports.rsort=function(list,loose){return list.sort((function(a,b){return exports.compareBuild(b,a,loose)}))},exports.gt=gt,exports.lt=lt,exports.eq=eq,exports.neq=neq,exports.gte=gte,exports.lte=lte,exports.cmp=cmp,exports.Comparator=Comparator;var ANY={};function Range(range,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof Comparator)return new Range(range.value,options);if(!(this instanceof Range))return new Range(range,options);if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split(/\s*\|\|\s*/).map((function(range){return this.parseRange(range.trim())}),this).filter((function(c){return c.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+range);this.format()}function isSatisfiable(comparators,options){for(var result=!0,remainingComparators=comparators.slice(),testComparator=remainingComparators.pop();result&&remainingComparators.length;)result=remainingComparators.every((function(otherComparator){return testComparator.intersects(otherComparator,options)})),testComparator=remainingComparators.pop();return result}function isX(id){return!id||"x"===id.toLowerCase()||"*"===id}function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){return((from=isX(fM)?"":isX(fm)?">="+fM+".0.0":isX(fp)?">="+fM+"."+fm+".0":">="+from)+" "+(to=isX(tM)?"":isX(tm)?"<"+(+tM+1)+".0.0":isX(tp)?"<"+tM+"."+(+tm+1)+".0":tpr?"<="+tM+"."+tm+"."+tp+"-"+tpr:"<="+to)).trim()}function testSet(set,version,options){for(var i=0;i<set.length;i++)if(!set[i].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(i=0;i<set.length;i++)if(debug(set[i].semver),set[i].semver!==ANY&&set[i].semver.prerelease.length>0){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}function satisfies(version,range,options){try{range=new Range(range,options)}catch(er){return!1}return range.test(version)}function outside(version,range,hilo,options){var gtfn,ltefn,ltfn,comp,ecomp;switch(version=new SemVer(version,options),range=new Range(range,options),hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options))return!1;for(var i=0;i<range.set.length;++i){var comparators=range.set[i],high=null,low=null;if(comparators.forEach((function(comparator){comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options)?high=comparator:ltfn(comparator.semver,low.semver,options)&&(low=comparator)})),high.operator===comp||high.operator===ecomp)return!1;if((!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0}Comparator.prototype.parse=function(comp){var r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: "+comp);this.operator=void 0!==m[1]?m[1]:"","="===this.operator&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(version){if(debug("Comparator.test",version,this.options.loose),this.semver===ANY||version===ANY)return!0;if("string"==typeof version)try{version=new SemVer(version,this.options)}catch(er){return!1}return cmp(version,this.operator,this.semver,this.options)},Comparator.prototype.intersects=function(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");var rangeTmp;if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),""===this.operator)return""===this.value||(rangeTmp=new Range(comp.value,options),satisfies(this.value,rangeTmp,options));if(""===comp.operator)return""===comp.value||(rangeTmp=new Range(this.value,options),satisfies(comp.semver,rangeTmp,options));var sameDirectionIncreasing=!(">="!==this.operator&&">"!==this.operator||">="!==comp.operator&&">"!==comp.operator),sameDirectionDecreasing=!("<="!==this.operator&&"<"!==this.operator||"<="!==comp.operator&&"<"!==comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=!(">="!==this.operator&&"<="!==this.operator||">="!==comp.operator&&"<="!==comp.operator),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan},exports.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(comps){return comps.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(range){var loose=this.options.loose;range=range.trim();var hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace),debug("hyphen replace",range),range=range.replace(re[t.COMPARATORTRIM],"$1$2$3"),debug("comparator trim",range,re[t.COMPARATORTRIM]),range=(range=(range=range.replace(re[t.TILDETRIM],"$1~")).replace(re[t.CARETTRIM],"$1^")).split(/\s+/).join(" ");var compRe=loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],set=range.split(" ").map((function(comp){return function(comp,options){return debug("comp",comp,options),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){debug("caret",comp,options);var r=options.loose?re[t.CARETLOOSE]:re[t.CARET];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("caret",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret="0"===M?">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":">="+M+"."+m+".0 <"+(+M+1)+".0.0":pr?(debug("replaceCaret pr",pr),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+"-"+pr+" <"+(+M+1)+".0.0"):(debug("no pr"),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+" <"+(+M+1)+".0.0"),debug("caret return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("caret",comp),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){var r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("tilde",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":pr?(debug("replaceTilde pr",pr),ret=">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0"):ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0",debug("tilde return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("tildes",comp),comp=function(comp,options){return debug("replaceXRanges",comp,options),comp.split(/\s+/).map((function(comp){return function(comp,options){comp=comp.trim();var r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(function(ret,gtlt,M,m,p,pr){debug("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;return"="===gtlt&&anyX&&(gtlt=""),pr=options.includePrerelease?"-0":"",xM?ret=">"===gtlt||"<"===gtlt?"<0.0.0-0":"*":gtlt&&anyX?(xm&&(m=0),p=0,">"===gtlt?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):"<="===gtlt&&(gtlt="<",xm?M=+M+1:m=+m+1),ret=gtlt+M+"."+m+"."+p+pr):xm?ret=">="+M+".0.0"+pr+" <"+(+M+1)+".0.0"+pr:xp&&(ret=">="+M+"."+m+".0"+pr+" <"+M+"."+(+m+1)+".0"+pr),debug("xRange return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("xrange",comp),comp=function(comp,options){return debug("replaceStars",comp,options),comp.trim().replace(re[t.STAR],"")}(comp,options),debug("stars",comp),comp}(comp,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(set=set.filter((function(comp){return!!comp.match(compRe)}))),set=set.map((function(comp){return new Comparator(comp,this.options)}),this)},Range.prototype.intersects=function(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(thisComparators){return isSatisfiable(thisComparators,options)&&range.set.some((function(rangeComparators){return isSatisfiable(rangeComparators,options)&&thisComparators.every((function(thisComparator){return rangeComparators.every((function(rangeComparator){return thisComparator.intersects(rangeComparator,options)}))}))}))}))},exports.toComparators=function(range,options){return new Range(range,options).set.map((function(comp){return comp.map((function(c){return c.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(version){if(!version)return!1;if("string"==typeof version)try{version=new SemVer(version,this.options)}catch(er){return!1}for(var i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1},exports.satisfies=satisfies,exports.maxSatisfying=function(versions,range,options){var max=null,maxSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(max&&-1!==maxSV.compare(v)||(maxSV=new SemVer(max=v,options)))})),max},exports.minSatisfying=function(versions,range,options){var min=null,minSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(min&&1!==minSV.compare(v)||(minSV=new SemVer(min=v,options)))})),min},exports.minVersion=function(range,loose){range=new Range(range,loose);var minver=new SemVer("0.0.0");if(range.test(minver))return minver;if(minver=new SemVer("0.0.0-0"),range.test(minver))return minver;minver=null;for(var i=0;i<range.set.length;++i){range.set[i].forEach((function(comparator){var compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":0===compver.prerelease.length?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":minver&&!gt(minver,compver)||(minver=compver);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+comparator.operator)}}))}if(minver&&range.test(minver))return minver;return null},exports.validRange=function(range,options){try{return new Range(range,options).range||"*"}catch(er){return null}},exports.ltr=function(version,range,options){return outside(version,range,"<",options)},exports.gtr=function(version,range,options){return outside(version,range,">",options)},exports.outside=outside,exports.prerelease=function(version,options){var parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null},exports.intersects=function(r1,r2,options){return r1=new Range(r1,options),r2=new Range(r2,options),r1.intersects(r2)},exports.coerce=function(version,options){if(version instanceof SemVer)return version;"number"==typeof version&&(version=String(version));if("string"!=typeof version)return null;var match=null;if((options=options||{}).rtl){for(var next;(next=re[t.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length);)match&&next.index+next[0].length===match.index+match[0].length||(match=next),re[t.COERCERTL].lastIndex=next.index+next[1].length+next[2].length;re[t.COERCERTL].lastIndex=-1}else match=version.match(re[t.COERCE]);if(null===match)return null;return parse(match[2]+"."+(match[3]||"0")+"."+(match[4]||"0"),options)}},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_1=__webpack_require__(19),types_1=__webpack_require__(205),query_1=__webpack_require__(206),connections_state_model_1=__importStar(__webpack_require__(48)),node_sql_parser_1=__webpack_require__(207),models_1=__webpack_require__(225),src_1=__webpack_require__(11),constants_1=__webpack_require__(226),log=src_1.createLogger("intellisense"),parser=new node_sql_parser_1.Parser,IS_WORD_REGEX=/^\w/g;exports.default=class IntellisensePlugin{constructor(){this.getQueryData=async params=>{const[activeConnections,lastUsedId]=await Promise.all([connections_state_model_1.default.get(connections_state_model_1.ACTIVE_CONNECTIONS_KEY,{}),connections_state_model_1.default.get(connections_state_model_1.LAST_USED_ID_KEY)]),{textDocument:textDocument,position:position}=params;log.info("completion requested %O",position);const doc=this.server.docManager.get(textDocument.uri),{currentQuery:currentQuery,currentQueryTilCursor:currentQueryTilCursor}=query_1.getDocumentCurrentQuery(doc,position);log.debug("got current query:\n%s",currentQuery);const queryTokens=doc.getText(vscode_languageserver_1.Range.create(Math.max(0,position.line-5),0,position.line,position.character)).replace(/[\r\n|\n]+/g," ").split(/;/g).pop().split(/\s+/g),currentWord=(queryTokens.pop()||"").trim().toUpperCase(),prevWord=(queryTokens.pop()||"").trim().toUpperCase(),prev2Words=`${queryTokens.pop()||""} ${prevWord}`.trim().toUpperCase();log.debug("check prevWord %s",prevWord);return{currentWord:currentWord,currentQuery:currentQuery,currentQueryTilCursor:currentQueryTilCursor,prevWord:prevWord,prev2Words:prev2Words,completionDialect:void 0,conn:activeConnections[lastUsedId]}},this.getCompletionsFromQueryParser=async({currentQuery:currentQuery,completionDialect:completionDialect,conn:conn})=>{let completions=[],suggestColumns=!1,usedTables=[],staticCompletions={};try{conn&&(staticCompletions=await conn.getStaticCompletions())}catch(_){}try{const{ast:ast}=((query="",database,retry=5)=>{let err,i=0,currentQuery=query.trim();for(;i<retry;)try{return parser.parse(currentQuery,database?{database:database}:void 0)}catch(e){if(err=err||e,++i,currentQuery=currentQuery.substring(0,Math.max(currentQuery.lastIndexOf(" "),0)).trim(),0===currentQuery.length)break;log.info("retry(%d) with\n%s",i,currentQuery)}throw err})(currentQuery,completionDialect,5);usedTables=ast.from||[],log.debug("query ast parsed:\n%O",JSON.stringify(ast))}catch(error){if(suggestColumns=suggestColumns||error.message&&-1!==error.message.toString().indexOf("A-Za-z0-9_"),error.expected&&error.expected.length>0){const added={};error.expected.forEach(exp=>{let label=null;exp.text&&(label=exp.text),null===label||added[label]||(added[label]=!0,completions.push(staticCompletions[label]||{label:label,filterText:label,sortText:IS_WORD_REGEX.test(label)?"3:"+label:"4:"+label,kind:vscode_languageserver_1.CompletionItemKind[exp.type.charAt(0)+exp.type.substr(1)]}),delete staticCompletions[label])})}}return completions.push(...Object.values(staticCompletions)),{completions:completions,suggestColumns:suggestColumns,usedTables:usedTables}},this.getTableCompletions=async({currentWord:currentWord,conn:conn})=>{const tables=await conn.searchItems(types_1.ContextValue.TABLE,currentWord);return log.info("got %d table completions",tables.length),tables.length>0?tables.map(t=>models_1.TableCompletionItem(t,0)):[]},this.getColumnCompletions=async({currentWord:currentWord,conn:conn,usedTables:usedTables})=>{const tables=usedTables.map(t=>({label:t.table||void 0,database:t.database||void 0})),columns=await conn.searchItems(types_1.ContextValue.COLUMN,currentWord,{tables:tables});return log.info("got %d column completions",columns.length),columns.length>0?columns.map(c=>models_1.TableColumnCompletionItem(c,{driver:conn.getDriver(),addTable:usedTables.length>1})):[]},this.onCompletion=async params=>{let completionsMap={query:[],tables:[],columns:[]},hasColumnSuggestions=!1;try{const{currentWord:currentWord,currentQuery:currentQuery,prevWord:prevWord,prev2Words:prev2Words,completionDialect:completionDialect,conn:conn}=await this.getQueryData(params),{completions:queryCompletions,suggestColumns:suggestColumns,usedTables:usedTables}=await this.getCompletionsFromQueryParser({currentQuery:currentQuery,completionDialect:completionDialect,conn:conn});if(completionsMap.query=queryCompletions,!conn)return log.info("no active connection completions count: %d",completionsMap.query.length),completionsMap.query;hasColumnSuggestions=suggestColumns;const[tableCompletions,columnCompletions]=await Promise.all([constants_1.tablePrevWords.includes(prevWord)||constants_1.tablePrevWords.includes(prev2Words)?this.getTableCompletions({currentWord:currentWord,conn:conn}):[],constants_1.columnPrevWords.includes(prevWord)||constants_1.columnPrevWords.includes(prev2Words)?this.getColumnCompletions({currentWord:currentWord,conn:conn,usedTables:usedTables}):[]]);completionsMap.tables=tableCompletions,completionsMap.columns=columnCompletions}catch(error){log.error("got an error:\n %O",error)}let completions=[];return completions=hasColumnSuggestions?completionsMap.columns.concat(completionsMap.tables).concat(completionsMap.query):completionsMap.tables.concat(completionsMap.query).concat(completionsMap.columns),log.debug("total completions %d",completions.length),completions}}register(server){this.server=this.server||server,this.server.addOnInitializeHook(()=>({capabilities:{completionProvider:{workDoneProgress:!0,triggerCharacters:[" ",".","(","`",,"["]}}})),this.server.onCompletion(this.onCompletion)}}},function(module,exports){const ContextValue={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(ContextValue),module.exports={ContextValue:ContextValue}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocumentCurrentQuery=void 0;const query_1=__webpack_require__(69);exports.getDocumentCurrentQuery=(document,position)=>{if(!document||document.uri.startsWith("output"))return{currentQuery:null,currentQueryTilCursor:null,range:null};if(0===document.getText({start:{line:position.line,character:0},end:{line:position.line+1,character:0}}).replace(/[\n\r\s]/g,"").length)return{currentQuery:"",currentQueryTilCursor:"",range:{start:position,end:position}};const text=document.getText(),currentOffset=document.offsetAt(position),prefix=text.slice(0,currentOffset+1),allQueries=query_1.parse(text),prefixQueries=query_1.parse(prefix),currentQuery=allQueries[prefixQueries.length-1],currentQueryTilCursor=prefixQueries.pop(),startIndex=prefix.lastIndexOf(prefixQueries[prefixQueries.length-1]);return{currentQuery:currentQuery,currentQueryTilCursor:currentQueryTilCursor,range:{start:document.positionAt(startIndex),end:document.positionAt(startIndex+currentQuery.length)}}}},function(module,exports,__webpack_require__){const Parser=__webpack_require__(208).default,util=__webpack_require__(4);module.exports={Parser:Parser,util:util},global&&global.window&&(global.window.NodeSQLParser={Parser:Parser,util:util})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(209),__webpack_require__(210),__webpack_require__(211),__webpack_require__(212),__webpack_require__(213),__webpack_require__(214),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_hive,_mysql,_mariadb,_postgresql,_transactsql,_sql,_util){"use strict";var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_sql=(obj=_sql)&&obj.__esModule?obj:{default:obj};const parser={hive:_hive.parse,mysql:_mysql.parse,mariadb:_mariadb.parse,postgresql:_postgresql.parse,transactsql:_transactsql.parse};var _default=class Parser{astify(sql,opt=_util.DEFAULT_OPT){const astInfo=this.parse(sql,opt);return astInfo&&astInfo.ast}sqlify(ast,opt=_util.DEFAULT_OPT){return(0,_util.setParserOpt)(opt),(0,_sql.default)(ast,opt)}parse(sql,opt=_util.DEFAULT_OPT){const{database:database="mysql"}=opt;(0,_util.setParserOpt)(opt);const typeCase=database.toLowerCase();if(parser[typeCase])return parser[typeCase](sql.trim());throw new Error(database+" is not supported currently")}whiteListCheck(sql,whiteList,opt=_util.DEFAULT_OPT){if(!whiteList||0===whiteList.length)return;const{type:type="table"}=opt;if(!this[type+"List"]||"function"!=typeof this[type+"List"])throw new Error(type+" is not valid check mode");const authorityList=this[type+"List"].bind(this)(sql,opt);let hasAuthority=!0,denyInfo="";for(const authority of authorityList){let hasCorrespondingAuthority=!1;for(const whiteAuthority of whiteList)if(new RegExp(whiteAuthority,"i").test(authority)){hasCorrespondingAuthority=!0;break}if(!hasCorrespondingAuthority){denyInfo=authority,hasAuthority=!1;break}}if(!hasAuthority)throw new Error(`authority = '${denyInfo}' is required in ${type} whiteList to execute SQL = '${sql}'`)}tableList(sql,opt){const astInfo=this.parse(sql,opt);return astInfo&&astInfo.tableList}columnList(sql,opt){const astInfo=this.parse(sql,opt);return astInfo&&astInfo.columnList}};_exports.default=_default})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(25)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BigInt){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var i,escapedParts="";for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}return"Expected "+function(expected){var i,j,expectation,descriptions=new Array(expected.length);for(i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){options=void 0!==options?options:{};var peg$result,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c7=function(head,tail){return createList(head,tail)},peg$c9=peg$literalExpectation("AUTO_INCREMENT",!0),peg$c11=peg$literalExpectation("UNIQUE",!0),peg$c13=peg$literalExpectation("PRIMARY",!0),peg$c15=peg$literalExpectation("KEY",!0),peg$c19=peg$literalExpectation("COLUMN_FORMAT",!0),peg$c21=peg$literalExpectation("FIXED",!0),peg$c23=peg$literalExpectation("DYNAMIC",!0),peg$c25=peg$literalExpectation("DEFAULT",!0),peg$c28=peg$literalExpectation("STORAGE",!0),peg$c30=peg$literalExpectation("DISK",!0),peg$c32=peg$literalExpectation("MEMORY",!0),peg$c44=peg$literalExpectation("ALGORITHM",!0),peg$c46=peg$literalExpectation("INSTANT",!0),peg$c48=peg$literalExpectation("INPLACE",!0),peg$c50=peg$literalExpectation("COPY",!0),peg$c53=peg$literalExpectation("LOCK",!0),peg$c55=peg$literalExpectation("NONE",!0),peg$c57=peg$literalExpectation("SHARED",!0),peg$c59=peg$literalExpectation("EXCLUSIVE",!0),peg$c65=peg$literalExpectation("PRIMARY KEY",!0),peg$c69=peg$literalExpectation("FOREIGN KEY",!0),peg$c72=peg$literalExpectation("MATCH FULL",!0),peg$c74=peg$literalExpectation("MATCH PARTIAL",!0),peg$c76=peg$literalExpectation("MATCH SIMPLE",!0),peg$c79=peg$literalExpectation("ON DELETE",!0),peg$c81=peg$literalExpectation("ON UPDATE",!0),peg$c84=peg$literalExpectation("RESTRICT",!0),peg$c86=peg$literalExpectation("CASCADE",!0),peg$c88=peg$literalExpectation("SET NULL",!0),peg$c90=peg$literalExpectation("NO ACTION",!0),peg$c92=peg$literalExpectation("SET DEFAULT",!0),peg$c96=peg$literalExpectation("AVG_ROW_LENGTH",!0),peg$c98=peg$literalExpectation("KEY_BLOCK_SIZE",!0),peg$c100=peg$literalExpectation("MAX_ROWS",!0),peg$c102=peg$literalExpectation("MIN_ROWS",!0),peg$c104=peg$literalExpectation("STATS_SAMPLE_PAGES",!0),peg$c107=peg$literalExpectation("CHARACTER SET",!0),peg$c109=peg$literalExpectation("CHARSET",!0),peg$c111=peg$literalExpectation("COLLATE",!0),peg$c114=peg$literalExpectation("CONNECTION",!0),peg$c117=peg$literalExpectation("COMPRESSION",!0),peg$c119=peg$literalExpectation("'",!1),peg$c121=peg$literalExpectation("ZLIB",!0),peg$c123=peg$literalExpectation("LZ4",!0),peg$c126=peg$literalExpectation("ENGINE",!0),peg$c133=peg$literalExpectation("READ",!0),peg$c135=peg$literalExpectation("LOCAL",!0),peg$c138=peg$literalExpectation("LOW_PRIORITY",!0),peg$c140=peg$literalExpectation("WRITE",!0),peg$c147=peg$literalExpectation("(",!1),peg$c149=peg$literalExpectation(")",!1),peg$c163=peg$literalExpectation("BTREE",!0),peg$c165=peg$literalExpectation("HASH",!0),peg$c170=peg$literalExpectation("WITH",!0),peg$c172=peg$literalExpectation("PARSER",!0),peg$c175=peg$literalExpectation("VISIBLE",!0),peg$c177=peg$literalExpectation("INVISIBLE",!0),peg$c200=peg$literalExpectation("=",!1),peg$c216=function(head,tail){return createBinaryExprChain(head,tail)},peg$c218=peg$literalExpectation("!",!1),peg$c222=function(nk){return nk[0]+" "+nk[2]},peg$c225=peg$literalExpectation(">=",!1),peg$c227=peg$literalExpectation(">",!1),peg$c229=peg$literalExpectation("<=",!1),peg$c231=peg$literalExpectation("<>",!1),peg$c233=peg$literalExpectation("<",!1),peg$c235=peg$literalExpectation("!=",!1),peg$c243=peg$literalExpectation("+",!1),peg$c245=peg$literalExpectation("-",!1),peg$c248=peg$literalExpectation("*",!1),peg$c250=peg$literalExpectation("/",!1),peg$c252=peg$literalExpectation("%",!1),peg$c253=function(e){return e.parentheses=!0,e},peg$c257=function(name){return!0===reservedMap[name.toUpperCase()]},peg$c261=peg$literalExpectation('"',!1),peg$c262=/^[^"]/,peg$c263=peg$classExpectation(['"'],!0,!1),peg$c264=function(chars){return chars.join("")},peg$c265=/^[^']/,peg$c266=peg$classExpectation(["'"],!0,!1),peg$c268=peg$literalExpectation("`",!1),peg$c269=/^[^`]/,peg$c270=peg$classExpectation(["`"],!0,!1),peg$c272=function(start,parts){return start+parts.join("")},peg$c273=/^[A-Za-z_]/,peg$c274=peg$classExpectation([["A","Z"],["a","z"],"_"],!1,!1),peg$c275=/^[A-Za-z0-9_]/,peg$c276=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),peg$c277=/^[A-Za-z0-9_:]/,peg$c278=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_",":"],!1,!1),peg$c280=peg$literalExpectation(":",!1),peg$c297=function(ca){return{type:"string",value:ca[1].join("")}},peg$c301=peg$literalExpectation("ON UPDATE CURRENT_TIMESTAMP",!0),peg$c303=/^[^"\\\0-\x1F\x7F]/,peg$c304=peg$classExpectation(['"',"\\",["\0",""],""],!0,!1),peg$c305=/^[^'\\]/,peg$c306=peg$classExpectation(["'","\\"],!0,!1),peg$c308=peg$literalExpectation("\\'",!1),peg$c311=peg$literalExpectation('\\"',!1),peg$c314=peg$literalExpectation("\\\\",!1),peg$c317=peg$literalExpectation("\\/",!1),peg$c320=peg$literalExpectation("\\b",!1),peg$c323=peg$literalExpectation("\\f",!1),peg$c326=peg$literalExpectation("\\n",!1),peg$c329=peg$literalExpectation("\\r",!1),peg$c332=peg$literalExpectation("\\t",!1),peg$c335=peg$literalExpectation("\\u",!1),peg$c338=peg$literalExpectation("\\",!1),peg$c339=/^[\n\r]/,peg$c340=peg$classExpectation(["\n","\r"],!1,!1),peg$c349=peg$literalExpectation(".",!1),peg$c353=/^[0-9]/,peg$c354=peg$classExpectation([["0","9"]],!1,!1),peg$c355=/^[0-9a-fA-F]/,peg$c356=peg$classExpectation([["0","9"],["a","f"],["A","F"]],!1,!1),peg$c357=/^[eE]/,peg$c358=peg$classExpectation(["e","E"],!1,!1),peg$c359=/^[+\-]/,peg$c360=peg$classExpectation(["+","-"],!1,!1),peg$c363=peg$literalExpectation("NULL",!0),peg$c365=peg$literalExpectation("NOT NULL",!0),peg$c367=peg$literalExpectation("TRUE",!0),peg$c369=peg$literalExpectation("TO",!0),peg$c371=peg$literalExpectation("FALSE",!0),peg$c375=(peg$literalExpectation("SHOW",!0),peg$literalExpectation("DROP",!0)),peg$c378=peg$literalExpectation("USE",!0),peg$c380=peg$literalExpectation("ALTER",!0),peg$c382=peg$literalExpectation("SELECT",!0),peg$c384=peg$literalExpectation("UPDATE",!0),peg$c386=peg$literalExpectation("CREATE",!0),peg$c388=peg$literalExpectation("TEMPORARY",!0),peg$c390=peg$literalExpectation("IF NOT EXISTS",!0),peg$c392=peg$literalExpectation("DELETE",!0),peg$c394=peg$literalExpectation("INSERT",!0),peg$c396=peg$literalExpectation("RECURSIVE",!1),peg$c398=peg$literalExpectation("REPLACE",!0),peg$c400=peg$literalExpectation("RENAME",!0),peg$c402=peg$literalExpectation("IGNORE",!0),peg$c406=(peg$literalExpectation("EXPLAIN",!0),peg$literalExpectation("PARTITION",!0)),peg$c409=peg$literalExpectation("INTO",!0),peg$c412=peg$literalExpectation("OVERWRITE",!0),peg$c415=peg$literalExpectation("FROM",!0),peg$c417=peg$literalExpectation("SET",!0),peg$c419=peg$literalExpectation("UNLOCK",!0),peg$c421=peg$literalExpectation("AS",!0),peg$c423=peg$literalExpectation("TABLE",!0),peg$c426=peg$literalExpectation("TABLES",!0),peg$c430=peg$literalExpectation("ON",!0),peg$c432=peg$literalExpectation("LEFT",!0),peg$c434=peg$literalExpectation("RIGHT",!0),peg$c436=peg$literalExpectation("FULL",!0),peg$c438=peg$literalExpectation("INNER",!0),peg$c440=peg$literalExpectation("JOIN",!0),peg$c442=peg$literalExpectation("OUTER",!0),peg$c444=peg$literalExpectation("UNION",!0),peg$c446=peg$literalExpectation("VALUES",!0),peg$c448=peg$literalExpectation("USING",!0),peg$c450=peg$literalExpectation("WHERE",!0),peg$c452=peg$literalExpectation("GROUP",!0),peg$c454=peg$literalExpectation("BY",!0),peg$c456=peg$literalExpectation("ORDER",!0),peg$c458=peg$literalExpectation("HAVING",!0),peg$c460=peg$literalExpectation("LIMIT",!0),peg$c462=peg$literalExpectation("OFFSET",!0),peg$c465=peg$literalExpectation("ASC",!0),peg$c468=peg$literalExpectation("DESC",!0),peg$c471=peg$literalExpectation("ALL",!0),peg$c474=peg$literalExpectation("DISTINCT",!0),peg$c477=peg$literalExpectation("BETWEEN",!0),peg$c480=peg$literalExpectation("IN",!0),peg$c483=peg$literalExpectation("IS",!0),peg$c486=peg$literalExpectation("LIKE",!0),peg$c489=peg$literalExpectation("EXISTS",!0),peg$c492=peg$literalExpectation("NOT",!0),peg$c495=peg$literalExpectation("AND",!0),peg$c498=peg$literalExpectation("OR",!0),peg$c501=peg$literalExpectation("COUNT",!0),peg$c504=peg$literalExpectation("MAX",!0),peg$c507=peg$literalExpectation("MIN",!0),peg$c510=peg$literalExpectation("SUM",!0),peg$c513=peg$literalExpectation("AVG",!0),peg$c516=peg$literalExpectation("CALL",!0),peg$c519=peg$literalExpectation("CASE",!0),peg$c521=peg$literalExpectation("WHEN",!0),peg$c523=peg$literalExpectation("THEN",!0),peg$c525=peg$literalExpectation("ELSE",!0),peg$c527=peg$literalExpectation("END",!0),peg$c529=peg$literalExpectation("CAST",!0),peg$c531=peg$literalExpectation("CHAR",!0),peg$c534=peg$literalExpectation("VARCHAR",!0),peg$c537=peg$literalExpectation("NUMERIC",!0),peg$c540=peg$literalExpectation("DECIMAL",!0),peg$c543=peg$literalExpectation("SIGNED",!0),peg$c546=peg$literalExpectation("UNSIGNED",!0),peg$c549=peg$literalExpectation("INT",!0),peg$c552=peg$literalExpectation("ZEROFILL",!0),peg$c555=peg$literalExpectation("INTEGER",!0),peg$c558=peg$literalExpectation("JSON",!0),peg$c561=peg$literalExpectation("SMALLINT",!0),peg$c564=peg$literalExpectation("TINYINT",!0),peg$c567=peg$literalExpectation("TINYTEXT",!0),peg$c570=peg$literalExpectation("TEXT",!0),peg$c573=peg$literalExpectation("MEDIUMTEXT",!0),peg$c576=peg$literalExpectation("LONGTEXT",!0),peg$c579=peg$literalExpectation("BIGINT",!0),peg$c582=peg$literalExpectation("FLOAT",!0),peg$c585=peg$literalExpectation("DOUBLE",!0),peg$c588=peg$literalExpectation("DATE",!0),peg$c591=peg$literalExpectation("DATETIME",!0),peg$c594=peg$literalExpectation("TIME",!0),peg$c597=peg$literalExpectation("TIMESTAMP",!0),peg$c600=peg$literalExpectation("TRUNCATE",!0),peg$c603=peg$literalExpectation("USER",!0),peg$c606=peg$literalExpectation("CURRENT_DATE",!0),peg$c612=(peg$literalExpectation("ADDDATE",!0),peg$literalExpectation("INTERVAL",!0)),peg$c615=peg$literalExpectation("YEAR",!0),peg$c618=peg$literalExpectation("MONTH",!0),peg$c621=peg$literalExpectation("DAY",!0),peg$c624=peg$literalExpectation("HOUR",!0),peg$c627=peg$literalExpectation("MINUTE",!0),peg$c630=peg$literalExpectation("SECOND",!0),peg$c633=peg$literalExpectation("CURRENT_TIME",!0),peg$c636=peg$literalExpectation("CURRENT_TIMESTAMP",!0),peg$c639=peg$literalExpectation("CURRENT_USER",!0),peg$c642=peg$literalExpectation("SESSION_USER",!0),peg$c645=peg$literalExpectation("SYSTEM_USER",!0),peg$c648=peg$literalExpectation("GLOBAL",!0),peg$c651=peg$literalExpectation("SESSION",!0),peg$c655=peg$literalExpectation("PERSIST",!0),peg$c658=peg$literalExpectation("PERSIST_ONLY",!0),peg$c661=peg$literalExpectation("@",!1),peg$c663=peg$literalExpectation("@@",!1),peg$c665=peg$literalExpectation("$",!1),peg$c667=peg$literalExpectation("return",!0),peg$c669=peg$literalExpectation(":=",!1),peg$c671=peg$literalExpectation("DUAL",!0),peg$c673=peg$literalExpectation("ADD",!0),peg$c676=peg$literalExpectation("COLUMN",!0),peg$c679=peg$literalExpectation("INDEX",!0),peg$c683=peg$literalExpectation("FULLTEXT",!0),peg$c686=peg$literalExpectation("SPATIAL",!0),peg$c691=peg$literalExpectation("COMMENT",!0),peg$c694=peg$literalExpectation("CONSTRAINT",!0),peg$c697=peg$literalExpectation("REFERENCES",!0),peg$c700=peg$literalExpectation("SQL_CALC_FOUND_ROWS",!0),peg$c702=peg$literalExpectation("SQL_CACHE",!0),peg$c704=peg$literalExpectation("SQL_NO_CACHE",!0),peg$c706=peg$literalExpectation("SQL_SMALL_RESULT",!0),peg$c708=peg$literalExpectation("SQL_BIG_RESULT",!0),peg$c710=peg$literalExpectation("SQL_BUFFER_RESULT",!0),peg$c712=peg$literalExpectation(",",!1),peg$c714=peg$literalExpectation("[",!1),peg$c716=peg$literalExpectation("]",!1),peg$c718=peg$literalExpectation(";",!1),peg$c720=peg$literalExpectation("||",!1),peg$c722=peg$literalExpectation("&&",!1),peg$c724=peg$literalExpectation("/*",!1),peg$c726=peg$literalExpectation("*/",!1),peg$c728=peg$literalExpectation("--",!1),peg$c730=peg$literalExpectation("#",!1),peg$c732={type:"any"},peg$c733=/^[ \t\n\r]/,peg$c734=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c748=function(t){return{dataType:t}},peg$currPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s2;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecrud_stmt())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=function(head,tail){const cur=[head&&head.ast||head];for(let i=0;i<tail.length;i++)tail[i][3]&&0!==tail[i][3].length&&cur.push(tail[i][3]&&tail[i][3].ast||tail[i][3]);return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:cur}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s2=peg$parsecmd_stmt())===peg$FAILED&&(s2=peg$parsecrud_stmt()),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecmd_stmt(){var s0;return(s0=function(){var s0,s1,s5,a,t;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,s11,s13,s15,s17,s19,a,tp,ife,t,c,to,ir,as,qe;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecreate_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?(s1=peg$c7(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s2,s3;return s0=peg$currPos,"ignore"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c402)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=peg$parseKW_REPLACE()),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseKW_AS())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parseunion_stmt())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,tp=s3,ife=s7,c=s11,to=s13,ir=s15,as=s17,qe=s19,(t=s9)&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,ignore_replace:ir&&ir[0].toLowerCase(),as:as&&as[0].toLowerCase(),query_expr:qe&&qe.ast,create_definitions:c,table_options:to}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function peg$parsecreate_like_table(){var s0,s3,e;return(s0=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_LIKE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"like",table:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_like_table())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((e=s3).parentheses=!0,s0=e):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(a,tp,ife,t,lt){return t&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,like:lt}}}(s1,s3,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,a,kw,t;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"truncate"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c600)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TRUNCATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,kw=s3,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),keyword:kw,table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,t;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_to_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?((t=s5).forEach(tg=>tg.forEach(dt=>dt.table&&tableList.add(`rename::${dt.db}::${dt.table}`))),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"rename",table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"call"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c516)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_func_call())!==peg$FAILED?(e=s3,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"call",expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,d;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"use"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c378)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(d=s3,tableList.add(`use::${d}::null`),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"use",db:d}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,t,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"alter"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c380)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsealter_action())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(e=s7,(t=s5)&&t.length>0&&t.forEach(table=>tableList.add(`alter::${table.db}::${table.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"alter",table:t,expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,a;return s0=peg$currPos,(s1=peg$parseKW_SET())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"global"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c648)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GLOBAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c651)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"local"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c135)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LOCAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c655)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist_only"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c658)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST_ONLY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseassign_stmt())!==peg$FAILED?(kw=s3,(a=s5).keyword=kw,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"set",expr:a}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,ltl;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parselock_table())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(ltl=s5,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"lock",keyword:"tables",tables:ltl}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unlock"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c419)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"unlock",keyword:"tables"}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecrud_stmt(){var s0;return(s0=peg$parseunion_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,t,l,w;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"update"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c384)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseset_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsewhere_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED?(l=s7,w=s9,(t=s3)&&t.forEach(tableInfo=>{const{db:db,as:as,table:table}=tableInfo;tableList.add(`update::${db}::${table}`)}),l&&l.forEach(col=>columnList.add(`update::${col.table}::${col.column}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"update",table:t,set:l,where:w}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s8,s12,s16;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseKW_INTO())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_TABLE())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsetable_name())!==peg$FAILED?((s8=peg$parseinsert_partition())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s12=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s16=peg$parseinsert_value_clause())!==peg$FAILED?(s1=function(ri,kw,ta,t,p,c,v){if(t&&(tableList.add(`insert::${t.db}::${t.table}`),t.as=null),c){let table=t&&t.table||null;c.forEach(c=>columnList.add(`insert::${table}::${c}`))}const tableKey=ta?" "+ta.toLowerCase():"";return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,prefix:`${kw.toLowerCase()}${tableKey}`,table:[t],columns:c,values:v,partition:p}}}(s1,s3,s5,s7,s8,s12,s16),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INTO())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"overwrite"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c412)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OVERWRITE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_TABLE())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseinsert_partition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseinsert_value_clause())!==peg$FAILED?(s1=function(ri,kw,ta,t,p,v){t&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null);const tableKey=ta?" "+ta.toLowerCase():"";return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,prefix:`${kw.toLowerCase()}${tableKey}`,table:[t],columns:null,values:v,partition:p}}}(s1,s3,s5,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"delete"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c392)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsetable_ref_list())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsefrom_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsewhere_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?(s1=function(t,f,w){if(f&&f.forEach(info=>{info.table&&tableList.add(`delete::${info.db}::${info.table}`),columnList.add(`delete::${info.table}::(.*)`)}),null===t&&1===f.length){const tableInfo=f[0];t=[{db:tableInfo.db,table:tableInfo.table,as:tableInfo.as,addition:!0}]}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"delete",table:t,from:f,where:w}}}(s3,s5,s7),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecmd_stmt())===peg$FAILED&&(s0=function(){var s0,s1;for(s0=[],s1=peg$parseproc_stmt();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseproc_stmt();return s0}()),s0}function peg$parseunion_stmt(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseselect_stmt())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){let cur=head;for(let i=0;i<tail.length;i++)cur._next=tail[i][5],cur.union=tail[i][3]?"union all":"union",cur=cur._next;return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:head}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecreate_definition(){var s0;return(s0=peg$parsecreate_column_definition())===peg$FAILED&&(s0=peg$parsecreate_index_definition())===peg$FAILED&&(s0=peg$parsecreate_fulltext_spatial_index_definition())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,s9,kc,p,t,de,id;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("primary key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c65)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s3,t=s5,de=s7,id=s9,s1={constraint:(kc=s1)&&kc.constraint,definition:de,constraint_type:p.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,resource:"constraint",index_options:id},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_INDEX())===peg$FAILED&&(s5=peg$parseKW_KEY()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsecolumn())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_type())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseindex_options())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,u,p,i,t,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p&&`${u.toLowerCase()} ${p.toLowerCase()}`||u.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,index:i,resource:"constraint",index_options:id}}(s1,s3,s5,s7,s9,s11,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("foreign key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c69)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsereference_definition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,p,i,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p,keyword:kc&&kc.keyword,index:i,resource:"constraint",reference_definition:id}}(s1,s3,s5,s7,s9),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}()),s0}function peg$parsecreate_column_definition(){var s0,s1,s3,s5,s7,s9,s11,s12,s13,s14,s15,s17,s19,s21,c,d,n,df,a,u,co,ca,cf,s,re;return s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"not null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c365)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"not null",value:"not null"}),s1}())===peg$FAILED&&(s5=peg$parseliteral_null()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_DEFAULT()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral())===peg$FAILED&&(s3=peg$parseexpr()),s3!==peg$FAILED?s0={type:"default",value:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?("auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s9=input.substr(peg$currPos,14),peg$currPos+=14):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s11=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s12=input.substr(peg$currPos,6),peg$currPos+=6):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s12===peg$FAILED&&("primary"===input.substr(peg$currPos,7).toLowerCase()?(s12=input.substr(peg$currPos,7),peg$currPos+=7):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13))),s12===peg$FAILED&&(s12=null),s12!==peg$FAILED&&(s13=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s14=input.substr(peg$currPos,3),peg$currPos+=3):(s14=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s14!==peg$FAILED?s11=s12=[s12,s13,s14]:(peg$currPos=s11,s11=peg$FAILED)):(peg$currPos=s11,s11=peg$FAILED),s11===peg$FAILED&&(s11=null),s11!==peg$FAILED&&(s12=peg$parse__())!==peg$FAILED?((s13=peg$parsekeyword_comment())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED?((s15=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"collate"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c111)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLLATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"collate",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=function(){var s0,s1,s3;return s0=peg$currPos,"column_format"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("fixed"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s3===peg$FAILED&&("dynamic"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3===peg$FAILED&&("default"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"column_format",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=function(){var s0,s1,s3;return s0=peg$currPos,"storage"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("disk"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s3===peg$FAILED&&("memory"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"storage",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s21=peg$parsereference_definition())===peg$FAILED&&(s21=null),s21!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s1,d=s3,n=s5,df=s7,a=s9,u=s11,co=s13,ca=s15,cf=s17,s=s19,re=s21,columnList.add(`create::${c.table}::${c.column}`),n&&!n.value&&(n.value="null"),s0=s1={column:c,definition:d,nullable:n,default_val:df,auto_increment:a&&a.toLowerCase(),unique_or_primary:u&&`${u[0].toLowerCase()} ${u[2].toLowerCase()}`,comment:co,collate:ca,column_format:cf,storage:s,reference_definition:re,resource:"column"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsealter_action(){var s0;return(s0=function(){var s0,s1,s3,s5,kc,cd;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecreate_column_definition())!==peg$FAILED?(kc=s3,cd=s5,s1={action:"add",...cd,keyword:kc,resource:"column",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5;return s0=peg$currPos,peg$parseKW_DROP()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={action:"drop",column:s5,keyword:s3,resource:"column",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,id;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_index_definition())!==peg$FAILED?(id=s3,s1={action:"add",type:"alter",...id},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,fsid;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_fulltext_spatial_index_definition())!==peg$FAILED?(fsid=s3,s1={action:"add",type:"alter",...fsid},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,tn;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TO())===peg$FAILED&&(s3=peg$parseKW_AS()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(tn=s5,s1={action:"rename",type:"alter",resource:"table",keyword:(kw=s3)&&kw[0].toLowerCase(),table:tn},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"algorithm"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("instant"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c46)),s5===peg$FAILED&&("inplace"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c48)),s5===peg$FAILED&&("copy"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"algorithm",resource:"algorithm",algorithm:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s5===peg$FAILED&&("shared"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s5===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"lock",resource:"lock",lock:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecreate_index_definition(){var s0,s1,s3,s5,s7,s9,t,id;return s0=peg$currPos,(s1=peg$parseKW_INDEX())===peg$FAILED&&(s1=peg$parseKW_KEY()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecolumn())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(t=s5,id=s9,s0=s1={index:s3,definition:s7,keyword:s1.toLowerCase(),index_type:t,resource:"index",index_options:id}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_fulltext_spatial_index_definition(){var s0,s1,s3,s5,s7,s9,p,kc,id;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"fulltext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c683)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FULLTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"spatial"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c686)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SPATIAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INDEX())===peg$FAILED&&(s3=peg$parseKW_KEY()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s1,id=s9,s0=s1={index:s5,definition:s7,keyword:(kc=s3)&&`${p.toLowerCase()} ${kc.toLowerCase()}`||p.toLowerCase(),index_options:id,resource:"index"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseconstraint_name(){var s0,s1,s3,c;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"constraint"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c694)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CONSTRAINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseident())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s0=s1={keyword:s1.toLowerCase(),constraint:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereference_definition(){var s0,s1,s3,s5,s7,s9,s11,m,od,ou;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"references"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c697)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="REFERENCES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("match full"===input.substr(peg$currPos,10).toLowerCase()?(s7=input.substr(peg$currPos,10),peg$currPos+=10):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s7===peg$FAILED&&("match partial"===input.substr(peg$currPos,13).toLowerCase()?(s7=input.substr(peg$currPos,13),peg$currPos+=13):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c74)),s7===peg$FAILED&&("match simple"===input.substr(peg$currPos,12).toLowerCase()?(s7=input.substr(peg$currPos,12),peg$currPos+=12):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c76)))),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseon_reference())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_reference())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(m=s7,od=s9,ou=s11,s0=s1={definition:s5,table:s3,keyword:s1.toLowerCase(),match:m&&m.toLowerCase(),on_delete:od,on_update:ou}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseon_reference(){var s0,s1,s3,ro;return s0=peg$currPos,"on delete"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c79)),s1===peg$FAILED&&("on update"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,"restrict"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c84)),s1===peg$FAILED&&("cascade"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c86)),s1===peg$FAILED&&("set null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c88)),s1===peg$FAILED&&("no action"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c90)),s1===peg$FAILED&&("set default"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c92)))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=s1.toLowerCase(),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ro=s3,s0=s1={type:s1.toLowerCase(),value:ro}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_option(){var s0,s1,s3,s5,s6,s7,s8,s,v;return s0=peg$currPos,"auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s1===peg$FAILED&&("avg_row_length"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c96)),s1===peg$FAILED&&("key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c98)),s1===peg$FAILED&&("max_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c100)),s1===peg$FAILED&&("min_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c102)),s1===peg$FAILED&&("stats_sample_pages"===input.substr(peg$currPos,18).toLowerCase()?(s1=input.substr(peg$currPos,18),peg$currPos+=18):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c104))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED?(s=s3,v=s5,s0=s1={keyword:s1.toLowerCase(),symbol:s,value:v.value}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DEFAULT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("character set"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c107)),s3===peg$FAILED&&("charset"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c109)),s3===peg$FAILED&&("collate"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c111)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,t,s,v){return{keyword:kw&&`${kw[0].toLowerCase()} ${t.toLowerCase()}`||t.toLowerCase(),symbol:s,value:v}}(s1,s3,s5,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COMMENT())===peg$FAILED&&("connection"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c114))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:`'${c.value}'`}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"compression"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c117)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s6!==peg$FAILED?("zlib"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c121)),s7===peg$FAILED&&("lz4"===input.substr(peg$currPos,3).toLowerCase()?(s7=input.substr(peg$currPos,3),peg$currPos+=3):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c123)),s7===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)))),s7!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s8="'",peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5!==peg$FAILED?s0=s1=function(kw,s,v){return{keyword:kw.toLowerCase(),symbol:s,value:v.join("").toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"engine"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:c.toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}function peg$parselock_table(){var s0,s1,s3,t,lt;return s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s3;return s0=peg$currPos,"read"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c133)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("local"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c135)),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={type:"read",suffix:s3&&"local"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"low_priority"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("write"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c140)),s3!==peg$FAILED?s0=s1={type:"write",prefix:s1&&"low_priority"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED?(t=s1,lt=s3,tableList.add(`lock::${t.db}::${t.table}`),s0=s1={table:t,lock_type:lt}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseselect_stmt(){var s0,s1,s2,s3,s4,s5,s6;return(s0=peg$parseselect_stmt_nake())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,40===input.charCodeAt(peg$currPos)?(s2="(",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c147)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseselect_stmt())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s6=")",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c149)),s6!==peg$FAILED?s1=s2=[s2,s3,s4,s5,s6]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=s1[2]),s0=s1),s0}function peg$parsewith_clause(){var s0,s3,s4,s5,s6,s7,s8,s9,cte;if(s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecte_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&peg$parseKW_WITH()!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=function(){var s0,s1,s2,s3;return s0=peg$currPos,"RECURSIVE"===input.substr(peg$currPos,9)?(s1="RECURSIVE",peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c396)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecte_definition())!==peg$FAILED?((cte=s6).recursive=!0,s0=[cte]):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecte_definition(){var s0,s1,s3,s9;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecte_column_definition())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={name:s1,stmt:s9,columns:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecte_column_definition(){var s0,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecolumn())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseselect_stmt_nake(){var s0,s2,s6,s8,s10,s12,s14,s16,s18,s20,s22,cte,opts,d,c,f,w,g,h,o,l;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=peg$parsewith_clause())===peg$FAILED&&(s2=null),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"select"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c382)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s6=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parsequery_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=function(head,tail){const opts=[head];for(let i=0,l=tail.length;i<l;++i)opts.push(tail[i][1]);return opts}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s6=null),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=peg$parseKW_DISTINCT())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s10=function(){var s0,s1,s2,s3,s4,s5,s6,s7,head,tail;if(s0=peg$currPos,(s1=peg$parseKW_ALL())===peg$FAILED&&(s1=peg$currPos,(s2=peg$parseSTAR())!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseident_start(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$parseSTAR())),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(head=s1,tail=s2,columnList.add("select::null::(.*)"),s1=tail&&tail.length>0?(head[0]={expr:{type:"column_ref",table:null,column:"*"},as:null},createList(head[0],tail)):head[0],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,(s1=peg$parsecolumn_list_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s12=peg$parsefrom_clause())===peg$FAILED&&(s12=null),s12!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=peg$parsewhere_clause())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"group"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c452)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED?(s1=s5.value,s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"having"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c458)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=function(){var s0,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"order"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c456)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseorder_by_element())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s5:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s22=function(){var s0,s1,s3,s5,s6,s7,s8;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"limit"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c460)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsenumber_or_param())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,(s6=peg$parseCOMMA())===peg$FAILED&&(s6=function(){var s0,s1,s2,s3;return s0=peg$currPos,"offset"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c462)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OFFSET":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsenumber_or_param())!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(i1,tail){const res=[i1];return tail&&res.push(tail[2]),{seperator:tail&&tail[0]&&tail[0].toLowerCase()||"",value:res}}(s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s22=null),s22!==peg$FAILED?(cte=s2,opts=s6,d=s8,c=s10,w=s14,g=s16,h=s18,o=s20,l=s22,(f=s12)&&f.forEach(info=>info.table&&tableList.add(`select::${info.db}::${info.table}`)),s0={with:cte,type:"select",options:opts,distinct:d,columns:c,from:f,where:w,groupby:g,having:h,orderby:o,limit:l}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequery_option(){var s1;return peg$currPos,(s1=function(){var s0;return"sql_calc_found_rows"===input.substr(peg$currPos,19).toLowerCase()?(s0=input.substr(peg$currPos,19),peg$currPos+=19):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c700)),s0}())===peg$FAILED&&((s1=function(){var s0;return"sql_cache"===input.substr(peg$currPos,9).toLowerCase()?(s0=input.substr(peg$currPos,9),peg$currPos+=9):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c702)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_no_cache"===input.substr(peg$currPos,12).toLowerCase()?(s0=input.substr(peg$currPos,12),peg$currPos+=12):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c704)),s0}()),s1===peg$FAILED&&(s1=function(){var s0;return"sql_big_result"===input.substr(peg$currPos,14).toLowerCase()?(s0=input.substr(peg$currPos,14),peg$currPos+=14):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c708)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_small_result"===input.substr(peg$currPos,16).toLowerCase()?(s0=input.substr(peg$currPos,16),peg$currPos+=16):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c706)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_buffer_result"===input.substr(peg$currPos,17).toLowerCase()?(s0=input.substr(peg$currPos,17),peg$currPos+=17):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c710)),s0}())),s1!==peg$FAILED&&(s1=s1),s1}function peg$parsecolumn_list_item(){var s0,s1,s3,tbl;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseSTAR()!==peg$FAILED?(tbl=s1,columnList.add(`select::${tbl}::(.*)`),s0=s1={expr:{type:"column_ref",table:tbl,column:"*"},as:null}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={expr:s1,as:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsealias_clause(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_AS())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(function(name){if(!0===reservedMap[name.toUpperCase()])throw new Error("Error: "+JSON.stringify(name)+" is a reserved word, can not as alias clause");return!1}(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_AS())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsefrom_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"from"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c415)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_to_item(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED?s0=s1=[s1,s5]:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_type(){var s0,s3;return s0=peg$currPos,peg$parseKW_USING()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("btree"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c163)),s3===peg$FAILED&&("hash"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c165))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={keyword:"using",type:s3.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_options(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseindex_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][1]);return result}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseindex_option(){var s0,s1,s3,s5,e,kbs;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c98)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY_BLOCK_SIZE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(e=s3,kbs=s5,s0=s1={type:s1.toLowerCase(),symbol:e,expr:kbs}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseindex_type())===peg$FAILED&&(s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c170)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("parser"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c172)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"with parser",expr:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"visible"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c175)),s1===peg$FAILED&&("invisible"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c177))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(k){return{type:k.toLowerCase(),expr:k.toLowerCase()}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsekeyword_comment()))),s0}function peg$parsetable_ref_list(){var s0,s1,s2,s3,head,tail;if(s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED){for(s2=[],s3=peg$parsetable_ref();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsetable_ref();s2!==peg$FAILED?(head=s1,(tail=s2).unshift(head),tail.forEach(tableInfo=>{const{table:table,as:as}=tableInfo;tableAlias[table]=table,as&&(tableAlias[as]=table)}),s0=s1=tail):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsetable_ref(){var s0,s2,s4;return s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=peg$parseCOMMA())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s4=peg$parsetable_base())!==peg$FAILED?s0=s4:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=function(){var s0,s1,s3,s5,s9,s10,s11,s12,s13,s14,s15,op,t,head,tail;if(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsetable_base())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseKW_USING())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s9=peg$parseident_name())!==peg$FAILED){for(s10=[],s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s11!==peg$FAILED;)s10.push(s11),s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?(op=s1,head=s9,tail=s10,(t=s3).join=op,t.using=createList(head,tail),s0=s1=t):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseon_clause())===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(op,t,expr){return t.join=op,t.on=expr,t}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsealias_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parseon_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(s1=function(op,stmt,alias,expr){return stmt.parentheses=!0,{expr:stmt,as:alias,join:op,on:expr}}(s1,s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_base(){var s0,s1,s3,s7,t,alias;return s0=peg$currPos,(s1=function(){var s0;return"dual"===input.substr(peg$currPos,4).toLowerCase()?(s0=input.substr(peg$currPos,4),peg$currPos+=4):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c671)),s0}())!==peg$FAILED&&(s1={type:"dual"}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(alias=s3,s0=s1="var"===(t=s1).type?(t.as=alias,t):{db:t.db,table:t.table,as:alias}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsealias_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?s0=s1=function(stmt,alias){return stmt.parentheses=!0,{expr:stmt,as:alias}}(s3,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsejoin_op(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"left"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c432)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="LEFT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"right"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c434)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="RIGHT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"full"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c436)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="FULL JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=function(){var s0,s1,s2,s3;return s0=peg$currPos,"inner"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c438)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parseKW_JOIN())!==peg$FAILED?s0=s1="INNER JOIN":(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parsetable_name(){var s0,s1,s2,s3,s4,s5,s6,v;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=dt,obj.table=tail[3]),obj}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&((v=s1).db=null,v.table=v.name,s1=v),s0=s1),s0}function peg$parseon_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"on"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c430)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewhere_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"where"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c450)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_element(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"desc"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c468)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DESC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"asc"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c465)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ASC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(e,d){const obj={expr:e,type:"ASC"};return"DESC"===d&&(obj.type="DESC"),obj}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenumber_or_param(){var s0;return(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=peg$parseparam()),s0}function peg$parseset_item(){var s0,s1,s2,s3,s4,s5,s7,tbl;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsecolumn())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s5="=",peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={column:s3,value:s7,table:(tbl=s1)&&tbl[0]}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseinsert_value_clause(){var s0;return(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"values"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c446)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsevalue_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseselect_stmt_nake()),s0}function peg$parseinsert_partition(){var s0,s3,s5,s6,s7,s8,s9,s10,s11;if(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseident_name())!==peg$FAILED){for(s6=[],s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s7!==peg$FAILED;)s6.push(s7),s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseRPAREN())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?s0=createList(s5,s6):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsevalue_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsereplace_insert(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"insert"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c394)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1="insert"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_REPLACE())!==peg$FAILED&&(s1="replace"),s0=s1),s0}function peg$parsevalue_item(){var s0,s3;return s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const el={type:"expr_list"};return el.value=createList(head,tail),el}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseinterval_expr(){var s0,s3,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"interval"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c612)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTERVAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"year"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c615)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="YEAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"month"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c618)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONTH":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"day"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c621)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DAY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"hour"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c624)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="HOUR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"minute"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c627)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MINUTE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"second"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c630)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SECOND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED?s0={type:"interval",expr:s3,unit:s5.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecase_expr(){var s0,s3,s5,s6,s7,s11,expr,condition_list,otherwise;if(s0=peg$currPos,peg$parseKW_CASE()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseexpr())===peg$FAILED&&(s3=null),s3!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],(s6=peg$parsecase_when_then())!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parsecase_when_then();else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"else"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c525)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0={type:"else",result:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"end"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c527)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_CASE())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(expr=s3,condition_list=s5,(otherwise=s7)&&condition_list.push(otherwise),s0={type:"case",expr:expr||null,args:condition_list}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecase_when_then(){var s0,s3,s7;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"when"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c521)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"then"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c523)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s3,result:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createBinaryExprChain(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseadditive_operator())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createUnaryExpr(s1,s2[0][1]),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseand_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c216(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=peg$parseselect_stmt()),s0}function peg$parseand_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsenot_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c216(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsenot_expr(){var s0,s1,s2,s3,s4;return(s0=peg$parsecomparison_expr())===peg$FAILED&&(s0=function(){var s0,s1,s5,op,stmt;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_EXISTS())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c222(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_EXISTS()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(op=s1,(stmt=s5).parentheses=!0,s1=createUnaryExpr(op,stmt),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NOT())===peg$FAILED&&(s1=peg$currPos,33===input.charCodeAt(peg$currPos)?(s2="!",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c218)),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,61===input.charCodeAt(peg$currPos)?(s4="=",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsenot_expr())!==peg$FAILED?s0=s1=createUnaryExpr("NOT",s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecomparison_expr(){var s0,s1,s3,left,rh;return s0=peg$currPos,(s1=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return(s0=function(){var s1,s2,s3,s4,s5,s6;if(peg$currPos,s1=[],s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED);else s1=peg$FAILED;return s1!==peg$FAILED&&(s1={type:"arithmetic",tail:s1}),s1}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={op:s1,right:s5}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsevar_decl())===peg$FAILED&&(s3=peg$parseliteral_string()),s3!==peg$FAILED?(s1=function(op,e){return{op:op,right:e}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_BETWEEN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c222(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_BETWEEN()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AND()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:s1,right:{type:"expr_list",value:[s3,s7]}}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:"IS",right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_IS())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_NOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?(s1=function(right){return{op:"IS NOT",right:right}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_LIKE())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c222(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_LIKE()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecomparison_expr())!==peg$FAILED?s0=s1={op:s1,right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(left=s1,s0=s1=null===(rh=s3)?left:"arithmetic"===rh.type?createBinaryExprChain(left,rh.tail):createBinaryExpr(rh.op,left,rh.right)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsearithmetic_comparison_operator(){var s0;return">="===input.substr(peg$currPos,2)?(s0=">=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c225)),s0===peg$FAILED&&(62===input.charCodeAt(peg$currPos)?(s0=">",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c227)),s0===peg$FAILED&&("<="===input.substr(peg$currPos,2)?(s0="<=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c229)),s0===peg$FAILED&&("<>"===input.substr(peg$currPos,2)?(s0="<>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c231)),s0===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s0="<",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c233)),s0===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s0===peg$FAILED&&("!="===input.substr(peg$currPos,2)?(s0="!=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c235)))))))),s0}function peg$parsein_op(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_IN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c222(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_IN()),s0}function peg$parseadditive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsemultiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c216(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseadditive_operator(){var s0;return 43===input.charCodeAt(peg$currPos)?(s0="+",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c243)),s0===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s0="-",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c245))),s0}function peg$parsemultiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=createBinaryExprChain(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemultiplicative_operator(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248)),s0===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s0="/",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c250)),s0===peg$FAILED&&(37===input.charCodeAt(peg$currPos)?(s0="%",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c252)))),s0}function peg$parseprimary(){var s0,s3,list;return(s0=function(){var s0,s1,s5,s9,s11,s13,s17;return s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseRPAREN())!==peg$FAILED?s0=s1={type:"cast",expr:s5,symbol:"as",target:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,precision){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+")"}}}(s5,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseCOMMA()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(e,precision,scale){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+", "+scale+")"}}}(s5,s13,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"signed"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c543)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_UNSIGNED()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_INTEGER())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,s,t){return{type:"cast",expr:e,symbol:"as",target:{dataType:s+(t?" "+t:"")}}}(s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)))),s0}())===peg$FAILED&&(s0=peg$parseliteral())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"count"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c501)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COUNT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s1;return peg$currPos,42===input.charCodeAt(peg$currPos)?(s1="*",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248)),s1!==peg$FAILED&&(s1={type:"star",value:"*"}),s1}())!==peg$FAILED&&(s1={expr:s1}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DISTINCT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref())!==peg$FAILED?s0=s1={distinct:s1,expr:s3}:(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:s5}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"sum"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c510)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SUM":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"max"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c504)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MAX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"min"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c507)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"avg"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c513)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AVG":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:{expr:s5}}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:s5||{type:"expr_list",value:[]}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_date"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c606)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_time"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c633)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_CURRENT_TIMESTAMP())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c639)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"user"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c603)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c642)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"system_user"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c645)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SYSTEM_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseRPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(name){return{type:"function",name:name,args:{type:"expr_list",value:[]}}}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=peg$parsecase_expr())===peg$FAILED&&(s0=peg$parseinterval_expr())===peg$FAILED&&(s0=peg$parsecolumn_ref())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c253(s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((list=s3).parentheses=!0,s0=list):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsevar_decl()))),s0}function peg$parsecolumn_ref(){var s0,s1,s5,tbl,col;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseDOT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn())!==peg$FAILED?(tbl=s1,col=s5,columnList.add(`select::${tbl}::${col}`),s0=s1={type:"column_ref",table:tbl,column:col}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&(s1=function(col){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col}}(s1)),s0=s1),s0}function peg$parseident(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(peg$c257(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}function peg$parsequoted_ident(){var s0;return(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1='"',peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c261)),s1!==peg$FAILED){if(s2=[],peg$c262.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c263)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c262.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c263));else s2=peg$FAILED;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3='"',peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c261)),s3!==peg$FAILED?(s1=peg$c264(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1="'",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s1!==peg$FAILED){if(s2=[],peg$c265.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c266)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c265.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c266));else s2=peg$FAILED;s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3="'",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s3!==peg$FAILED?(s1=peg$c264(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,96===input.charCodeAt(peg$currPos)?(s1="`",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c268)),s1!==peg$FAILED){if(s2=[],peg$c269.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c270)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c269.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c270));else s2=peg$FAILED;s2!==peg$FAILED?(96===input.charCodeAt(peg$currPos)?(s3="`",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c268)),s3!==peg$FAILED?(s1=peg$c264(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsecolumn(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parsecolumn_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsecolumn_part();s2!==peg$FAILED?(s1=peg$c272(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&(peg$c257(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}function peg$parseident_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parseident_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseident_part();s2!==peg$FAILED?s0=s1=peg$c272(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_start(){var s0;return peg$c273.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c274)),s0}function peg$parseident_part(){var s0;return peg$c275.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c276)),s0}function peg$parsecolumn_part(){var s0;return peg$c277.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c278)),s0}function peg$parseparam(){var s1,s2,s3;return peg$currPos,s1=peg$currPos,58===input.charCodeAt(peg$currPos)?(s2=":",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c280)),s2!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1={type:"param",value:s1[1]}),s1}function peg$parseliteral(){var s0;return(s0=peg$parseliteral_string())===peg$FAILED&&(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"true"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c367)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!0}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"false"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c371)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!1}),s0=s1),s0}())===peg$FAILED&&(s0=peg$parseliteral_null())===peg$FAILED&&(s0=function(){var s0,s1,s3,s4,s5,s6,s8,ca;if(s0=peg$currPos,(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP())===peg$FAILED&&(s1=peg$parseKW_DATETIME()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s3=peg$currPos,39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s4!==peg$FAILED){for(s5=[],s6=peg$parsesingle_char();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsesingle_char();s5!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s6!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}else peg$currPos=s3,s3=peg$FAILED;s3!==peg$FAILED?(ca=s3,s1={type:s1.toLowerCase(),value:ca[1].join("")},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CURRENT_TIMESTAMP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseLPAREN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseRPAREN())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=(s6=function(type,lf,rt){if(lf&&rt)return!0}(0,s3,s5))?peg$FAILED:void 0)!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on update current_timestamp"===input.substr(peg$currPos,27).toLowerCase()?(s8=input.substr(peg$currPos,27),peg$currPos+=27):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c301)),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s1=function(type,lf,rt,up){return{type:"origin",value:(up?`${type} ${up}`:type).toLowerCase()}}(s1,0,0,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}()),s0}function peg$parseliteral_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"null"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c363)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"null",value:null}),s1}function peg$parseliteral_string(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=peg$currPos,39===input.charCodeAt(peg$currPos)?(s2="'",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_char();s3!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;if(s1!==peg$FAILED&&(s1=peg$c297(s1)),(s0=s1)===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,34===input.charCodeAt(peg$currPos)?(s2='"',peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c261)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_quote_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_quote_char();s3!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s4='"',peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c261)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(s1=peg$c297(s1)),s0=s1}return s0}function peg$parsesingle_quote_char(){var s0;return peg$c303.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c304)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parsesingle_char(){var s0;return peg$c305.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c306)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parseescape_char(){var s0,s1,s2,s3,s4,s5,h1,h2,h3,h4;return s0=peg$currPos,"\\'"===input.substr(peg$currPos,2)?(s1="\\'",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c308)),s1!==peg$FAILED&&(s1="'"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,'\\"'===input.substr(peg$currPos,2)?(s1='\\"',peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c311)),s1!==peg$FAILED&&(s1='"'),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\\\"===input.substr(peg$currPos,2)?(s1="\\\\",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c314)),s1!==peg$FAILED&&(s1="\\"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\/"===input.substr(peg$currPos,2)?(s1="\\/",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c317)),s1!==peg$FAILED&&(s1="/"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\b"===input.substr(peg$currPos,2)?(s1="\\b",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c320)),s1!==peg$FAILED&&(s1="\b"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\f"===input.substr(peg$currPos,2)?(s1="\\f",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c323)),s1!==peg$FAILED&&(s1="\f"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\n"===input.substr(peg$currPos,2)?(s1="\\n",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c326)),s1!==peg$FAILED&&(s1="\n"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\r"===input.substr(peg$currPos,2)?(s1="\\r",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c329)),s1!==peg$FAILED&&(s1="\r"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\t"===input.substr(peg$currPos,2)?(s1="\\t",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c332)),s1!==peg$FAILED&&(s1="\t"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\u"===input.substr(peg$currPos,2)?(s1="\\u",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s1!==peg$FAILED&&(s2=peg$parsehexDigit())!==peg$FAILED&&(s3=peg$parsehexDigit())!==peg$FAILED&&(s4=peg$parsehexDigit())!==peg$FAILED&&(s5=peg$parsehexDigit())!==peg$FAILED?(h1=s2,h2=s3,h3=s4,h4=s5,s0=s1=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1="\\",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c338)),s1!==peg$FAILED&&(s1="\\"),s0=s1)))))))))),s0}function peg$parseliteral_numeric(){var s1,n;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parseexp())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"bigint",value:s1+s2+s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,frac){const numStr=int_+frac;return isBigInt(int_)?{type:"bigint",value:numStr}:parseFloat(numStr)}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parseexp())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,exp){return{type:"bigint",value:int_+exp}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?(s1=function(int_){return isBigInt(int_)?{type:"bigint",value:int_}:parseFloat(int_)}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)))),s0}())!==peg$FAILED&&(s1=(n=s1)&&"bigint"===n.type?n:{type:"number",value:n}),s1}function peg$parseint(){var s0,s1,s2;return(s0=peg$parsedigits())===peg$FAILED&&(s0=peg$parsedigit())===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c245)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c243))),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c245)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c243))),s1!==peg$FAILED&&(s2=peg$parsedigit())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefrac(){var s0,s1,s2;return s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=".",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c349)),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="."+s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexp(){var s0,s1,s2;return s0=peg$currPos,(s1=function(){var s0,s1,s2,sign;return s0=peg$currPos,peg$c357.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c358)),s1!==peg$FAILED?(peg$c359.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c360)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1+=null!==(sign=s2)?sign:"":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1+=s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedigits(){var s1,s2;if(peg$currPos,s1=[],(s2=peg$parsedigit())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedigit();else s1=peg$FAILED;return s1!==peg$FAILED&&(s1=s1.join("")),s1}function peg$parsedigit(){var s0;return peg$c353.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s0}function peg$parsehexDigit(){var s0;return peg$c355.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c356)),s0}function peg$parseKW_DEFAULT(){var s0,s1,s2,s3;return s0=peg$currPos,"default"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TO(){var s0,s1,s2,s3;return s0=peg$currPos,"to"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c369)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DROP(){var s0,s1,s2,s3;return s0=peg$currPos,"drop"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c375)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DROP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CREATE(){var s0,s1,s2,s3;return s0=peg$currPos,"create"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c386)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TEMPORARY(){var s0,s1,s2,s3;return s0=peg$currPos,"temporary"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c388)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IF_NOT_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"if not exists"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c390)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_REPLACE(){var s0,s1,s2,s3;return s0=peg$currPos,"replace"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c398)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_RENAME(){var s0,s1,s2,s3;return s0=peg$currPos,"rename"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c400)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_PARTITION(){var s0,s1,s2,s3;return s0=peg$currPos,"partition"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c406)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PARTITION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTO(){var s0,s1,s2,s3;return s0=peg$currPos,"into"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c409)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTO":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SET(){var s0,s1,s2,s3;return s0=peg$currPos,"set"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c417)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AS(){var s0,s1,s2,s3;return s0=peg$currPos,"as"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c421)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLE(){var s0,s1,s2,s3;return s0=peg$currPos,"table"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c423)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLES(){var s0,s1,s2,s3;return s0=peg$currPos,"tables"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c426)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_JOIN(){var s0,s1,s2,s3;return s0=peg$currPos,"join"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c440)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OUTER(){var s0,s1,s2,s3;return s0=peg$currPos,"outer"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c442)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNION(){var s0,s1,s2,s3;return s0=peg$currPos,"union"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c444)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_USING(){var s0,s1,s2,s3;return s0=peg$currPos,"using"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c448)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WITH(){var s0,s1,s2,s3;return s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c170)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BY(){var s0,s1,s2,s3;return s0=peg$currPos,"by"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c454)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ALL(){var s0,s1,s2,s3;return s0=peg$currPos,"all"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c471)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DISTINCT(){var s0,s1,s2,s3;return s0=peg$currPos,"distinct"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c474)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DISTINCT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BETWEEN(){var s0,s1,s2,s3;return s0=peg$currPos,"between"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c477)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BETWEEN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IN(){var s0,s1,s2,s3;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c480)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IS(){var s0,s1,s2,s3;return s0=peg$currPos,"is"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c483)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_LIKE(){var s0,s1,s2,s3;return s0=peg$currPos,"like"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c486)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LIKE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"exists"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c489)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="EXISTS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NOT(){var s0,s1,s2,s3;return s0=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c492)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NOT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AND(){var s0,s1,s2,s3;return s0=peg$currPos,"and"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c495)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OR(){var s0,s1,s2,s3;return s0=peg$currPos,"or"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c498)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CASE(){var s0,s1,s2,s3;return s0=peg$currPos,"case"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c519)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CAST(){var s0,s1,s2,s3;return s0=peg$currPos,"cast"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c529)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"char"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c531)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"varchar"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c534)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="VARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NUMERIC(){var s0,s1,s2,s3;return s0=peg$currPos,"numeric"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c537)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NUMERIC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DECIMAL(){var s0,s1,s2,s3;return s0=peg$currPos,"decimal"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c540)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DECIMAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNSIGNED(){var s0,s1,s2,s3;return s0=peg$currPos,"unsigned"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c546)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNSIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INT(){var s0,s1,s2,s3;return s0=peg$currPos,"int"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c549)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTEGER(){var s0,s1,s2,s3;return s0=peg$currPos,"integer"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c555)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTEGER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SMALLINT(){var s0,s1,s2,s3;return s0=peg$currPos,"smallint"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c561)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TINYINT(){var s0,s1,s2,s3;return s0=peg$currPos,"tinyint"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c564)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BIGINT(){var s0,s1,s2,s3;return s0=peg$currPos,"bigint"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c579)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIGINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FLOAT(){var s0,s1,s2,s3;return s0=peg$currPos,"float"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c582)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FLOAT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DOUBLE(){var s0,s1,s2,s3;return s0=peg$currPos,"double"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c585)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DOUBLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATE(){var s0,s1,s2,s3;return s0=peg$currPos,"date"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c588)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATETIME(){var s0,s1,s2,s3;return s0=peg$currPos,"datetime"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c591)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATETIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIME(){var s0,s1,s2,s3;return s0=peg$currPos,"time"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c594)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"timestamp"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c597)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CURRENT_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"current_timestamp"===input.substr(peg$currPos,17).toLowerCase()?(s1=input.substr(peg$currPos,17),peg$currPos+=17):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c636)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VAR_PRE(){var s0;return(s0=function(){var s0;return"@@"===input.substr(peg$currPos,2)?(s0="@@",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c663)),s0}())===peg$FAILED&&(s0=function(){var s0;return 64===input.charCodeAt(peg$currPos)?(s0="@",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c661)),s0}())===peg$FAILED&&(s0=function(){var s0;return 36===input.charCodeAt(peg$currPos)?(s0="$",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c665)),s0}()),s0}function peg$parseKW_ASSIGIN_EQUAL(){var s0;return 61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s0}function peg$parseKW_ADD(){var s0,s1,s2,s3;return s0=peg$currPos,"add"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c673)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ADD":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COLUMN(){var s0,s1,s2,s3;return s0=peg$currPos,"column"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c676)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLUMN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INDEX(){var s0,s1,s2,s3;return s0=peg$currPos,"index"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c679)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INDEX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_KEY(){var s0,s1,s2,s3;return s0=peg$currPos,"key"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COMMENT(){var s0,s1,s2,s3;return s0=peg$currPos,"comment"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c691)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COMMENT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseDOT(){var s0;return 46===input.charCodeAt(peg$currPos)?(s0=".",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c349)),s0}function peg$parseCOMMA(){var s0;return 44===input.charCodeAt(peg$currPos)?(s0=",",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c712)),s0}function peg$parseSTAR(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248)),s0}function peg$parseLPAREN(){var s0;return 40===input.charCodeAt(peg$currPos)?(s0="(",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c147)),s0}function peg$parseRPAREN(){var s0;return 41===input.charCodeAt(peg$currPos)?(s0=")",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c149)),s0}function peg$parseSEMICOLON(){var s0;return 59===input.charCodeAt(peg$currPos)?(s0=";",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c718)),s0}function peg$parseLOGIC_OPERATOR(){var s0;return(s0=function(){var s0;return"||"===input.substr(peg$currPos,2)?(s0="||",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c720)),s0}())===peg$FAILED&&(s0=function(){var s0;return"&&"===input.substr(peg$currPos,2)?(s0="&&",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c722)),s0}()),s0}function peg$parse__(){var s0,s1;for(s0=[],(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());s1!==peg$FAILED;)s0.push(s1),(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());return s0}function peg$parsecomment(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"/*"===input.substr(peg$currPos,2)?(s1="/*",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c724)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c726)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c726)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?("*/"===input.substr(peg$currPos,2)?(s3="*/",peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c726)),s3!==peg$FAILED?s0=s1=[s1,s2,s3]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"--"===input.substr(peg$currPos,2)?(s1="--",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c728)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,35===input.charCodeAt(peg$currPos)?(s1="#",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c730)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsekeyword_comment(){var s0,s1,s3,s5,k,s,c;return s0=peg$currPos,(s1=peg$parseKW_COMMENT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?(s=s3,c=s5,s0=s1={type:(k=s1).toLowerCase(),keyword:k.toLowerCase(),symbol:s,value:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsechar(){var s0;return input.length>peg$currPos?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c732)),s0}function peg$parsewhitespace(){var s0;return peg$c733.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c734)),s0}function peg$parseEOL(){var s0,s1;if((s0=function(){var s0,s1;return s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c732)),peg$silentFails--,s1===peg$FAILED?s0=void 0:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED)if(s0=[],peg$c339.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c340)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c339.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c340));else s0=peg$FAILED;return s0}function peg$parseproc_stmt(){var s0,s3;return s0=peg$currPos,varList=[],void 0!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseassign_stmt())===peg$FAILED&&(s3=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return"return"===input.substr(peg$currPos,6).toLowerCase()?(s0=input.substr(peg$currPos,6),peg$currPos+=6):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c667)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_expr())!==peg$FAILED?s0={type:"return",expr:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED?s0={stmt:s3,vars:varList}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseassign_stmt(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsevar_decl())===peg$FAILED&&(s1=peg$parsewithout_prefix_var_decl()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return":="===input.substr(peg$currPos,2)?(s0=":=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c669)),s0}())===peg$FAILED&&(s3=peg$parseKW_ASSIGIN_EQUAL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseproc_expr())!==peg$FAILED?s0=s1={type:"assign",left:s1,symbol:s3,right:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_expr(){var s0;return(s0=peg$parseselect_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseon_clause())!==peg$FAILED?s0=s1={type:"join",ltable:s1,rtable:s5,op:s3,on:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseproc_additive_expr())===peg$FAILED&&(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return 91===input.charCodeAt(peg$currPos)?(s0="[",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c714)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_primary_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0;return 93===input.charCodeAt(peg$currPos)?(s0="]",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c716)),s0}()!==peg$FAILED?s0={type:"array",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parseproc_additive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_multiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c216(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_multiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c216(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_primary(){var s0,s3;return(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parsevar_decl())===peg$FAILED&&(s0=peg$parseproc_func_call())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_additive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c253(s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_func_name(){var s0,s1,s2,s3,s4,s5,s6;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){let name=dt;return null!==tail&&(name=`${dt}.${tail[3]}`),name}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_func_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseproc_primary_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:{type:"expr_list",value:s5}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:null}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_primary_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevar_decl(){var s0,s1,s2,p,d;return s0=peg$currPos,(s1=peg$parseKW_VAR_PRE())!==peg$FAILED&&(s2=peg$parsewithout_prefix_var_decl())!==peg$FAILED?(p=s1,d=s2,s0=s1={type:"var",...d,prefix:p}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewithout_prefix_var_decl(){var s0,s1,s2,name,m;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(s2=function(){var s1,s2,s3,s4;for(peg$currPos,s1=[],s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c349)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c349)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);return s1!==peg$FAILED&&(s1=function(l){const s=[];for(let i=0;i<l.length;i++)s.push(l[i][1]);return s}(s1)),s1}())!==peg$FAILED?(name=s1,m=s2,varList.push(name),s0=s1={type:"var",name:name,members:m,prefix:null}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedata_type(){var s0,s1;return(s0=function(){var s0,s1,s5,s6;if(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],peg$c353.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c353.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354));else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={dataType:s1,length:parseInt(s5.join(""),10)},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CHAR())!==peg$FAILED&&(s1=peg$c748(s1)),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_VARCHAR())!==peg$FAILED&&(s1=peg$c748(s1)),s0=s1)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,r,s;if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED)if((s2=peg$parse__())!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if((s4=peg$parse__())!==peg$FAILED){if(s5=[],peg$c353.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c353.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354));else s5=peg$FAILED;if(s5!==peg$FAILED)if((s6=peg$parse__())!==peg$FAILED){if(s7=peg$currPos,(s8=peg$parseCOMMA())!==peg$FAILED)if((s9=peg$parse__())!==peg$FAILED){if(s10=[],peg$c353.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s11!==peg$FAILED)for(;s11!==peg$FAILED;)s10.push(s11),peg$c353.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354));else s10=peg$FAILED;s10!==peg$FAILED?s7=s8=[s8,s9,s10]:(peg$currPos=s7,s7=peg$FAILED)}else peg$currPos=s7,s7=peg$FAILED;else peg$currPos=s7,s7=peg$FAILED;s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseRPAREN())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsenumeric_type_suffix())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(r=s7,s=s11,s1={dataType:s1,length:parseInt(s5.join(""),10),scale:r&&parseInt(r[2].join(""),10),parentheses:!0,suffix:s},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED){if(s2=[],peg$c353.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c353.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354));else s2=peg$FAILED;s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=peg$parsenumeric_type_suffix())===peg$FAILED&&(s4=null),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(s1=function(t,l,s){return{dataType:t,length:parseInt(l.join(""),10),suffix:s}}(s1,s2,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parsenumeric_type_suffix())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(s1=function(t,s){return{dataType:t,suffix:s}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))}return s0}())===peg$FAILED&&((s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_DATETIME())===peg$FAILED&&(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP()),s1!==peg$FAILED&&(s1=peg$c748(s1)),(s0=s1)===peg$FAILED)&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"json"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c558)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSON":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c748(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"tinytext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c567)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"text"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c570)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"mediumtext"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c573)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MEDIUMTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"longtext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c576)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LONGTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1={dataType:s1}),s1}()),s0}function peg$parsenumeric_type_suffix(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_UNSIGNED())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"zerofill"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c552)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ZEROFILL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(un,ze){const result=[];return un&&result.push(un),ze&&result.push(ze),result}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}const reservedMap={ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!0,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,RECURSIVE:!0,RENAME:!0,READ:!0,RIGHT:!0,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,STATUS:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,TYPE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,SESSION:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0};function createUnaryExpr(op,e){return{type:"unary_expr",operator:op,expr:e}}function createBinaryExpr(op,left,right){return{type:"binary_expr",operator:op,left:left,right:right}}function isBigInt(numberStr){const previousMaxSafe=BigInt(Number.MAX_SAFE_INTEGER);return!(BigInt(numberStr)<previousMaxSafe)}function createList(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][3]);return result}function createBinaryExprChain(head,tail){let result=head;for(let i=0;i<tail.length;i++)result=createBinaryExpr(tail[i][1],result,tail[i][3]);return result}function queryTableAlias(tableName){const alias=tableAlias[tableName];return alias||tableName||null}function columnListTableAlias(columnList){const columns=[];for(let column of columnList.keys()){const columnInfo=column.split("::");if(!columnInfo){columns.push(column);break}columnInfo&&columnInfo[1]&&(columnInfo[1]=queryTableAlias(columnInfo[1])),columns.push(columnInfo.join("::"))}return columns}let varList=[];const tableList=new Set,columnList=new Set,tableAlias={};if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(25)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BigInt){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var i,escapedParts="";for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}return"Expected "+function(expected){var i,j,expectation,descriptions=new Array(expected.length);for(i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){options=void 0!==options?options:{};var peg$result,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c7=function(head,tail){return createList(head,tail)},peg$c9=peg$literalExpectation("AUTO_INCREMENT",!0),peg$c11=peg$literalExpectation("UNIQUE",!0),peg$c13=peg$literalExpectation("PRIMARY",!0),peg$c15=peg$literalExpectation("KEY",!0),peg$c19=peg$literalExpectation("COLUMN_FORMAT",!0),peg$c21=peg$literalExpectation("FIXED",!0),peg$c23=peg$literalExpectation("DYNAMIC",!0),peg$c25=peg$literalExpectation("DEFAULT",!0),peg$c28=peg$literalExpectation("STORAGE",!0),peg$c30=peg$literalExpectation("DISK",!0),peg$c32=peg$literalExpectation("MEMORY",!0),peg$c44=peg$literalExpectation("ALGORITHM",!0),peg$c46=peg$literalExpectation("INSTANT",!0),peg$c48=peg$literalExpectation("INPLACE",!0),peg$c50=peg$literalExpectation("COPY",!0),peg$c53=peg$literalExpectation("LOCK",!0),peg$c55=peg$literalExpectation("NONE",!0),peg$c57=peg$literalExpectation("SHARED",!0),peg$c59=peg$literalExpectation("EXCLUSIVE",!0),peg$c63=peg$literalExpectation("CHECK",!0),peg$c67=peg$literalExpectation("NOCHECK",!0),peg$c73=peg$literalExpectation("PRIMARY KEY",!0),peg$c77=peg$literalExpectation("NOT",!0),peg$c79=peg$literalExpectation("FOR",!0),peg$c81=peg$literalExpectation("REPLICATION",!0),peg$c84=peg$literalExpectation("FOREIGN KEY",!0),peg$c87=peg$literalExpectation("MATCH FULL",!0),peg$c89=peg$literalExpectation("MATCH PARTIAL",!0),peg$c91=peg$literalExpectation("MATCH SIMPLE",!0),peg$c94=peg$literalExpectation("ON DELETE",!0),peg$c96=peg$literalExpectation("ON UPDATE",!0),peg$c99=peg$literalExpectation("RESTRICT",!0),peg$c101=peg$literalExpectation("CASCADE",!0),peg$c103=peg$literalExpectation("SET NULL",!0),peg$c105=peg$literalExpectation("NO ACTION",!0),peg$c107=peg$literalExpectation("SET DEFAULT",!0),peg$c111=peg$literalExpectation("AVG_ROW_LENGTH",!0),peg$c113=peg$literalExpectation("KEY_BLOCK_SIZE",!0),peg$c115=peg$literalExpectation("MAX_ROWS",!0),peg$c117=peg$literalExpectation("MIN_ROWS",!0),peg$c119=peg$literalExpectation("STATS_SAMPLE_PAGES",!0),peg$c122=peg$literalExpectation("CHARACTER SET",!0),peg$c124=peg$literalExpectation("CHARSET",!0),peg$c126=peg$literalExpectation("COLLATE",!0),peg$c129=peg$literalExpectation("CONNECTION",!0),peg$c132=peg$literalExpectation("COMPRESSION",!0),peg$c134=peg$literalExpectation("'",!1),peg$c136=peg$literalExpectation("ZLIB",!0),peg$c138=peg$literalExpectation("LZ4",!0),peg$c141=peg$literalExpectation("ENGINE",!0),peg$c148=peg$literalExpectation("READ",!0),peg$c150=peg$literalExpectation("LOCAL",!0),peg$c153=peg$literalExpectation("LOW_PRIORITY",!0),peg$c155=peg$literalExpectation("WRITE",!0),peg$c162=peg$literalExpectation("(",!1),peg$c164=peg$literalExpectation(")",!1),peg$c178=peg$literalExpectation("BTREE",!0),peg$c180=peg$literalExpectation("HASH",!0),peg$c185=peg$literalExpectation("WITH",!0),peg$c187=peg$literalExpectation("PARSER",!0),peg$c190=peg$literalExpectation("VISIBLE",!0),peg$c192=peg$literalExpectation("INVISIBLE",!0),peg$c216=peg$literalExpectation("=",!1),peg$c224=peg$literalExpectation("DUPLICATE",!0),peg$c236=function(head,tail){return createBinaryExprChain(head,tail)},peg$c238=peg$literalExpectation("!",!1),peg$c242=function(nk){return nk[0]+" "+nk[2]},peg$c245=peg$literalExpectation(">=",!1),peg$c247=peg$literalExpectation(">",!1),peg$c249=peg$literalExpectation("<=",!1),peg$c251=peg$literalExpectation("<>",!1),peg$c253=peg$literalExpectation("<",!1),peg$c255=peg$literalExpectation("!=",!1),peg$c263=peg$literalExpectation("+",!1),peg$c265=peg$literalExpectation("-",!1),peg$c268=peg$literalExpectation("*",!1),peg$c270=peg$literalExpectation("/",!1),peg$c272=peg$literalExpectation("%",!1),peg$c273=function(e){return e.parentheses=!0,e},peg$c278=function(name){return!0===reservedMap[name.toUpperCase()]},peg$c282=peg$literalExpectation('"',!1),peg$c283=/^[^"]/,peg$c284=peg$classExpectation(['"'],!0,!1),peg$c285=function(chars){return chars.join("")},peg$c286=/^[^']/,peg$c287=peg$classExpectation(["'"],!0,!1),peg$c289=peg$literalExpectation("`",!1),peg$c290=/^[^`]/,peg$c291=peg$classExpectation(["`"],!0,!1),peg$c294=function(start,parts){return start+parts.join("")},peg$c295=/^[A-Za-z_]/,peg$c296=peg$classExpectation([["A","Z"],["a","z"],"_"],!1,!1),peg$c297=/^[A-Za-z0-9_]/,peg$c298=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),peg$c299=/^[A-Za-z0-9_:]/,peg$c300=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_",":"],!1,!1),peg$c302=peg$literalExpectation(":",!1),peg$c322=function(ca){return{type:"string",value:ca[1].join("")}},peg$c326=peg$literalExpectation("ON UPDATE CURRENT_TIMESTAMP",!0),peg$c328=/^[^"\\\0-\x1F\x7F]/,peg$c329=peg$classExpectation(['"',"\\",["\0",""],""],!0,!1),peg$c330=/^[^'\\]/,peg$c331=peg$classExpectation(["'","\\"],!0,!1),peg$c333=peg$literalExpectation("\\'",!1),peg$c336=peg$literalExpectation('\\"',!1),peg$c339=peg$literalExpectation("\\\\",!1),peg$c342=peg$literalExpectation("\\/",!1),peg$c345=peg$literalExpectation("\\b",!1),peg$c348=peg$literalExpectation("\\f",!1),peg$c351=peg$literalExpectation("\\n",!1),peg$c354=peg$literalExpectation("\\r",!1),peg$c357=peg$literalExpectation("\\t",!1),peg$c360=peg$literalExpectation("\\u",!1),peg$c363=peg$literalExpectation("\\",!1),peg$c364=/^[\n\r]/,peg$c365=peg$classExpectation(["\n","\r"],!1,!1),peg$c374=peg$literalExpectation(".",!1),peg$c378=/^[0-9]/,peg$c379=peg$classExpectation([["0","9"]],!1,!1),peg$c380=/^[0-9a-fA-F]/,peg$c381=peg$classExpectation([["0","9"],["a","f"],["A","F"]],!1,!1),peg$c382=/^[eE]/,peg$c383=peg$classExpectation(["e","E"],!1,!1),peg$c384=/^[+\-]/,peg$c385=peg$classExpectation(["+","-"],!1,!1),peg$c388=peg$literalExpectation("NULL",!0),peg$c390=peg$literalExpectation("NOT NULL",!0),peg$c392=peg$literalExpectation("TRUE",!0),peg$c394=peg$literalExpectation("TO",!0),peg$c396=peg$literalExpectation("FALSE",!0),peg$c400=(peg$literalExpectation("SHOW",!0),peg$literalExpectation("DROP",!0)),peg$c403=peg$literalExpectation("USE",!0),peg$c405=peg$literalExpectation("ALTER",!0),peg$c407=peg$literalExpectation("SELECT",!0),peg$c409=peg$literalExpectation("UPDATE",!0),peg$c411=peg$literalExpectation("CREATE",!0),peg$c413=peg$literalExpectation("TEMPORARY",!0),peg$c415=peg$literalExpectation("IF NOT EXISTS",!0),peg$c417=peg$literalExpectation("DELETE",!0),peg$c419=peg$literalExpectation("INSERT",!0),peg$c421=peg$literalExpectation("RECURSIVE",!1),peg$c423=peg$literalExpectation("REPLACE",!0),peg$c425=peg$literalExpectation("RENAME",!0),peg$c427=peg$literalExpectation("IGNORE",!0),peg$c431=(peg$literalExpectation("EXPLAIN",!0),peg$literalExpectation("PARTITION",!0)),peg$c434=peg$literalExpectation("INTO",!0),peg$c436=peg$literalExpectation("FROM",!0),peg$c438=peg$literalExpectation("SET",!0),peg$c440=peg$literalExpectation("UNLOCK",!0),peg$c442=peg$literalExpectation("AS",!0),peg$c444=peg$literalExpectation("TABLE",!0),peg$c447=peg$literalExpectation("TABLES",!0),peg$c451=peg$literalExpectation("ON",!0),peg$c453=peg$literalExpectation("LEFT",!0),peg$c455=peg$literalExpectation("RIGHT",!0),peg$c457=peg$literalExpectation("FULL",!0),peg$c459=peg$literalExpectation("INNER",!0),peg$c461=peg$literalExpectation("JOIN",!0),peg$c463=peg$literalExpectation("OUTER",!0),peg$c465=peg$literalExpectation("OVER",!0),peg$c467=peg$literalExpectation("UNION",!0),peg$c469=peg$literalExpectation("VALUES",!0),peg$c471=peg$literalExpectation("USING",!0),peg$c473=peg$literalExpectation("WHERE",!0),peg$c475=peg$literalExpectation("GROUP",!0),peg$c477=peg$literalExpectation("BY",!0),peg$c479=peg$literalExpectation("ORDER",!0),peg$c481=peg$literalExpectation("HAVING",!0),peg$c483=peg$literalExpectation("LIMIT",!0),peg$c485=peg$literalExpectation("OFFSET",!0),peg$c488=peg$literalExpectation("ASC",!0),peg$c491=peg$literalExpectation("DESC",!0),peg$c494=peg$literalExpectation("ALL",!0),peg$c497=peg$literalExpectation("DISTINCT",!0),peg$c500=peg$literalExpectation("BETWEEN",!0),peg$c503=peg$literalExpectation("IN",!0),peg$c506=peg$literalExpectation("IS",!0),peg$c509=peg$literalExpectation("LIKE",!0),peg$c512=peg$literalExpectation("EXISTS",!0),peg$c516=peg$literalExpectation("AND",!0),peg$c519=peg$literalExpectation("OR",!0),peg$c522=peg$literalExpectation("COUNT",!0),peg$c525=peg$literalExpectation("MAX",!0),peg$c528=peg$literalExpectation("MIN",!0),peg$c531=peg$literalExpectation("SUM",!0),peg$c534=peg$literalExpectation("AVG",!0),peg$c537=peg$literalExpectation("CALL",!0),peg$c540=peg$literalExpectation("CASE",!0),peg$c542=peg$literalExpectation("WHEN",!0),peg$c544=peg$literalExpectation("THEN",!0),peg$c546=peg$literalExpectation("ELSE",!0),peg$c548=peg$literalExpectation("END",!0),peg$c550=peg$literalExpectation("CAST",!0),peg$c552=peg$literalExpectation("CHAR",!0),peg$c555=peg$literalExpectation("VARCHAR",!0),peg$c558=peg$literalExpectation("NUMERIC",!0),peg$c561=peg$literalExpectation("DECIMAL",!0),peg$c564=peg$literalExpectation("SIGNED",!0),peg$c567=peg$literalExpectation("UNSIGNED",!0),peg$c570=peg$literalExpectation("INT",!0),peg$c573=peg$literalExpectation("ZEROFILL",!0),peg$c576=peg$literalExpectation("INTEGER",!0),peg$c579=peg$literalExpectation("JSON",!0),peg$c582=peg$literalExpectation("SMALLINT",!0),peg$c585=peg$literalExpectation("TINYINT",!0),peg$c588=peg$literalExpectation("TINYTEXT",!0),peg$c591=peg$literalExpectation("TEXT",!0),peg$c594=peg$literalExpectation("MEDIUMTEXT",!0),peg$c597=peg$literalExpectation("LONGTEXT",!0),peg$c600=peg$literalExpectation("BIGINT",!0),peg$c603=peg$literalExpectation("FLOAT",!0),peg$c606=peg$literalExpectation("DOUBLE",!0),peg$c609=peg$literalExpectation("DATE",!0),peg$c612=peg$literalExpectation("DATETIME",!0),peg$c615=peg$literalExpectation("TIME",!0),peg$c618=peg$literalExpectation("TIMESTAMP",!0),peg$c621=peg$literalExpectation("TRUNCATE",!0),peg$c624=peg$literalExpectation("USER",!0),peg$c627=peg$literalExpectation("CURRENT_DATE",!0),peg$c633=(peg$literalExpectation("ADDDATE",!0),peg$literalExpectation("INTERVAL",!0)),peg$c636=peg$literalExpectation("YEAR",!0),peg$c639=peg$literalExpectation("MONTH",!0),peg$c642=peg$literalExpectation("DAY",!0),peg$c645=peg$literalExpectation("HOUR",!0),peg$c648=peg$literalExpectation("MINUTE",!0),peg$c651=peg$literalExpectation("SECOND",!0),peg$c654=peg$literalExpectation("CURRENT_TIME",!0),peg$c657=peg$literalExpectation("CURRENT_TIMESTAMP",!0),peg$c660=peg$literalExpectation("CURRENT_USER",!0),peg$c663=peg$literalExpectation("SESSION_USER",!0),peg$c666=peg$literalExpectation("SYSTEM_USER",!0),peg$c669=peg$literalExpectation("GLOBAL",!0),peg$c672=peg$literalExpectation("SESSION",!0),peg$c676=peg$literalExpectation("PERSIST",!0),peg$c679=peg$literalExpectation("PERSIST_ONLY",!0),peg$c682=peg$literalExpectation("@",!1),peg$c684=peg$literalExpectation("@@",!1),peg$c686=peg$literalExpectation("$",!1),peg$c688=peg$literalExpectation("return",!0),peg$c690=peg$literalExpectation(":=",!1),peg$c692=peg$literalExpectation("DUAL",!0),peg$c694=peg$literalExpectation("ADD",!0),peg$c697=peg$literalExpectation("COLUMN",!0),peg$c700=peg$literalExpectation("INDEX",!0),peg$c704=peg$literalExpectation("FULLTEXT",!0),peg$c707=peg$literalExpectation("SPATIAL",!0),peg$c712=peg$literalExpectation("COMMENT",!0),peg$c715=peg$literalExpectation("CONSTRAINT",!0),peg$c718=peg$literalExpectation("REFERENCES",!0),peg$c721=peg$literalExpectation("SQL_CALC_FOUND_ROWS",!0),peg$c723=peg$literalExpectation("SQL_CACHE",!0),peg$c725=peg$literalExpectation("SQL_NO_CACHE",!0),peg$c727=peg$literalExpectation("SQL_SMALL_RESULT",!0),peg$c729=peg$literalExpectation("SQL_BIG_RESULT",!0),peg$c731=peg$literalExpectation("SQL_BUFFER_RESULT",!0),peg$c733=peg$literalExpectation(",",!1),peg$c735=peg$literalExpectation("[",!1),peg$c737=peg$literalExpectation("]",!1),peg$c739=peg$literalExpectation(";",!1),peg$c741=peg$literalExpectation("->",!1),peg$c743=peg$literalExpectation("->>",!1),peg$c745=peg$literalExpectation("||",!1),peg$c747=peg$literalExpectation("&&",!1),peg$c749=peg$literalExpectation("/*",!1),peg$c751=peg$literalExpectation("*/",!1),peg$c753=peg$literalExpectation("--",!1),peg$c755=peg$literalExpectation("#",!1),peg$c757={type:"any"},peg$c758=/^[ \t\n\r]/,peg$c759=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c773=function(t){return{dataType:t}},peg$currPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s2;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecrud_stmt())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=function(head,tail){const cur=[head&&head.ast||head];for(let i=0;i<tail.length;i++)tail[i][3]&&0!==tail[i][3].length&&cur.push(tail[i][3]&&tail[i][3].ast||tail[i][3]);return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:cur}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s2=peg$parsecmd_stmt())===peg$FAILED&&(s2=peg$parsecrud_stmt()),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecmd_stmt(){var s0;return(s0=function(){var s0,s1,s5,a,t;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,s11,s13,s15,s17,s19,a,tp,ife,t,c,to,ir,as,qe;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecreate_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?(s1=peg$c7(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s2,s3;return s0=peg$currPos,"ignore"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=peg$parseKW_REPLACE()),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseKW_AS())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parseunion_stmt())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,tp=s3,ife=s7,c=s11,to=s13,ir=s15,as=s17,qe=s19,(t=s9)&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,ignore_replace:ir&&ir[0].toLowerCase(),as:as&&as[0].toLowerCase(),query_expr:qe&&qe.ast,create_definitions:c,table_options:to}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function peg$parsecreate_like_table(){var s0,s3,e;return(s0=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_LIKE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"like",table:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_like_table())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((e=s3).parentheses=!0,s0=e):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(a,tp,ife,t,lt){return t&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,like:lt}}}(s1,s3,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,a,kw,t;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"truncate"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c621)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TRUNCATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,kw=s3,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),keyword:kw,table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,t;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_to_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?((t=s5).forEach(tg=>tg.forEach(dt=>dt.table&&tableList.add(`rename::${dt.db}::${dt.table}`))),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"rename",table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"call"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c537)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_func_call())!==peg$FAILED?(e=s3,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"call",expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,d;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"use"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c403)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(d=s3,tableList.add(`use::${d}::null`),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"use",db:d}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,t,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"alter"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c405)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsealter_action())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(e=s7,(t=s5)&&t.length>0&&t.forEach(table=>tableList.add(`alter::${table.db}::${table.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"alter",table:t,expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,a;return s0=peg$currPos,(s1=peg$parseKW_SET())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"global"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c669)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GLOBAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c672)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"local"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c150)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LOCAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c676)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist_only"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c679)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST_ONLY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseassign_stmt())!==peg$FAILED?(kw=s3,(a=s5).keyword=kw,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"set",expr:a}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,ltl;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parselock_table())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(ltl=s5,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"lock",keyword:"tables",tables:ltl}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unlock"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c440)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"unlock",keyword:"tables"}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecrud_stmt(){var s0;return(s0=peg$parseunion_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,t,l,w;return s0=peg$currPos,(s1=peg$parseKW_UPDATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseset_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsewhere_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED?(l=s7,w=s9,(t=s3)&&t.forEach(tableInfo=>{const{db:db,as:as,table:table}=tableInfo;tableList.add(`update::${db}::${table}`)}),l&&l.forEach(col=>columnList.add(`update::${col.table}::${col.column}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"update",table:t,set:l,where:w}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s11,s15,s17;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INTO())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s15=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseon_duplicate_update_stmt())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(ri,t,p,c,v,odp){if(t&&(tableList.add(`insert::${t.db}::${t.table}`),t.as=null),c){let table=t&&t.table||null;c.forEach(c=>columnList.add(`insert::${table}::${c}`))}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:c,values:v,partition:p,on_duplicate_update:odp}}}(s1,s5,s7,s11,s15,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,s9,s11,ri,t,p,v,odp;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_INTO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_duplicate_update_stmt())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ri=s1,p=s7,v=s9,odp=s11,(t=s5)&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:null,values:v,partition:p,on_duplicate_update:odp}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,s11,s13,ri,t,p,l,odp;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_INTO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseset_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseon_duplicate_update_stmt())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ri=s1,p=s7,l=s11,odp=s13,(t=s5)&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:null,partition:p,set:l,on_duplicate_update:odp}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"delete"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c417)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsetable_ref_list())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsefrom_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsewhere_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?(s1=function(t,f,w){if(f&&f.forEach(info=>{info.table&&tableList.add(`delete::${info.db}::${info.table}`),columnList.add(`delete::${info.table}::(.*)`)}),null===t&&1===f.length){const tableInfo=f[0];t=[{db:tableInfo.db,table:tableInfo.table,as:tableInfo.as,addition:!0}]}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"delete",table:t,from:f,where:w}}}(s3,s5,s7),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecmd_stmt())===peg$FAILED&&(s0=function(){var s0,s1;for(s0=[],s1=peg$parseproc_stmt();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseproc_stmt();return s0}()),s0}function peg$parseunion_stmt(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseselect_stmt())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){let cur=head;for(let i=0;i<tail.length;i++)cur._next=tail[i][5],cur.union=tail[i][3]?"union all":"union",cur=cur._next;return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:head}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecreate_definition(){var s0;return(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,s9,kc,p,t,de,id;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("primary key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c73)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s3,t=s5,de=s7,id=s9,s1={constraint:(kc=s1)&&kc.constraint,definition:de,constraint_type:p.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,resource:"constraint",index_options:id},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_INDEX())===peg$FAILED&&(s5=peg$parseKW_KEY()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsecolumn())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_type())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseindex_options())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,u,p,i,t,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p&&`${u.toLowerCase()} ${p.toLowerCase()}`||u.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,index:i,resource:"constraint",index_options:id}}(s1,s3,s5,s7,s9,s11,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("foreign key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c84)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsereference_definition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,p,i,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p,keyword:kc&&kc.keyword,index:i,resource:"constraint",reference_definition:id}}(s1,s3,s5,s7,s9),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecreate_constraint_check()),s0}())===peg$FAILED&&(s0=peg$parsecreate_column_definition())===peg$FAILED&&(s0=peg$parsecreate_index_definition())===peg$FAILED&&(s0=peg$parsecreate_fulltext_spatial_index_definition()),s0}function peg$parsecreate_column_definition(){var s0,s1,s3,s5,s7,s9,s11,s12,s13,s14,s15,s17,s19,s21,c,d,n,df,a,u,co,ca,cf,s,re;return s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"not null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c390)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"not null",value:"not null"}),s1}())===peg$FAILED&&(s5=peg$parseliteral_null()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_DEFAULT()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral())===peg$FAILED&&(s3=peg$parseexpr()),s3!==peg$FAILED?s0={type:"default",value:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?("auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s9=input.substr(peg$currPos,14),peg$currPos+=14):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s11=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s12=input.substr(peg$currPos,6),peg$currPos+=6):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s12===peg$FAILED&&("primary"===input.substr(peg$currPos,7).toLowerCase()?(s12=input.substr(peg$currPos,7),peg$currPos+=7):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13))),s12===peg$FAILED&&(s12=null),s12!==peg$FAILED&&(s13=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s14=input.substr(peg$currPos,3),peg$currPos+=3):(s14=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s14!==peg$FAILED?s11=s12=[s12,s13,s14]:(peg$currPos=s11,s11=peg$FAILED)):(peg$currPos=s11,s11=peg$FAILED),s11===peg$FAILED&&(s11=null),s11!==peg$FAILED&&(s12=peg$parse__())!==peg$FAILED?((s13=peg$parsekeyword_comment())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED?((s15=peg$parsecollate_expr())===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=function(){var s0,s1,s3;return s0=peg$currPos,"column_format"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("fixed"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s3===peg$FAILED&&("dynamic"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3===peg$FAILED&&("default"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"column_format",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=function(){var s0,s1,s3;return s0=peg$currPos,"storage"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("disk"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s3===peg$FAILED&&("memory"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"storage",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s21=peg$parsereference_definition())===peg$FAILED&&(s21=null),s21!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s1,d=s3,n=s5,df=s7,a=s9,u=s11,co=s13,ca=s15,cf=s17,s=s19,re=s21,columnList.add(`create::${c.table}::${c.column}`),n&&!n.value&&(n.value="null"),s0=s1={column:c,definition:d,nullable:n,default_val:df,auto_increment:a&&a.toLowerCase(),unique_or_primary:u&&`${u[0].toLowerCase()} ${u[2].toLowerCase()}`,comment:co,collate:ca,column_format:cf,storage:s,reference_definition:re,resource:"column"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecollate_expr(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"collate"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLLATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"collate",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsealter_action(){var s0;return(s0=function(){var s0,s1,s3,c;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_constraint_check())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s1={action:"add",...c,type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c63)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?(s1={action:"drop",constraint:s5,keyword:s3.toLowerCase(),resource:"constraint",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5,s9;return s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c63)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s5=input.substr(peg$currPos,5),peg$currPos+=5):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c63)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_CONSTRAINT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseident_name())!==peg$FAILED?s0={action:"with",constraint:s9,keyword:"check check",resource:"constraint",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"nocheck"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c67)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_CONSTRAINT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1={action:"nocheck",constraint:s5,resource:"constraint",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kc,cd;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecreate_column_definition())!==peg$FAILED?(kc=s3,cd=s5,s1={action:"add",...cd,keyword:kc,resource:"column",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5;return s0=peg$currPos,peg$parseKW_DROP()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={action:"drop",column:s5,keyword:s3,resource:"column",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,id;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_index_definition())!==peg$FAILED?(id=s3,s1={action:"add",type:"alter",...id},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,fsid;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_fulltext_spatial_index_definition())!==peg$FAILED?(fsid=s3,s1={action:"add",type:"alter",...fsid},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,tn;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TO())===peg$FAILED&&(s3=peg$parseKW_AS()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(tn=s5,s1={action:"rename",type:"alter",resource:"table",keyword:(kw=s3)&&kw[0].toLowerCase(),table:tn},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"algorithm"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("instant"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c46)),s5===peg$FAILED&&("inplace"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c48)),s5===peg$FAILED&&("copy"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"algorithm",resource:"algorithm",algorithm:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s5===peg$FAILED&&("shared"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s5===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"lock",resource:"lock",lock:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecreate_index_definition(){var s0,s1,s3,s5,s7,s9,t,id;return s0=peg$currPos,(s1=peg$parseKW_INDEX())===peg$FAILED&&(s1=peg$parseKW_KEY()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecolumn())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(t=s5,id=s9,s0=s1={index:s3,definition:s7,keyword:s1.toLowerCase(),index_type:t,resource:"index",index_options:id}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_fulltext_spatial_index_definition(){var s0,s1,s3,s5,s7,s9,p,kc,id;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"fulltext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c704)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FULLTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"spatial"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c707)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SPATIAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INDEX())===peg$FAILED&&(s3=peg$parseKW_KEY()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s1,id=s9,s0=s1={index:s5,definition:s7,keyword:(kc=s3)&&`${p.toLowerCase()} ${kc.toLowerCase()}`||p.toLowerCase(),index_options:id,resource:"index"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseconstraint_name(){var s0,s1,s3,c;return s0=peg$currPos,(s1=peg$parseKW_CONSTRAINT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseident())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s0=s1={keyword:s1.toLowerCase(),constraint:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_constraint_check(){var s0,s1,s3,s5,s6,s7,s8,s9,s10,s11,kc,nfr,c;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c63)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s6=input.substr(peg$currPos,3),peg$currPos+=3):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c77)),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED?("for"===input.substr(peg$currPos,3).toLowerCase()?(s8=input.substr(peg$currPos,3),peg$currPos+=3):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c79)),s8!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?("replication"===input.substr(peg$currPos,11).toLowerCase()?(s10=input.substr(peg$currPos,11),peg$currPos+=11):(s10=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81)),s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED?s5=s6=[s6,s7,s8,s9,s10,s11]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parseLPAREN())!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseexpr())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED&&(s10=peg$parseRPAREN())!==peg$FAILED?(kc=s1,nfr=s5,c=s8,s0=s1={constraint_type:s3.toLowerCase(),keyword:kc&&kc.keyword,constraint:kc&&kc.constraint,index_type:nfr&&{keyword:"not for replication"},definition:[c],resource:"constraint"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereference_definition(){var s0,s1,s3,s5,s7,s9,s11,m,od,ou;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"references"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c718)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="REFERENCES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("match full"===input.substr(peg$currPos,10).toLowerCase()?(s7=input.substr(peg$currPos,10),peg$currPos+=10):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c87)),s7===peg$FAILED&&("match partial"===input.substr(peg$currPos,13).toLowerCase()?(s7=input.substr(peg$currPos,13),peg$currPos+=13):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c89)),s7===peg$FAILED&&("match simple"===input.substr(peg$currPos,12).toLowerCase()?(s7=input.substr(peg$currPos,12),peg$currPos+=12):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c91)))),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseon_reference())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_reference())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(m=s7,od=s9,ou=s11,s0=s1={definition:s5,table:s3,keyword:s1.toLowerCase(),match:m&&m.toLowerCase(),on_delete:od,on_update:ou}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseon_reference(){var s0,s1,s3,ro;return s0=peg$currPos,"on delete"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c94)),s1===peg$FAILED&&("on update"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c96))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,"restrict"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c99)),s1===peg$FAILED&&("cascade"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c101)),s1===peg$FAILED&&("set null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c103)),s1===peg$FAILED&&("no action"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c105)),s1===peg$FAILED&&("set default"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c107)))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=s1.toLowerCase(),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ro=s3,s0=s1={type:s1.toLowerCase(),value:ro}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_option(){var s0,s1,s3,s5,s6,s7,s8,s,v;return s0=peg$currPos,"auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s1===peg$FAILED&&("avg_row_length"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c111)),s1===peg$FAILED&&("key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c113)),s1===peg$FAILED&&("max_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c115)),s1===peg$FAILED&&("min_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c117)),s1===peg$FAILED&&("stats_sample_pages"===input.substr(peg$currPos,18).toLowerCase()?(s1=input.substr(peg$currPos,18),peg$currPos+=18):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED?(s=s3,v=s5,s0=s1={keyword:s1.toLowerCase(),symbol:s,value:v.value}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DEFAULT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("character set"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c122)),s3===peg$FAILED&&("charset"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c124)),s3===peg$FAILED&&("collate"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,t,s,v){return{keyword:kw&&`${kw[0].toLowerCase()} ${t.toLowerCase()}`||t.toLowerCase(),symbol:s,value:v}}(s1,s3,s5,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COMMENT())===peg$FAILED&&("connection"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c129))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:`'${c.value}'`}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"compression"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c132)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s6!==peg$FAILED?("zlib"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c136)),s7===peg$FAILED&&("lz4"===input.substr(peg$currPos,3).toLowerCase()?(s7=input.substr(peg$currPos,3),peg$currPos+=3):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s7===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)))),s7!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s8="'",peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5!==peg$FAILED?s0=s1=function(kw,s,v){return{keyword:kw.toLowerCase(),symbol:s,value:v.join("").toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"engine"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c141)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:c.toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}function peg$parselock_table(){var s0,s1,s3,t,lt;return s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s3;return s0=peg$currPos,"read"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c148)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("local"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c150)),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={type:"read",suffix:s3&&"local"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"low_priority"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c153)),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("write"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c155)),s3!==peg$FAILED?s0=s1={type:"write",prefix:s1&&"low_priority"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED?(t=s1,lt=s3,tableList.add(`lock::${t.db}::${t.table}`),s0=s1={table:t,lock_type:lt}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseselect_stmt(){var s0,s1,s2,s3,s4,s5,s6;return(s0=peg$parseselect_stmt_nake())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,40===input.charCodeAt(peg$currPos)?(s2="(",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c162)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseselect_stmt())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s6=")",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c164)),s6!==peg$FAILED?s1=s2=[s2,s3,s4,s5,s6]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=s1[2]),s0=s1),s0}function peg$parsewith_clause(){var s0,s3,s4,s5,s6,s7,s8,s9,cte;if(s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecte_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&peg$parseKW_WITH()!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=function(){var s0,s1,s2,s3;return s0=peg$currPos,"RECURSIVE"===input.substr(peg$currPos,9)?(s1="RECURSIVE",peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c421)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecte_definition())!==peg$FAILED?((cte=s6).recursive=!0,s0=[cte]):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecte_definition(){var s0,s1,s3,s9;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecte_column_definition())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={name:s1,stmt:s9,columns:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecte_column_definition(){var s0,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecolumn())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseselect_stmt_nake(){var s0,s2,s6,s8,s10,s12,s14,s16,s18,s20,s22,cte,opts,d,c,f,w,g,h,o,l;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=peg$parsewith_clause())===peg$FAILED&&(s2=null),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"select"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c407)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s6=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parsequery_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=function(head,tail){const opts=[head];for(let i=0,l=tail.length;i<l;++i)opts.push(tail[i][1]);return opts}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s6=null),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=peg$parseKW_DISTINCT())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s10=peg$parsecolumn_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s12=peg$parsefrom_clause())===peg$FAILED&&(s12=null),s12!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=peg$parsewhere_clause())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"group"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c475)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED?(s1=s5.value,s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"having"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c481)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=peg$parseorder_by_clause())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s22=function(){var s0,s1,s3,s5,s6,s7,s8;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"limit"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c483)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsenumber_or_param())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,(s6=peg$parseCOMMA())===peg$FAILED&&(s6=function(){var s0,s1,s2,s3;return s0=peg$currPos,"offset"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c485)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OFFSET":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsenumber_or_param())!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(i1,tail){const res=[i1];return tail&&res.push(tail[2]),{seperator:tail&&tail[0]&&tail[0].toLowerCase()||"",value:res}}(s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s22=null),s22!==peg$FAILED?(cte=s2,opts=s6,d=s8,c=s10,w=s14,g=s16,h=s18,o=s20,l=s22,(f=s12)&&f.forEach(info=>info.table&&tableList.add(`select::${info.db}::${info.table}`)),s0={with:cte,type:"select",options:opts,distinct:d,columns:c,from:f,where:w,groupby:g,having:h,orderby:o,limit:l}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequery_option(){var s1;return peg$currPos,(s1=function(){var s0;return"sql_calc_found_rows"===input.substr(peg$currPos,19).toLowerCase()?(s0=input.substr(peg$currPos,19),peg$currPos+=19):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c721)),s0}())===peg$FAILED&&((s1=function(){var s0;return"sql_cache"===input.substr(peg$currPos,9).toLowerCase()?(s0=input.substr(peg$currPos,9),peg$currPos+=9):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c723)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_no_cache"===input.substr(peg$currPos,12).toLowerCase()?(s0=input.substr(peg$currPos,12),peg$currPos+=12):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c725)),s0}()),s1===peg$FAILED&&(s1=function(){var s0;return"sql_big_result"===input.substr(peg$currPos,14).toLowerCase()?(s0=input.substr(peg$currPos,14),peg$currPos+=14):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c729)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_small_result"===input.substr(peg$currPos,16).toLowerCase()?(s0=input.substr(peg$currPos,16),peg$currPos+=16):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c727)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_buffer_result"===input.substr(peg$currPos,17).toLowerCase()?(s0=input.substr(peg$currPos,17),peg$currPos+=17):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c731)),s0}())),s1!==peg$FAILED&&(s1=s1),s1}function peg$parsecolumn_clause(){var s0,s1,s2,s3,s4,s5,s6,s7,head,tail;if(s0=peg$currPos,(s1=peg$parseKW_ALL())===peg$FAILED&&(s1=peg$currPos,(s2=peg$parseSTAR())!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseident_start(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$parseSTAR())),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(head=s1,tail=s2,columnList.add("select::null::(.*)"),s0=s1=tail&&tail.length>0?(head[0]={expr:{type:"column_ref",table:null,column:"*"},as:null},createList(head[0],tail)):head[0]):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,(s1=peg$parsecolumn_list_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecolumn_list_item(){var s0,s1,s3,tbl;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseSTAR()!==peg$FAILED?(tbl=s1,columnList.add(`select::${tbl}::(.*)`),s0=s1={expr:{type:"column_ref",table:tbl,column:"*"},as:null}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={expr:s1,as:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsealias_clause(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_AS())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(function(name){if(!0===reservedMap[name.toUpperCase()])throw new Error("Error: "+JSON.stringify(name)+" is a reserved word, can not as alias clause");return!1}(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_AS())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsefrom_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"from"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c436)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_to_item(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED?s0=s1=[s1,s5]:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_type(){var s0,s3;return s0=peg$currPos,peg$parseKW_USING()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("btree"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c178)),s3===peg$FAILED&&("hash"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c180))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={keyword:"using",type:s3.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_options(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseindex_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][1]);return result}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseindex_option(){var s0,s1,s3,s5,e,kbs;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c113)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY_BLOCK_SIZE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(e=s3,kbs=s5,s0=s1={type:s1.toLowerCase(),symbol:e,expr:kbs}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseindex_type())===peg$FAILED&&(s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c185)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("parser"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c187)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"with parser",expr:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"visible"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c190)),s1===peg$FAILED&&("invisible"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c192))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(k){return{type:k.toLowerCase(),expr:k.toLowerCase()}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsekeyword_comment()))),s0}function peg$parsetable_ref_list(){var s0,s1,s2,s3,head,tail;if(s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED){for(s2=[],s3=peg$parsetable_ref();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsetable_ref();s2!==peg$FAILED?(head=s1,(tail=s2).unshift(head),tail.forEach(tableInfo=>{const{table:table,as:as}=tableInfo;tableAlias[table]=table,as&&(tableAlias[as]=table)}),s0=s1=tail):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsetable_ref(){var s0,s2,s4;return s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=peg$parseCOMMA())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s4=peg$parsetable_base())!==peg$FAILED?s0=s4:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=function(){var s0,s1,s3,s5,s9,s10,s11,s12,s13,s14,s15,op,t,head,tail;if(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsetable_base())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseKW_USING())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s9=peg$parseident_name())!==peg$FAILED){for(s10=[],s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s11!==peg$FAILED;)s10.push(s11),s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?(op=s1,head=s9,tail=s10,(t=s3).join=op,t.using=createList(head,tail),s0=s1=t):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseon_clause())===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(op,t,expr){return t.join=op,t.on=expr,t}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsealias_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parseon_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(s1=function(op,stmt,alias,expr){return stmt.parentheses=!0,{expr:stmt,as:alias,join:op,on:expr}}(s1,s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_base(){var s0,s1,s3,s7,t,alias;return s0=peg$currPos,(s1=function(){var s0;return"dual"===input.substr(peg$currPos,4).toLowerCase()?(s0=input.substr(peg$currPos,4),peg$currPos+=4):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c692)),s0}())!==peg$FAILED&&(s1={type:"dual"}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(alias=s3,s0=s1="var"===(t=s1).type?(t.as=alias,t):{db:t.db,table:t.table,as:alias}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsealias_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?s0=s1=function(stmt,alias){return stmt.parentheses=!0,{expr:stmt,as:alias}}(s3,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsejoin_op(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"left"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c453)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="LEFT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"right"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c455)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="RIGHT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"full"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c457)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="FULL JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=function(){var s0,s1,s2,s3;return s0=peg$currPos,"inner"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c459)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parseKW_JOIN())!==peg$FAILED?s0=s1="INNER JOIN":(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parsetable_name(){var s0,s1,s2,s3,s4,s5,s6,v;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=dt,obj.table=tail[3]),obj}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&((v=s1).db=null,v.table=v.name,s1=v),s0=s1),s0}function peg$parseon_clause(){var s0,s3;return s0=peg$currPos,peg$parseKW_ON()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewhere_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"where"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c473)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_clause(){var s0,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"order"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c479)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseorder_by_element())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s5:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_element(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"desc"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c491)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DESC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"asc"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c488)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ASC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(e,d){const obj={expr:e,type:"ASC"};return"DESC"===d&&(obj.type="DESC"),obj}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenumber_or_param(){var s0;return(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=peg$parseparam()),s0}function peg$parseset_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseset_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseset_item(){var s0,s1,s2,s3,s4,s5,s7,tbl;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsecolumn())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s5="=",peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c216)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={column:s3,value:s7,table:(tbl=s1)&&tbl[0]}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseinsert_value_clause(){var s0;return(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"values"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c469)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsevalue_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseselect_stmt_nake()),s0}function peg$parseinsert_partition(){var s0,s3,s5,s6,s7,s8,s9,s10,s11;if(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseident_name())!==peg$FAILED){for(s6=[],s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s7!==peg$FAILED;)s6.push(s7),s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseRPAREN())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?s0=createList(s5,s6):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsevalue_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseon_duplicate_update_stmt(){var s0,s3,s9;return s0=peg$currPos,peg$parseKW_ON()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("duplicate"===input.substr(peg$currPos,9).toLowerCase()?(s3=input.substr(peg$currPos,9),peg$currPos+=9):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c224)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_KEY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_UPDATE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseset_list())!==peg$FAILED?s0={keyword:"on duplicate key update",set:s9}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereplace_insert(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"insert"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c419)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1="insert"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_REPLACE())!==peg$FAILED&&(s1="replace"),s0=s1),s0}function peg$parsevalue_item(){var s0,s3;return s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const el={type:"expr_list"};return el.value=createList(head,tail),el}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseinterval_expr(){var s0,s3,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"interval"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c633)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTERVAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"year"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c636)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="YEAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"month"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c639)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONTH":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"day"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c642)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DAY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"hour"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c645)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="HOUR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"minute"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c648)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MINUTE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"second"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c651)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SECOND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED?s0={type:"interval",expr:s3,unit:s5.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecase_expr(){var s0,s3,s5,s6,s7,s11,expr,condition_list,otherwise;if(s0=peg$currPos,peg$parseKW_CASE()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseexpr())===peg$FAILED&&(s3=null),s3!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],(s6=peg$parsecase_when_then())!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parsecase_when_then();else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"else"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c546)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0={type:"else",result:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"end"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c548)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_CASE())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(expr=s3,condition_list=s5,(otherwise=s7)&&condition_list.push(otherwise),s0={type:"case",expr:expr||null,args:condition_list}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecase_when_then(){var s0,s3,s7;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"when"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c542)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"then"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c544)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s3,result:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createBinaryExprChain(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseadditive_operator())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createUnaryExpr(s1,s2[0][1]),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseand_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c236(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=peg$parseselect_stmt()),s0}function peg$parseand_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsenot_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c236(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsenot_expr(){var s0,s1,s2,s3,s4;return(s0=peg$parsecomparison_expr())===peg$FAILED&&(s0=function(){var s0,s1,s5,op,stmt;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_EXISTS())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c242(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_EXISTS()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(op=s1,(stmt=s5).parentheses=!0,s1=createUnaryExpr(op,stmt),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NOT())===peg$FAILED&&(s1=peg$currPos,33===input.charCodeAt(peg$currPos)?(s2="!",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c238)),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,61===input.charCodeAt(peg$currPos)?(s4="=",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c216)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsenot_expr())!==peg$FAILED?s0=s1=createUnaryExpr("NOT",s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecomparison_expr(){var s0,s1,s3,left,rh;return s0=peg$currPos,(s1=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return(s0=function(){var s1,s2,s3,s4,s5,s6;if(peg$currPos,s1=[],s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED);else s1=peg$FAILED;return s1!==peg$FAILED&&(s1={type:"arithmetic",tail:s1}),s1}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={op:s1,right:s5}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsevar_decl())===peg$FAILED&&(s3=peg$parseliteral_string()),s3!==peg$FAILED?(s1=function(op,e){return{op:op,right:e}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_BETWEEN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c242(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_BETWEEN()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AND()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:s1,right:{type:"expr_list",value:[s3,s7]}}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:"IS",right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_IS())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_NOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?(s1=function(right){return{op:"IS NOT",right:right}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_LIKE())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c242(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_LIKE()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecomparison_expr())!==peg$FAILED?s0=s1={op:s1,right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(left=s1,s0=s1=null===(rh=s3)?left:"arithmetic"===rh.type?createBinaryExprChain(left,rh.tail):createBinaryExpr(rh.op,left,rh.right)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsearithmetic_comparison_operator(){var s0;return">="===input.substr(peg$currPos,2)?(s0=">=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c245)),s0===peg$FAILED&&(62===input.charCodeAt(peg$currPos)?(s0=">",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c247)),s0===peg$FAILED&&("<="===input.substr(peg$currPos,2)?(s0="<=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c249)),s0===peg$FAILED&&("<>"===input.substr(peg$currPos,2)?(s0="<>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c251)),s0===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s0="<",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c253)),s0===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c216)),s0===peg$FAILED&&("!="===input.substr(peg$currPos,2)?(s0="!=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c255)))))))),s0}function peg$parsein_op(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_IN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c242(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_IN()),s0}function peg$parseadditive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsemultiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c236(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseadditive_operator(){var s0;return 43===input.charCodeAt(peg$currPos)?(s0="+",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c263)),s0===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s0="-",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c265))),s0}function peg$parsemultiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=createBinaryExprChain(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemultiplicative_operator(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c268)),s0===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s0="/",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c270)),s0===peg$FAILED&&(37===input.charCodeAt(peg$currPos)?(s0="%",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c272)))),s0}function peg$parseprimary(){var s0,s3,list;return(s0=function(){var s0,s1,s5,s9,s11,s13,s17;return s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseRPAREN())!==peg$FAILED?s0=s1={type:"cast",expr:s5,symbol:"as",target:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,precision){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+")"}}}(s5,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseCOMMA()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(e,precision,scale){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+", "+scale+")"}}}(s5,s13,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"signed"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c564)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_UNSIGNED()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_INTEGER())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,s,t){return{type:"cast",expr:e,symbol:"as",target:{dataType:s+(t?" "+t:"")}}}(s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)))),s0}())===peg$FAILED&&(s0=peg$parseliteral())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s5,s9;return s0=peg$currPos,(s1=peg$parseKW_COUNT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecount_arg())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseover_partition())!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:s5,over:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COUNT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecount_arg())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(name,arg){return{type:"aggr_func",name:name,args:arg}}(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"sum"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c531)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SUM":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"max"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c525)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MAX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"min"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c528)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"avg"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c534)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AVG":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:{expr:s5}}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s9;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseover_partition())!==peg$FAILED?s0=s1={type:"function",name:s1,args:s5||{type:"expr_list",value:[]},over:s9}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(name,l){return{type:"function",name:name,args:l||{type:"expr_list",value:[]}}}(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_date"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c627)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_time"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c654)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_CURRENT_TIMESTAMP())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c660)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"user"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c624)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c663)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"system_user"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c666)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SYSTEM_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseRPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(name){return{type:"function",name:name,args:{type:"expr_list",value:[]}}}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED))),s0}())===peg$FAILED&&(s0=peg$parsecase_expr())===peg$FAILED&&(s0=peg$parseinterval_expr())===peg$FAILED&&(s0=peg$parsecolumn_ref())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c273(s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((list=s3).parentheses=!0,s0=list):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsevar_decl()))),s0}function peg$parsecolumn_ref(){var s0,s1,s2,s3,s4,s5,s6,s8,tbl,col;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3,s4,s5]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parsecolumn())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=function(){var s0;return"->>"===input.substr(peg$currPos,3)?(s0="->>",peg$currPos+=3):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c743)),s0}())===peg$FAILED&&(s4=function(){var s0;return"->"===input.substr(peg$currPos,2)?(s0="->",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c741)),s0}()),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?((s6=peg$parseliteral_string())===peg$FAILED&&(s6=peg$parseliteral_numeric()),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=peg$parsecollate_expr())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(tbl,col,a,j,ca){const tableName=tbl&&tbl[0]||null;return columnList.add(`select::${tableName}::${col}`),{type:"column_ref",table:tableName,column:col,collate:ca,arrow:a,property:j}}(s1,s2,s4,s6,s8):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED&&(s5=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parsecolumn_name())!==peg$FAILED&&(s1=s1),(s0=s1)===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}())!==peg$FAILED?(tbl=s1,col=s5,columnList.add(`select::${tbl}::${col}`),s0=s1={type:"column_ref",table:tbl,column:col}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&(s1=function(col){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col}}(s1)),s0=s1)),s0}function peg$parseident(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(peg$c278(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}function peg$parsequoted_ident(){var s0;return(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1='"',peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c282)),s1!==peg$FAILED){if(s2=[],peg$c283.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c284)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c283.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c284));else s2=peg$FAILED;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3='"',peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c282)),s3!==peg$FAILED?(s1=peg$c285(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1="'",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s1!==peg$FAILED){if(s2=[],peg$c286.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c287)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c286.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c287));else s2=peg$FAILED;s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3="'",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s3!==peg$FAILED?(s1=peg$c285(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,96===input.charCodeAt(peg$currPos)?(s1="`",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c289)),s1!==peg$FAILED){if(s2=[],peg$c290.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c291)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c290.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c291));else s2=peg$FAILED;s2!==peg$FAILED?(96===input.charCodeAt(peg$currPos)?(s3="`",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c289)),s3!==peg$FAILED?(s1=peg$c285(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsecolumn(){var s0,s1;return s0=peg$currPos,(s1=peg$parsecolumn_name())!==peg$FAILED&&(peg$c278(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}function peg$parsecolumn_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parsecolumn_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsecolumn_part();s2!==peg$FAILED?s0=s1=peg$c294(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parseident_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseident_part();s2!==peg$FAILED?s0=s1=peg$c294(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_start(){var s0;return peg$c295.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c296)),s0}function peg$parseident_part(){var s0;return peg$c297.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c298)),s0}function peg$parsecolumn_part(){var s0;return peg$c299.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c300)),s0}function peg$parseparam(){var s1,s2,s3;return peg$currPos,s1=peg$currPos,58===input.charCodeAt(peg$currPos)?(s2=":",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c302)),s2!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1={type:"param",value:s1[1]}),s1}function peg$parseover_partition(){var s0,s9,s11;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"over"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c465)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsecolumn_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseorder_by_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={partitionby:s9,orderby:s11}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecount_arg(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s1;return peg$currPos,42===input.charCodeAt(peg$currPos)?(s1="*",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c268)),s1!==peg$FAILED&&(s1={type:"star",value:"*"}),s1}())!==peg$FAILED&&(s1={expr:s1}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DISTINCT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref())!==peg$FAILED?s0=s1={distinct:s1,expr:s3}:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseliteral(){var s0;return(s0=peg$parseliteral_string())===peg$FAILED&&(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"true"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c392)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!0}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"false"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c396)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!1}),s0=s1),s0}())===peg$FAILED&&(s0=peg$parseliteral_null())===peg$FAILED&&(s0=function(){var s0,s1,s3,s4,s5,s6,s8,ca;if(s0=peg$currPos,(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP())===peg$FAILED&&(s1=peg$parseKW_DATETIME()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s3=peg$currPos,39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s4!==peg$FAILED){for(s5=[],s6=peg$parsesingle_char();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsesingle_char();s5!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s6!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}else peg$currPos=s3,s3=peg$FAILED;s3!==peg$FAILED?(ca=s3,s1={type:s1.toLowerCase(),value:ca[1].join("")},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CURRENT_TIMESTAMP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseLPAREN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseRPAREN())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=(s6=function(type,lf,rt){if(lf&&rt)return!0}(0,s3,s5))?peg$FAILED:void 0)!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on update current_timestamp"===input.substr(peg$currPos,27).toLowerCase()?(s8=input.substr(peg$currPos,27),peg$currPos+=27):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c326)),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s1=function(type,lf,rt,up){return{type:"origin",value:(up?`${type} ${up}`:type).toLowerCase()}}(s1,0,0,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}()),s0}function peg$parseliteral_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"null"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c388)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"null",value:null}),s1}function peg$parseliteral_string(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=peg$currPos,39===input.charCodeAt(peg$currPos)?(s2="'",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_char();s3!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c134)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;if(s1!==peg$FAILED&&(s1=peg$c322(s1)),(s0=s1)===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,34===input.charCodeAt(peg$currPos)?(s2='"',peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c282)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_quote_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_quote_char();s3!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s4='"',peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c282)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(s1=peg$c322(s1)),s0=s1}return s0}function peg$parsesingle_quote_char(){var s0;return peg$c328.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c329)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parsesingle_char(){var s0;return peg$c330.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c331)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parseescape_char(){var s0,s1,s2,s3,s4,s5,h1,h2,h3,h4;return s0=peg$currPos,"\\'"===input.substr(peg$currPos,2)?(s1="\\'",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c333)),s1!==peg$FAILED&&(s1="'"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,'\\"'===input.substr(peg$currPos,2)?(s1='\\"',peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c336)),s1!==peg$FAILED&&(s1='"'),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\\\"===input.substr(peg$currPos,2)?(s1="\\\\",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c339)),s1!==peg$FAILED&&(s1="\\"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\/"===input.substr(peg$currPos,2)?(s1="\\/",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c342)),s1!==peg$FAILED&&(s1="/"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\b"===input.substr(peg$currPos,2)?(s1="\\b",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c345)),s1!==peg$FAILED&&(s1="\b"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\f"===input.substr(peg$currPos,2)?(s1="\\f",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c348)),s1!==peg$FAILED&&(s1="\f"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\n"===input.substr(peg$currPos,2)?(s1="\\n",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c351)),s1!==peg$FAILED&&(s1="\n"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\r"===input.substr(peg$currPos,2)?(s1="\\r",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c354)),s1!==peg$FAILED&&(s1="\r"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\t"===input.substr(peg$currPos,2)?(s1="\\t",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s1!==peg$FAILED&&(s1="\t"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\u"===input.substr(peg$currPos,2)?(s1="\\u",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c360)),s1!==peg$FAILED&&(s2=peg$parsehexDigit())!==peg$FAILED&&(s3=peg$parsehexDigit())!==peg$FAILED&&(s4=peg$parsehexDigit())!==peg$FAILED&&(s5=peg$parsehexDigit())!==peg$FAILED?(h1=s2,h2=s3,h3=s4,h4=s5,s0=s1=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1="\\",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c363)),s1!==peg$FAILED&&(s1="\\"),s0=s1)))))))))),s0}function peg$parseliteral_numeric(){var s1,n;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parseexp())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"bigint",value:s1+s2+s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,frac){const numStr=int_+frac;return isBigInt(int_)?{type:"bigint",value:numStr}:parseFloat(numStr)}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parseexp())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,exp){return{type:"bigint",value:int_+exp}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?(s1=function(int_){return isBigInt(int_)?{type:"bigint",value:int_}:parseFloat(int_)}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)))),s0}())!==peg$FAILED&&(s1=(n=s1)&&"bigint"===n.type?n:{type:"number",value:n}),s1}function peg$parseint(){var s0,s1,s2;return(s0=peg$parsedigits())===peg$FAILED&&(s0=peg$parsedigit())===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c265)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c263))),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c265)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c263))),s1!==peg$FAILED&&(s2=peg$parsedigit())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefrac(){var s0,s1,s2;return s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=".",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="."+s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexp(){var s0,s1,s2;return s0=peg$currPos,(s1=function(){var s0,s1,s2,sign;return s0=peg$currPos,peg$c382.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c383)),s1!==peg$FAILED?(peg$c384.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c385)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1+=null!==(sign=s2)?sign:"":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1+=s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedigits(){var s1,s2;if(peg$currPos,s1=[],(s2=peg$parsedigit())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedigit();else s1=peg$FAILED;return s1!==peg$FAILED&&(s1=s1.join("")),s1}function peg$parsedigit(){var s0;return peg$c378.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s0}function peg$parsehexDigit(){var s0;return peg$c380.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c381)),s0}function peg$parseKW_DEFAULT(){var s0,s1,s2,s3;return s0=peg$currPos,"default"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TO(){var s0,s1,s2,s3;return s0=peg$currPos,"to"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c394)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DROP(){var s0,s1,s2,s3;return s0=peg$currPos,"drop"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c400)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DROP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UPDATE(){var s0,s1,s2,s3;return s0=peg$currPos,"update"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c409)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CREATE(){var s0,s1,s2,s3;return s0=peg$currPos,"create"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c411)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TEMPORARY(){var s0,s1,s2,s3;return s0=peg$currPos,"temporary"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c413)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IF_NOT_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"if not exists"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c415)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_REPLACE(){var s0,s1,s2,s3;return s0=peg$currPos,"replace"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c423)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_RENAME(){var s0,s1,s2,s3;return s0=peg$currPos,"rename"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c425)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_PARTITION(){var s0,s1,s2,s3;return s0=peg$currPos,"partition"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c431)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PARTITION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTO(){var s0,s1,s2,s3;return s0=peg$currPos,"into"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c434)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SET(){var s0,s1,s2,s3;return s0=peg$currPos,"set"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c438)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AS(){var s0,s1,s2,s3;return s0=peg$currPos,"as"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c442)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLE(){var s0,s1,s2,s3;return s0=peg$currPos,"table"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c444)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLES(){var s0,s1,s2,s3;return s0=peg$currPos,"tables"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c447)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ON(){var s0,s1,s2,s3;return s0=peg$currPos,"on"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c451)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_JOIN(){var s0,s1,s2,s3;return s0=peg$currPos,"join"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c461)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OUTER(){var s0,s1,s2,s3;return s0=peg$currPos,"outer"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c463)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNION(){var s0,s1,s2,s3;return s0=peg$currPos,"union"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c467)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_USING(){var s0,s1,s2,s3;return s0=peg$currPos,"using"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c471)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WITH(){var s0,s1,s2,s3;return s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c185)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BY(){var s0,s1,s2,s3;return s0=peg$currPos,"by"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c477)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ALL(){var s0,s1,s2,s3;return s0=peg$currPos,"all"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c494)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DISTINCT(){var s0,s1,s2,s3;return s0=peg$currPos,"distinct"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c497)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DISTINCT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BETWEEN(){var s0,s1,s2,s3;return s0=peg$currPos,"between"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c500)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BETWEEN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IN(){var s0,s1,s2,s3;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c503)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IS(){var s0,s1,s2,s3;return s0=peg$currPos,"is"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c506)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_LIKE(){var s0,s1,s2,s3;return s0=peg$currPos,"like"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c509)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LIKE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"exists"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c512)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="EXISTS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NOT(){var s0,s1,s2,s3;return s0=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c77)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NOT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AND(){var s0,s1,s2,s3;return s0=peg$currPos,"and"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c516)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OR(){var s0,s1,s2,s3;return s0=peg$currPos,"or"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c519)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COUNT(){var s0,s1,s2,s3;return s0=peg$currPos,"count"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c522)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COUNT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CASE(){var s0,s1,s2,s3;return s0=peg$currPos,"case"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c540)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CAST(){var s0,s1,s2,s3;return s0=peg$currPos,"cast"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c550)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"char"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c552)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"varchar"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c555)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="VARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NUMERIC(){var s0,s1,s2,s3;return s0=peg$currPos,"numeric"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c558)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NUMERIC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DECIMAL(){var s0,s1,s2,s3;return s0=peg$currPos,"decimal"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c561)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DECIMAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNSIGNED(){var s0,s1,s2,s3;return s0=peg$currPos,"unsigned"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c567)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNSIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INT(){var s0,s1,s2,s3;return s0=peg$currPos,"int"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c570)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTEGER(){var s0,s1,s2,s3;return s0=peg$currPos,"integer"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c576)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTEGER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SMALLINT(){var s0,s1,s2,s3;return s0=peg$currPos,"smallint"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c582)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TINYINT(){var s0,s1,s2,s3;return s0=peg$currPos,"tinyint"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c585)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BIGINT(){var s0,s1,s2,s3;return s0=peg$currPos,"bigint"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c600)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIGINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FLOAT(){var s0,s1,s2,s3;return s0=peg$currPos,"float"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c603)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FLOAT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DOUBLE(){var s0,s1,s2,s3;return s0=peg$currPos,"double"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c606)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DOUBLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATE(){var s0,s1,s2,s3;return s0=peg$currPos,"date"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c609)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATETIME(){var s0,s1,s2,s3;return s0=peg$currPos,"datetime"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c612)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATETIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIME(){var s0,s1,s2,s3;return s0=peg$currPos,"time"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c615)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"timestamp"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c618)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CURRENT_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"current_timestamp"===input.substr(peg$currPos,17).toLowerCase()?(s1=input.substr(peg$currPos,17),peg$currPos+=17):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c657)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VAR_PRE(){var s0;return(s0=function(){var s0;return"@@"===input.substr(peg$currPos,2)?(s0="@@",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c684)),s0}())===peg$FAILED&&(s0=function(){var s0;return 64===input.charCodeAt(peg$currPos)?(s0="@",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c682)),s0}())===peg$FAILED&&(s0=function(){var s0;return 36===input.charCodeAt(peg$currPos)?(s0="$",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c686)),s0}()),s0}function peg$parseKW_ASSIGIN_EQUAL(){var s0;return 61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c216)),s0}function peg$parseKW_ADD(){var s0,s1,s2,s3;return s0=peg$currPos,"add"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c694)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ADD":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COLUMN(){var s0,s1,s2,s3;return s0=peg$currPos,"column"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c697)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLUMN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INDEX(){var s0,s1,s2,s3;return s0=peg$currPos,"index"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c700)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INDEX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_KEY(){var s0,s1,s2,s3;return s0=peg$currPos,"key"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COMMENT(){var s0,s1,s2,s3;return s0=peg$currPos,"comment"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c712)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COMMENT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CONSTRAINT(){var s0,s1,s2,s3;return s0=peg$currPos,"constraint"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c715)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CONSTRAINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseDOT(){var s0;return 46===input.charCodeAt(peg$currPos)?(s0=".",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s0}function peg$parseCOMMA(){var s0;return 44===input.charCodeAt(peg$currPos)?(s0=",",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c733)),s0}function peg$parseSTAR(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c268)),s0}function peg$parseLPAREN(){var s0;return 40===input.charCodeAt(peg$currPos)?(s0="(",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c162)),s0}function peg$parseRPAREN(){var s0;return 41===input.charCodeAt(peg$currPos)?(s0=")",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c164)),s0}function peg$parseSEMICOLON(){var s0;return 59===input.charCodeAt(peg$currPos)?(s0=";",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c739)),s0}function peg$parseLOGIC_OPERATOR(){var s0;return(s0=function(){var s0;return"||"===input.substr(peg$currPos,2)?(s0="||",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c745)),s0}())===peg$FAILED&&(s0=function(){var s0;return"&&"===input.substr(peg$currPos,2)?(s0="&&",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c747)),s0}()),s0}function peg$parse__(){var s0,s1;for(s0=[],(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());s1!==peg$FAILED;)s0.push(s1),(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());return s0}function peg$parsecomment(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"/*"===input.substr(peg$currPos,2)?(s1="/*",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c749)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c751)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c751)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?("*/"===input.substr(peg$currPos,2)?(s3="*/",peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c751)),s3!==peg$FAILED?s0=s1=[s1,s2,s3]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"--"===input.substr(peg$currPos,2)?(s1="--",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c753)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,35===input.charCodeAt(peg$currPos)?(s1="#",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c755)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsekeyword_comment(){var s0,s1,s3,s5,k,s,c;return s0=peg$currPos,(s1=peg$parseKW_COMMENT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?(s=s3,c=s5,s0=s1={type:(k=s1).toLowerCase(),keyword:k.toLowerCase(),symbol:s,value:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsechar(){var s0;return input.length>peg$currPos?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c757)),s0}function peg$parsewhitespace(){var s0;return peg$c758.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c759)),s0}function peg$parseEOL(){var s0,s1;if((s0=function(){var s0,s1;return s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c757)),peg$silentFails--,s1===peg$FAILED?s0=void 0:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED)if(s0=[],peg$c364.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c365)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c364.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c365));else s0=peg$FAILED;return s0}function peg$parseproc_stmt(){var s0,s3;return s0=peg$currPos,varList=[],void 0!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseassign_stmt())===peg$FAILED&&(s3=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return"return"===input.substr(peg$currPos,6).toLowerCase()?(s0=input.substr(peg$currPos,6),peg$currPos+=6):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c688)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_expr())!==peg$FAILED?s0={type:"return",expr:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED?s0={stmt:s3,vars:varList}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseassign_stmt(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsevar_decl())===peg$FAILED&&(s1=peg$parsewithout_prefix_var_decl()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return":="===input.substr(peg$currPos,2)?(s0=":=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c690)),s0}())===peg$FAILED&&(s3=peg$parseKW_ASSIGIN_EQUAL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseproc_expr())!==peg$FAILED?s0=s1={type:"assign",left:s1,symbol:s3,right:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_expr(){var s0;return(s0=peg$parseselect_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseon_clause())!==peg$FAILED?s0=s1={type:"join",ltable:s1,rtable:s5,op:s3,on:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseproc_additive_expr())===peg$FAILED&&(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return 91===input.charCodeAt(peg$currPos)?(s0="[",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c735)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_primary_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0;return 93===input.charCodeAt(peg$currPos)?(s0="]",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c737)),s0}()!==peg$FAILED?s0={type:"array",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parseproc_additive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_multiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c236(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_multiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c236(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_primary(){var s0,s3;return(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parsevar_decl())===peg$FAILED&&(s0=peg$parseproc_func_call())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_additive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c273(s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_func_name(){var s0,s1,s2,s3,s4,s5,s6;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){let name=dt;return null!==tail&&(name=`${dt}.${tail[3]}`),name}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_func_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseproc_primary_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:{type:"expr_list",value:s5}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:null}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_primary_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevar_decl(){var s0,s1,s2,p,d;return s0=peg$currPos,(s1=peg$parseKW_VAR_PRE())!==peg$FAILED&&(s2=peg$parsewithout_prefix_var_decl())!==peg$FAILED?(p=s1,d=s2,s0=s1={type:"var",...d,prefix:p}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewithout_prefix_var_decl(){var s0,s1,s2,name,m;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(s2=function(){var s1,s2,s3,s4;for(peg$currPos,s1=[],s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);return s1!==peg$FAILED&&(s1=function(l){const s=[];for(let i=0;i<l.length;i++)s.push(l[i][1]);return s}(s1)),s1}())!==peg$FAILED?(name=s1,m=s2,varList.push(name),s0=s1={type:"var",name:name,members:m,prefix:null}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedata_type(){var s0,s1;return(s0=function(){var s0,s1,s5,s6;if(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],peg$c378.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c378.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379));else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={dataType:s1,length:parseInt(s5.join(""),10)},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CHAR())!==peg$FAILED&&(s1=peg$c773(s1)),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_VARCHAR())!==peg$FAILED&&(s1=peg$c773(s1)),s0=s1)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,r,s;if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED)if((s2=peg$parse__())!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if((s4=peg$parse__())!==peg$FAILED){if(s5=[],peg$c378.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c378.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379));else s5=peg$FAILED;if(s5!==peg$FAILED)if((s6=peg$parse__())!==peg$FAILED){if(s7=peg$currPos,(s8=peg$parseCOMMA())!==peg$FAILED)if((s9=peg$parse__())!==peg$FAILED){if(s10=[],peg$c378.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s11!==peg$FAILED)for(;s11!==peg$FAILED;)s10.push(s11),peg$c378.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379));else s10=peg$FAILED;s10!==peg$FAILED?s7=s8=[s8,s9,s10]:(peg$currPos=s7,s7=peg$FAILED)}else peg$currPos=s7,s7=peg$FAILED;else peg$currPos=s7,s7=peg$FAILED;s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseRPAREN())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsenumeric_type_suffix())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(r=s7,s=s11,s1={dataType:s1,length:parseInt(s5.join(""),10),scale:r&&parseInt(r[2].join(""),10),parentheses:!0,suffix:s},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED){if(s2=[],peg$c378.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c378.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379));else s2=peg$FAILED;s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=peg$parsenumeric_type_suffix())===peg$FAILED&&(s4=null),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(s1=function(t,l,s){return{dataType:t,length:parseInt(l.join(""),10),suffix:s}}(s1,s2,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parsenumeric_type_suffix())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(s1=function(t,s){return{dataType:t,suffix:s}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))}return s0}())===peg$FAILED&&((s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_DATETIME())===peg$FAILED&&(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP()),s1!==peg$FAILED&&(s1=peg$c773(s1)),(s0=s1)===peg$FAILED)&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"json"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c579)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSON":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c773(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"tinytext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c588)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"text"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c591)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"mediumtext"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c594)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MEDIUMTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"longtext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c597)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LONGTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1={dataType:s1}),s1}()),s0}function peg$parsenumeric_type_suffix(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_UNSIGNED())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"zerofill"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c573)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ZEROFILL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(un,ze){const result=[];return un&&result.push(un),ze&&result.push(ze),result}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}const reservedMap={ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!0,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,RECURSIVE:!0,RENAME:!0,READ:!0,RIGHT:!0,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,TYPE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,SESSION:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0};function createUnaryExpr(op,e){return{type:"unary_expr",operator:op,expr:e}}function createBinaryExpr(op,left,right){return{type:"binary_expr",operator:op,left:left,right:right}}function isBigInt(numberStr){const previousMaxSafe=BigInt(Number.MAX_SAFE_INTEGER);return!(BigInt(numberStr)<previousMaxSafe)}function createList(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][3]);return result}function createBinaryExprChain(head,tail){let result=head;for(let i=0;i<tail.length;i++)result=createBinaryExpr(tail[i][1],result,tail[i][3]);return result}function queryTableAlias(tableName){const alias=tableAlias[tableName];return alias||tableName||null}function columnListTableAlias(columnList){const columns=[];for(let column of columnList.keys()){const columnInfo=column.split("::");if(!columnInfo){columns.push(column);break}columnInfo&&columnInfo[1]&&(columnInfo[1]=queryTableAlias(columnInfo[1])),columns.push(columnInfo.join("::"))}return columns}let varList=[];const tableList=new Set,columnList=new Set,tableAlias={};if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(25)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BigInt){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var i,escapedParts="";for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}return"Expected "+function(expected){var i,j,expectation,descriptions=new Array(expected.length);for(i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){options=void 0!==options?options:{};var peg$result,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c7=function(head,tail){return createList(head,tail)},peg$c9=peg$literalExpectation("AUTO_INCREMENT",!0),peg$c11=peg$literalExpectation("UNIQUE",!0),peg$c13=peg$literalExpectation("PRIMARY",!0),peg$c15=peg$literalExpectation("KEY",!0),peg$c19=peg$literalExpectation("COLUMN_FORMAT",!0),peg$c21=peg$literalExpectation("FIXED",!0),peg$c23=peg$literalExpectation("DYNAMIC",!0),peg$c25=peg$literalExpectation("DEFAULT",!0),peg$c28=peg$literalExpectation("STORAGE",!0),peg$c30=peg$literalExpectation("DISK",!0),peg$c32=peg$literalExpectation("MEMORY",!0),peg$c44=peg$literalExpectation("ALGORITHM",!0),peg$c46=peg$literalExpectation("INSTANT",!0),peg$c48=peg$literalExpectation("INPLACE",!0),peg$c50=peg$literalExpectation("COPY",!0),peg$c53=peg$literalExpectation("LOCK",!0),peg$c55=peg$literalExpectation("NONE",!0),peg$c57=peg$literalExpectation("SHARED",!0),peg$c59=peg$literalExpectation("EXCLUSIVE",!0),peg$c65=peg$literalExpectation("PRIMARY KEY",!0),peg$c69=peg$literalExpectation("FOREIGN KEY",!0),peg$c72=peg$literalExpectation("MATCH FULL",!0),peg$c74=peg$literalExpectation("MATCH PARTIAL",!0),peg$c76=peg$literalExpectation("MATCH SIMPLE",!0),peg$c79=peg$literalExpectation("ON DELETE",!0),peg$c81=peg$literalExpectation("ON UPDATE",!0),peg$c84=peg$literalExpectation("RESTRICT",!0),peg$c86=peg$literalExpectation("CASCADE",!0),peg$c88=peg$literalExpectation("SET NULL",!0),peg$c90=peg$literalExpectation("NO ACTION",!0),peg$c92=peg$literalExpectation("SET DEFAULT",!0),peg$c96=peg$literalExpectation("AVG_ROW_LENGTH",!0),peg$c98=peg$literalExpectation("KEY_BLOCK_SIZE",!0),peg$c100=peg$literalExpectation("MAX_ROWS",!0),peg$c102=peg$literalExpectation("MIN_ROWS",!0),peg$c104=peg$literalExpectation("STATS_SAMPLE_PAGES",!0),peg$c107=peg$literalExpectation("CHARACTER SET",!0),peg$c109=peg$literalExpectation("CHARSET",!0),peg$c111=peg$literalExpectation("COLLATE",!0),peg$c114=peg$literalExpectation("CONNECTION",!0),peg$c117=peg$literalExpectation("COMPRESSION",!0),peg$c119=peg$literalExpectation("'",!1),peg$c121=peg$literalExpectation("ZLIB",!0),peg$c123=peg$literalExpectation("LZ4",!0),peg$c126=peg$literalExpectation("ENGINE",!0),peg$c133=peg$literalExpectation("READ",!0),peg$c135=peg$literalExpectation("LOCAL",!0),peg$c138=peg$literalExpectation("LOW_PRIORITY",!0),peg$c140=peg$literalExpectation("WRITE",!0),peg$c147=peg$literalExpectation("(",!1),peg$c149=peg$literalExpectation(")",!1),peg$c163=peg$literalExpectation("BTREE",!0),peg$c165=peg$literalExpectation("HASH",!0),peg$c170=peg$literalExpectation("WITH",!0),peg$c172=peg$literalExpectation("PARSER",!0),peg$c175=peg$literalExpectation("VISIBLE",!0),peg$c177=peg$literalExpectation("INVISIBLE",!0),peg$c200=peg$literalExpectation("=",!1),peg$c207=peg$literalExpectation("DUPLICATE",!0),peg$c219=function(head,tail){return createBinaryExprChain(head,tail)},peg$c221=peg$literalExpectation("!",!1),peg$c225=function(nk){return nk[0]+" "+nk[2]},peg$c228=peg$literalExpectation(">=",!1),peg$c230=peg$literalExpectation(">",!1),peg$c232=peg$literalExpectation("<=",!1),peg$c234=peg$literalExpectation("<>",!1),peg$c236=peg$literalExpectation("<",!1),peg$c238=peg$literalExpectation("!=",!1),peg$c246=peg$literalExpectation("+",!1),peg$c248=peg$literalExpectation("-",!1),peg$c251=peg$literalExpectation("*",!1),peg$c253=peg$literalExpectation("/",!1),peg$c255=peg$literalExpectation("%",!1),peg$c256=function(e){return e.parentheses=!0,e},peg$c260=function(name){return!0===reservedMap[name.toUpperCase()]},peg$c264=peg$literalExpectation('"',!1),peg$c265=/^[^"]/,peg$c266=peg$classExpectation(['"'],!0,!1),peg$c267=function(chars){return chars.join("")},peg$c268=/^[^']/,peg$c269=peg$classExpectation(["'"],!0,!1),peg$c271=peg$literalExpectation("`",!1),peg$c272=/^[^`]/,peg$c273=peg$classExpectation(["`"],!0,!1),peg$c275=function(start,parts){return start+parts.join("")},peg$c276=/^[A-Za-z_]/,peg$c277=peg$classExpectation([["A","Z"],["a","z"],"_"],!1,!1),peg$c278=/^[A-Za-z0-9_]/,peg$c279=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),peg$c280=/^[A-Za-z0-9_:]/,peg$c281=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_",":"],!1,!1),peg$c283=peg$literalExpectation(":",!1),peg$c300=function(ca){return{type:"string",value:ca[1].join("")}},peg$c304=peg$literalExpectation("ON UPDATE CURRENT_TIMESTAMP",!0),peg$c306=/^[^"\\\0-\x1F\x7F]/,peg$c307=peg$classExpectation(['"',"\\",["\0",""],""],!0,!1),peg$c308=/^[^'\\]/,peg$c309=peg$classExpectation(["'","\\"],!0,!1),peg$c311=peg$literalExpectation("\\'",!1),peg$c314=peg$literalExpectation('\\"',!1),peg$c317=peg$literalExpectation("\\\\",!1),peg$c320=peg$literalExpectation("\\/",!1),peg$c323=peg$literalExpectation("\\b",!1),peg$c326=peg$literalExpectation("\\f",!1),peg$c329=peg$literalExpectation("\\n",!1),peg$c332=peg$literalExpectation("\\r",!1),peg$c335=peg$literalExpectation("\\t",!1),peg$c338=peg$literalExpectation("\\u",!1),peg$c341=peg$literalExpectation("\\",!1),peg$c342=/^[\n\r]/,peg$c343=peg$classExpectation(["\n","\r"],!1,!1),peg$c352=peg$literalExpectation(".",!1),peg$c356=/^[0-9]/,peg$c357=peg$classExpectation([["0","9"]],!1,!1),peg$c358=/^[0-9a-fA-F]/,peg$c359=peg$classExpectation([["0","9"],["a","f"],["A","F"]],!1,!1),peg$c360=/^[eE]/,peg$c361=peg$classExpectation(["e","E"],!1,!1),peg$c362=/^[+\-]/,peg$c363=peg$classExpectation(["+","-"],!1,!1),peg$c366=peg$literalExpectation("NULL",!0),peg$c368=peg$literalExpectation("NOT NULL",!0),peg$c370=peg$literalExpectation("TRUE",!0),peg$c372=peg$literalExpectation("TO",!0),peg$c374=peg$literalExpectation("FALSE",!0),peg$c378=(peg$literalExpectation("SHOW",!0),peg$literalExpectation("DROP",!0)),peg$c381=peg$literalExpectation("USE",!0),peg$c383=peg$literalExpectation("ALTER",!0),peg$c385=peg$literalExpectation("SELECT",!0),peg$c387=peg$literalExpectation("UPDATE",!0),peg$c389=peg$literalExpectation("CREATE",!0),peg$c391=peg$literalExpectation("TEMPORARY",!0),peg$c393=peg$literalExpectation("IF NOT EXISTS",!0),peg$c395=peg$literalExpectation("DELETE",!0),peg$c397=peg$literalExpectation("INSERT",!0),peg$c399=peg$literalExpectation("RECURSIVE",!1),peg$c401=peg$literalExpectation("REPLACE",!0),peg$c403=peg$literalExpectation("RENAME",!0),peg$c405=peg$literalExpectation("IGNORE",!0),peg$c409=(peg$literalExpectation("EXPLAIN",!0),peg$literalExpectation("PARTITION",!0)),peg$c412=peg$literalExpectation("INTO",!0),peg$c414=peg$literalExpectation("FROM",!0),peg$c416=peg$literalExpectation("SET",!0),peg$c418=peg$literalExpectation("UNLOCK",!0),peg$c420=peg$literalExpectation("AS",!0),peg$c422=peg$literalExpectation("TABLE",!0),peg$c425=peg$literalExpectation("TABLES",!0),peg$c429=peg$literalExpectation("ON",!0),peg$c431=peg$literalExpectation("LEFT",!0),peg$c433=peg$literalExpectation("RIGHT",!0),peg$c435=peg$literalExpectation("FULL",!0),peg$c437=peg$literalExpectation("INNER",!0),peg$c439=peg$literalExpectation("JOIN",!0),peg$c441=peg$literalExpectation("OUTER",!0),peg$c443=peg$literalExpectation("UNION",!0),peg$c445=peg$literalExpectation("VALUES",!0),peg$c447=peg$literalExpectation("USING",!0),peg$c449=peg$literalExpectation("WHERE",!0),peg$c451=peg$literalExpectation("GROUP",!0),peg$c453=peg$literalExpectation("BY",!0),peg$c455=peg$literalExpectation("ORDER",!0),peg$c457=peg$literalExpectation("HAVING",!0),peg$c459=peg$literalExpectation("LIMIT",!0),peg$c461=peg$literalExpectation("OFFSET",!0),peg$c464=peg$literalExpectation("ASC",!0),peg$c467=peg$literalExpectation("DESC",!0),peg$c470=peg$literalExpectation("ALL",!0),peg$c473=peg$literalExpectation("DISTINCT",!0),peg$c476=peg$literalExpectation("BETWEEN",!0),peg$c479=peg$literalExpectation("IN",!0),peg$c482=peg$literalExpectation("IS",!0),peg$c485=peg$literalExpectation("LIKE",!0),peg$c488=peg$literalExpectation("EXISTS",!0),peg$c491=peg$literalExpectation("NOT",!0),peg$c494=peg$literalExpectation("AND",!0),peg$c497=peg$literalExpectation("OR",!0),peg$c500=peg$literalExpectation("COUNT",!0),peg$c503=peg$literalExpectation("MAX",!0),peg$c506=peg$literalExpectation("MIN",!0),peg$c509=peg$literalExpectation("SUM",!0),peg$c512=peg$literalExpectation("AVG",!0),peg$c515=peg$literalExpectation("CALL",!0),peg$c518=peg$literalExpectation("CASE",!0),peg$c520=peg$literalExpectation("WHEN",!0),peg$c522=peg$literalExpectation("THEN",!0),peg$c524=peg$literalExpectation("ELSE",!0),peg$c526=peg$literalExpectation("END",!0),peg$c528=peg$literalExpectation("CAST",!0),peg$c530=peg$literalExpectation("CHAR",!0),peg$c533=peg$literalExpectation("VARCHAR",!0),peg$c536=peg$literalExpectation("NUMERIC",!0),peg$c539=peg$literalExpectation("DECIMAL",!0),peg$c542=peg$literalExpectation("SIGNED",!0),peg$c545=peg$literalExpectation("UNSIGNED",!0),peg$c548=peg$literalExpectation("INT",!0),peg$c551=peg$literalExpectation("ZEROFILL",!0),peg$c554=peg$literalExpectation("INTEGER",!0),peg$c557=peg$literalExpectation("JSON",!0),peg$c560=peg$literalExpectation("SMALLINT",!0),peg$c563=peg$literalExpectation("TINYINT",!0),peg$c566=peg$literalExpectation("TINYTEXT",!0),peg$c569=peg$literalExpectation("TEXT",!0),peg$c572=peg$literalExpectation("MEDIUMTEXT",!0),peg$c575=peg$literalExpectation("LONGTEXT",!0),peg$c578=peg$literalExpectation("BIGINT",!0),peg$c581=peg$literalExpectation("FLOAT",!0),peg$c584=peg$literalExpectation("DOUBLE",!0),peg$c587=peg$literalExpectation("DATE",!0),peg$c590=peg$literalExpectation("DATETIME",!0),peg$c593=peg$literalExpectation("TIME",!0),peg$c596=peg$literalExpectation("TIMESTAMP",!0),peg$c599=peg$literalExpectation("TRUNCATE",!0),peg$c602=peg$literalExpectation("USER",!0),peg$c605=peg$literalExpectation("CURRENT_DATE",!0),peg$c611=(peg$literalExpectation("ADDDATE",!0),peg$literalExpectation("INTERVAL",!0)),peg$c614=peg$literalExpectation("YEAR",!0),peg$c617=peg$literalExpectation("MONTH",!0),peg$c620=peg$literalExpectation("DAY",!0),peg$c623=peg$literalExpectation("HOUR",!0),peg$c626=peg$literalExpectation("MINUTE",!0),peg$c629=peg$literalExpectation("SECOND",!0),peg$c632=peg$literalExpectation("CURRENT_TIME",!0),peg$c635=peg$literalExpectation("CURRENT_TIMESTAMP",!0),peg$c638=peg$literalExpectation("CURRENT_USER",!0),peg$c641=peg$literalExpectation("SESSION_USER",!0),peg$c644=peg$literalExpectation("SYSTEM_USER",!0),peg$c647=peg$literalExpectation("GLOBAL",!0),peg$c650=peg$literalExpectation("SESSION",!0),peg$c654=peg$literalExpectation("PERSIST",!0),peg$c657=peg$literalExpectation("PERSIST_ONLY",!0),peg$c660=peg$literalExpectation("@",!1),peg$c662=peg$literalExpectation("@@",!1),peg$c664=peg$literalExpectation("$",!1),peg$c666=peg$literalExpectation("return",!0),peg$c668=peg$literalExpectation(":=",!1),peg$c670=peg$literalExpectation("DUAL",!0),peg$c672=peg$literalExpectation("ADD",!0),peg$c675=peg$literalExpectation("COLUMN",!0),peg$c678=peg$literalExpectation("INDEX",!0),peg$c682=peg$literalExpectation("FULLTEXT",!0),peg$c685=peg$literalExpectation("SPATIAL",!0),peg$c690=peg$literalExpectation("COMMENT",!0),peg$c693=peg$literalExpectation("CONSTRAINT",!0),peg$c696=peg$literalExpectation("REFERENCES",!0),peg$c699=peg$literalExpectation("SQL_CALC_FOUND_ROWS",!0),peg$c701=peg$literalExpectation("SQL_CACHE",!0),peg$c703=peg$literalExpectation("SQL_NO_CACHE",!0),peg$c705=peg$literalExpectation("SQL_SMALL_RESULT",!0),peg$c707=peg$literalExpectation("SQL_BIG_RESULT",!0),peg$c709=peg$literalExpectation("SQL_BUFFER_RESULT",!0),peg$c711=peg$literalExpectation(",",!1),peg$c713=peg$literalExpectation("[",!1),peg$c715=peg$literalExpectation("]",!1),peg$c717=peg$literalExpectation(";",!1),peg$c719=peg$literalExpectation("||",!1),peg$c721=peg$literalExpectation("&&",!1),peg$c723=peg$literalExpectation("/*",!1),peg$c725=peg$literalExpectation("*/",!1),peg$c727=peg$literalExpectation("--",!1),peg$c729=peg$literalExpectation("#",!1),peg$c731={type:"any"},peg$c732=/^[ \t\n\r]/,peg$c733=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c747=function(t){return{dataType:t}},peg$currPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s2;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecrud_stmt())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=function(head,tail){const cur=[head&&head.ast||head];for(let i=0;i<tail.length;i++)tail[i][3]&&0!==tail[i][3].length&&cur.push(tail[i][3]&&tail[i][3].ast||tail[i][3]);return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:cur}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s2=peg$parsecmd_stmt())===peg$FAILED&&(s2=peg$parsecrud_stmt()),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecmd_stmt(){var s0;return(s0=function(){var s0,s1,s5,a,t;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,s11,s13,s15,s17,s19,a,tp,ife,t,c,to,ir,as,qe;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecreate_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?(s1=peg$c7(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s2,s3;return s0=peg$currPos,"ignore"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c405)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=peg$parseKW_REPLACE()),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseKW_AS())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parseunion_stmt())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,tp=s3,ife=s7,c=s11,to=s13,ir=s15,as=s17,qe=s19,(t=s9)&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,ignore_replace:ir&&ir[0].toLowerCase(),as:as&&as[0].toLowerCase(),query_expr:qe&&qe.ast,create_definitions:c,table_options:to}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function peg$parsecreate_like_table(){var s0,s3,e;return(s0=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_LIKE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"like",table:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_like_table())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((e=s3).parentheses=!0,s0=e):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(a,tp,ife,t,lt){return t&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,like:lt}}}(s1,s3,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,a,kw,t;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"truncate"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c599)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TRUNCATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,kw=s3,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),keyword:kw,table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,t;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_to_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?((t=s5).forEach(tg=>tg.forEach(dt=>dt.table&&tableList.add(`rename::${dt.db}::${dt.table}`))),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"rename",table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"call"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c515)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_func_call())!==peg$FAILED?(e=s3,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"call",expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,d;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"use"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c381)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(d=s3,tableList.add(`use::${d}::null`),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"use",db:d}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,t,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"alter"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c383)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsealter_action())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(e=s7,(t=s5)&&t.length>0&&t.forEach(table=>tableList.add(`alter::${table.db}::${table.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"alter",table:t,expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,a;return s0=peg$currPos,(s1=peg$parseKW_SET())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"global"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c647)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GLOBAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c650)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"local"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c135)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LOCAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c654)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist_only"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c657)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST_ONLY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseassign_stmt())!==peg$FAILED?(kw=s3,(a=s5).keyword=kw,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"set",expr:a}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,ltl;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parselock_table())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(ltl=s5,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"lock",keyword:"tables",tables:ltl}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unlock"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c418)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"unlock",keyword:"tables"}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecrud_stmt(){var s0;return(s0=peg$parseunion_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,t,l,w;return s0=peg$currPos,(s1=peg$parseKW_UPDATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseset_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsewhere_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED?(l=s7,w=s9,(t=s3)&&t.forEach(tableInfo=>{const{db:db,as:as,table:table}=tableInfo;tableList.add(`update::${db}::${table}`)}),l&&l.forEach(col=>columnList.add(`update::${col.table}::${col.column}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"update",table:t,set:l,where:w}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s11,s15,s17;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INTO())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s15=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseon_duplicate_update_stmt())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(ri,t,p,c,v,odp){if(t&&(tableList.add(`insert::${t.db}::${t.table}`),t.as=null),c){let table=t&&t.table||null;c.forEach(c=>columnList.add(`insert::${table}::${c}`))}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:c,values:v,partition:p,on_duplicate_update:odp}}}(s1,s5,s7,s11,s15,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,s9,s11,ri,t,p,v,odp;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_INTO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_duplicate_update_stmt())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ri=s1,p=s7,v=s9,odp=s11,(t=s5)&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:null,values:v,partition:p,on_duplicate_update:odp}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"delete"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c395)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsetable_ref_list())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsefrom_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsewhere_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?(s1=function(t,f,w){if(f&&f.forEach(info=>{info.table&&tableList.add(`delete::${info.db}::${info.table}`),columnList.add(`delete::${info.table}::(.*)`)}),null===t&&1===f.length){const tableInfo=f[0];t=[{db:tableInfo.db,table:tableInfo.table,as:tableInfo.as,addition:!0}]}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"delete",table:t,from:f,where:w}}}(s3,s5,s7),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecmd_stmt())===peg$FAILED&&(s0=function(){var s0,s1;for(s0=[],s1=peg$parseproc_stmt();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseproc_stmt();return s0}()),s0}function peg$parseunion_stmt(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseselect_stmt())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){let cur=head;for(let i=0;i<tail.length;i++)cur._next=tail[i][5],cur.union=tail[i][3]?"union all":"union",cur=cur._next;return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:head}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecreate_definition(){var s0;return(s0=peg$parsecreate_column_definition())===peg$FAILED&&(s0=peg$parsecreate_index_definition())===peg$FAILED&&(s0=peg$parsecreate_fulltext_spatial_index_definition())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,s9,kc,p,t,de,id;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("primary key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c65)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s3,t=s5,de=s7,id=s9,s1={constraint:(kc=s1)&&kc.constraint,definition:de,constraint_type:p.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,resource:"constraint",index_options:id},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_INDEX())===peg$FAILED&&(s5=peg$parseKW_KEY()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsecolumn())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_type())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseindex_options())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,u,p,i,t,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p&&`${u.toLowerCase()} ${p.toLowerCase()}`||u.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,index:i,resource:"constraint",index_options:id}}(s1,s3,s5,s7,s9,s11,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("foreign key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c69)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsereference_definition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,p,i,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p,keyword:kc&&kc.keyword,index:i,resource:"constraint",reference_definition:id}}(s1,s3,s5,s7,s9),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}()),s0}function peg$parsecreate_column_definition(){var s0,s1,s3,s5,s7,s9,s11,s12,s13,s14,s15,s17,s19,s21,c,d,n,df,a,u,co,ca,cf,s,re;return s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"not null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c368)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"not null",value:"not null"}),s1}())===peg$FAILED&&(s5=peg$parseliteral_null()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_DEFAULT()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral())===peg$FAILED&&(s3=peg$parseexpr()),s3!==peg$FAILED?s0={type:"default",value:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?("auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s9=input.substr(peg$currPos,14),peg$currPos+=14):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s11=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s12=input.substr(peg$currPos,6),peg$currPos+=6):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s12===peg$FAILED&&("primary"===input.substr(peg$currPos,7).toLowerCase()?(s12=input.substr(peg$currPos,7),peg$currPos+=7):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13))),s12===peg$FAILED&&(s12=null),s12!==peg$FAILED&&(s13=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s14=input.substr(peg$currPos,3),peg$currPos+=3):(s14=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s14!==peg$FAILED?s11=s12=[s12,s13,s14]:(peg$currPos=s11,s11=peg$FAILED)):(peg$currPos=s11,s11=peg$FAILED),s11===peg$FAILED&&(s11=null),s11!==peg$FAILED&&(s12=peg$parse__())!==peg$FAILED?((s13=peg$parsekeyword_comment())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED?((s15=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"collate"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c111)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLLATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"collate",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=function(){var s0,s1,s3;return s0=peg$currPos,"column_format"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("fixed"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s3===peg$FAILED&&("dynamic"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3===peg$FAILED&&("default"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"column_format",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=function(){var s0,s1,s3;return s0=peg$currPos,"storage"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("disk"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s3===peg$FAILED&&("memory"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"storage",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s21=peg$parsereference_definition())===peg$FAILED&&(s21=null),s21!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s1,d=s3,n=s5,df=s7,a=s9,u=s11,co=s13,ca=s15,cf=s17,s=s19,re=s21,columnList.add(`create::${c.table}::${c.column}`),n&&!n.value&&(n.value="null"),s0=s1={column:c,definition:d,nullable:n,default_val:df,auto_increment:a&&a.toLowerCase(),unique_or_primary:u&&`${u[0].toLowerCase()} ${u[2].toLowerCase()}`,comment:co,collate:ca,column_format:cf,storage:s,reference_definition:re,resource:"column"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsealter_action(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,kc,ife,cd;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecreate_column_definition())!==peg$FAILED?(kc=s3,ife=s5,cd=s7,s1={action:"add",...cd,keyword:kc,if_not_exists:ife&&ife[0].toLowerCase(),resource:"column",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5;return s0=peg$currPos,peg$parseKW_DROP()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={action:"drop",column:s5,keyword:s3,resource:"column",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,id;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_index_definition())!==peg$FAILED?(id=s3,s1={action:"add",type:"alter",...id},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,fsid;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_fulltext_spatial_index_definition())!==peg$FAILED?(fsid=s3,s1={action:"add",type:"alter",...fsid},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,tn;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TO())===peg$FAILED&&(s3=peg$parseKW_AS()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(tn=s5,s1={action:"rename",type:"alter",resource:"table",keyword:(kw=s3)&&kw[0].toLowerCase(),table:tn},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"algorithm"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("instant"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c46)),s5===peg$FAILED&&("inplace"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c48)),s5===peg$FAILED&&("copy"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"algorithm",resource:"algorithm",algorithm:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s5===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s5===peg$FAILED&&("shared"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s5===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"lock",resource:"lock",lock:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecreate_index_definition(){var s0,s1,s3,s5,s7,s9,t,id;return s0=peg$currPos,(s1=peg$parseKW_INDEX())===peg$FAILED&&(s1=peg$parseKW_KEY()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecolumn())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(t=s5,id=s9,s0=s1={index:s3,definition:s7,keyword:s1.toLowerCase(),index_type:t,resource:"index",index_options:id}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_fulltext_spatial_index_definition(){var s0,s1,s3,s5,s7,s9,p,kc,id;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"fulltext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c682)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FULLTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"spatial"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c685)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SPATIAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INDEX())===peg$FAILED&&(s3=peg$parseKW_KEY()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s1,id=s9,s0=s1={index:s5,definition:s7,keyword:(kc=s3)&&`${p.toLowerCase()} ${kc.toLowerCase()}`||p.toLowerCase(),index_options:id,resource:"index"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseconstraint_name(){var s0,s1,s3,c;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"constraint"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c693)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CONSTRAINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseident())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s0=s1={keyword:s1.toLowerCase(),constraint:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereference_definition(){var s0,s1,s3,s5,s7,s9,s11,m,od,ou;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"references"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c696)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="REFERENCES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("match full"===input.substr(peg$currPos,10).toLowerCase()?(s7=input.substr(peg$currPos,10),peg$currPos+=10):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c72)),s7===peg$FAILED&&("match partial"===input.substr(peg$currPos,13).toLowerCase()?(s7=input.substr(peg$currPos,13),peg$currPos+=13):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c74)),s7===peg$FAILED&&("match simple"===input.substr(peg$currPos,12).toLowerCase()?(s7=input.substr(peg$currPos,12),peg$currPos+=12):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c76)))),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseon_reference())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_reference())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(m=s7,od=s9,ou=s11,s0=s1={definition:s5,table:s3,keyword:s1.toLowerCase(),match:m&&m.toLowerCase(),on_delete:od,on_update:ou}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseon_reference(){var s0,s1,s3,ro;return s0=peg$currPos,"on delete"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c79)),s1===peg$FAILED&&("on update"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,"restrict"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c84)),s1===peg$FAILED&&("cascade"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c86)),s1===peg$FAILED&&("set null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c88)),s1===peg$FAILED&&("no action"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c90)),s1===peg$FAILED&&("set default"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c92)))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=s1.toLowerCase(),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ro=s3,s0=s1={type:s1.toLowerCase(),value:ro}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_option(){var s0,s1,s3,s5,s6,s7,s8,s,v;return s0=peg$currPos,"auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c9)),s1===peg$FAILED&&("avg_row_length"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c96)),s1===peg$FAILED&&("key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c98)),s1===peg$FAILED&&("max_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c100)),s1===peg$FAILED&&("min_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c102)),s1===peg$FAILED&&("stats_sample_pages"===input.substr(peg$currPos,18).toLowerCase()?(s1=input.substr(peg$currPos,18),peg$currPos+=18):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c104))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED?(s=s3,v=s5,s0=s1={keyword:s1.toLowerCase(),symbol:s,value:v.value}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DEFAULT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("character set"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c107)),s3===peg$FAILED&&("charset"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c109)),s3===peg$FAILED&&("collate"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c111)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,t,s,v){return{keyword:kw&&`${kw[0].toLowerCase()} ${t.toLowerCase()}`||t.toLowerCase(),symbol:s,value:v}}(s1,s3,s5,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COMMENT())===peg$FAILED&&("connection"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c114))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:`'${c.value}'`}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"compression"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c117)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s6!==peg$FAILED?("zlib"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c121)),s7===peg$FAILED&&("lz4"===input.substr(peg$currPos,3).toLowerCase()?(s7=input.substr(peg$currPos,3),peg$currPos+=3):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c123)),s7===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)))),s7!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s8="'",peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5!==peg$FAILED?s0=s1=function(kw,s,v){return{keyword:kw.toLowerCase(),symbol:s,value:v.join("").toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"engine"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:c.toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}function peg$parselock_table(){var s0,s1,s3,t,lt;return s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s3;return s0=peg$currPos,"read"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c133)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("local"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c135)),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={type:"read",suffix:s3&&"local"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"low_priority"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("write"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c140)),s3!==peg$FAILED?s0=s1={type:"write",prefix:s1&&"low_priority"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED?(t=s1,lt=s3,tableList.add(`lock::${t.db}::${t.table}`),s0=s1={table:t,lock_type:lt}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseselect_stmt(){var s0,s1,s2,s3,s4,s5,s6;return(s0=peg$parseselect_stmt_nake())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,40===input.charCodeAt(peg$currPos)?(s2="(",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c147)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseselect_stmt())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s6=")",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c149)),s6!==peg$FAILED?s1=s2=[s2,s3,s4,s5,s6]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=s1[2]),s0=s1),s0}function peg$parsewith_clause(){var s0,s3,s4,s5,s6,s7,s8,s9,cte;if(s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecte_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&peg$parseKW_WITH()!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=function(){var s0,s1,s2,s3;return s0=peg$currPos,"RECURSIVE"===input.substr(peg$currPos,9)?(s1="RECURSIVE",peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c399)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecte_definition())!==peg$FAILED?((cte=s6).recursive=!0,s0=[cte]):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecte_definition(){var s0,s1,s3,s9;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecte_column_definition())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={name:s1,stmt:s9,columns:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecte_column_definition(){var s0,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecolumn())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseselect_stmt_nake(){var s0,s2,s6,s8,s10,s12,s14,s16,s18,s20,s22,cte,opts,d,c,f,w,g,h,o,l;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=peg$parsewith_clause())===peg$FAILED&&(s2=null),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"select"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c385)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s6=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parsequery_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=function(head,tail){const opts=[head];for(let i=0,l=tail.length;i<l;++i)opts.push(tail[i][1]);return opts}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s6=null),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=peg$parseKW_DISTINCT())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s10=function(){var s0,s1,s2,s3,s4,s5,s6,s7,head,tail;if(s0=peg$currPos,(s1=peg$parseKW_ALL())===peg$FAILED&&(s1=peg$currPos,(s2=peg$parseSTAR())!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseident_start(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$parseSTAR())),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(head=s1,tail=s2,columnList.add("select::null::(.*)"),s1=tail&&tail.length>0?(head[0]={expr:{type:"column_ref",table:null,column:"*"},as:null},createList(head[0],tail)):head[0],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,(s1=peg$parsecolumn_list_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s12=peg$parsefrom_clause())===peg$FAILED&&(s12=null),s12!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=peg$parsewhere_clause())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"group"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c451)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED?(s1=s5.value,s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"having"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c457)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=function(){var s0,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"order"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c455)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseorder_by_element())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s5:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s22=function(){var s0,s1,s3,s5,s6,s7,s8;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"limit"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c459)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsenumber_or_param())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,(s6=peg$parseCOMMA())===peg$FAILED&&(s6=function(){var s0,s1,s2,s3;return s0=peg$currPos,"offset"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c461)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OFFSET":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsenumber_or_param())!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(i1,tail){const res=[i1];return tail&&res.push(tail[2]),{seperator:tail&&tail[0]&&tail[0].toLowerCase()||"",value:res}}(s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s22=null),s22!==peg$FAILED?(cte=s2,opts=s6,d=s8,c=s10,w=s14,g=s16,h=s18,o=s20,l=s22,(f=s12)&&f.forEach(info=>info.table&&tableList.add(`select::${info.db}::${info.table}`)),s0={with:cte,type:"select",options:opts,distinct:d,columns:c,from:f,where:w,groupby:g,having:h,orderby:o,limit:l}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequery_option(){var s1;return peg$currPos,(s1=function(){var s0;return"sql_calc_found_rows"===input.substr(peg$currPos,19).toLowerCase()?(s0=input.substr(peg$currPos,19),peg$currPos+=19):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c699)),s0}())===peg$FAILED&&((s1=function(){var s0;return"sql_cache"===input.substr(peg$currPos,9).toLowerCase()?(s0=input.substr(peg$currPos,9),peg$currPos+=9):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c701)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_no_cache"===input.substr(peg$currPos,12).toLowerCase()?(s0=input.substr(peg$currPos,12),peg$currPos+=12):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c703)),s0}()),s1===peg$FAILED&&(s1=function(){var s0;return"sql_big_result"===input.substr(peg$currPos,14).toLowerCase()?(s0=input.substr(peg$currPos,14),peg$currPos+=14):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c707)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_small_result"===input.substr(peg$currPos,16).toLowerCase()?(s0=input.substr(peg$currPos,16),peg$currPos+=16):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c705)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_buffer_result"===input.substr(peg$currPos,17).toLowerCase()?(s0=input.substr(peg$currPos,17),peg$currPos+=17):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c709)),s0}())),s1!==peg$FAILED&&(s1=s1),s1}function peg$parsecolumn_list_item(){var s0,s1,s3,tbl;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseSTAR()!==peg$FAILED?(tbl=s1,columnList.add(`select::${tbl}::(.*)`),s0=s1={expr:{type:"column_ref",table:tbl,column:"*"},as:null}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={expr:s1,as:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsealias_clause(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_AS())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(function(name){if(!0===reservedMap[name.toUpperCase()])throw new Error("Error: "+JSON.stringify(name)+" is a reserved word, can not as alias clause");return!1}(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_AS())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsefrom_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"from"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c414)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_to_item(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED?s0=s1=[s1,s5]:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_type(){var s0,s3;return s0=peg$currPos,peg$parseKW_USING()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("btree"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c163)),s3===peg$FAILED&&("hash"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c165))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={keyword:"using",type:s3.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_options(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseindex_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][1]);return result}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseindex_option(){var s0,s1,s3,s5,e,kbs;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c98)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY_BLOCK_SIZE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(e=s3,kbs=s5,s0=s1={type:s1.toLowerCase(),symbol:e,expr:kbs}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseindex_type())===peg$FAILED&&(s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c170)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("parser"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c172)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"with parser",expr:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"visible"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c175)),s1===peg$FAILED&&("invisible"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c177))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(k){return{type:k.toLowerCase(),expr:k.toLowerCase()}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsekeyword_comment()))),s0}function peg$parsetable_ref_list(){var s0,s1,s2,s3,head,tail;if(s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED){for(s2=[],s3=peg$parsetable_ref();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsetable_ref();s2!==peg$FAILED?(head=s1,(tail=s2).unshift(head),tail.forEach(tableInfo=>{const{table:table,as:as}=tableInfo;tableAlias[table]=table,as&&(tableAlias[as]=table)}),s0=s1=tail):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsetable_ref(){var s0,s2,s4;return s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=peg$parseCOMMA())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s4=peg$parsetable_base())!==peg$FAILED?s0=s4:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=function(){var s0,s1,s3,s5,s9,s10,s11,s12,s13,s14,s15,op,t,head,tail;if(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsetable_base())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseKW_USING())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s9=peg$parseident_name())!==peg$FAILED){for(s10=[],s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s11!==peg$FAILED;)s10.push(s11),s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?(op=s1,head=s9,tail=s10,(t=s3).join=op,t.using=createList(head,tail),s0=s1=t):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseon_clause())===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(op,t,expr){return t.join=op,t.on=expr,t}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsealias_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parseon_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(s1=function(op,stmt,alias,expr){return stmt.parentheses=!0,{expr:stmt,as:alias,join:op,on:expr}}(s1,s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_base(){var s0,s1,s3,s7,t,alias;return s0=peg$currPos,(s1=function(){var s0;return"dual"===input.substr(peg$currPos,4).toLowerCase()?(s0=input.substr(peg$currPos,4),peg$currPos+=4):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c670)),s0}())!==peg$FAILED&&(s1={type:"dual"}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(alias=s3,s0=s1="var"===(t=s1).type?(t.as=alias,t):{db:t.db,table:t.table,as:alias}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsealias_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?s0=s1=function(stmt,alias){return stmt.parentheses=!0,{expr:stmt,as:alias}}(s3,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsejoin_op(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"left"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c431)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="LEFT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"right"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c433)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="RIGHT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"full"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c435)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="FULL JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=function(){var s0,s1,s2,s3;return s0=peg$currPos,"inner"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c437)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parseKW_JOIN())!==peg$FAILED?s0=s1="INNER JOIN":(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parsetable_name(){var s0,s1,s2,s3,s4,s5,s6,v;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=dt,obj.table=tail[3]),obj}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&((v=s1).db=null,v.table=v.name,s1=v),s0=s1),s0}function peg$parseon_clause(){var s0,s3;return s0=peg$currPos,peg$parseKW_ON()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewhere_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"where"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c449)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_element(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"desc"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c467)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DESC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"asc"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c464)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ASC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(e,d){const obj={expr:e,type:"ASC"};return"DESC"===d&&(obj.type="DESC"),obj}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenumber_or_param(){var s0;return(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=peg$parseparam()),s0}function peg$parseset_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseset_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseset_item(){var s0,s1,s2,s3,s4,s5,s7,tbl;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsecolumn())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s5="=",peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={column:s3,value:s7,table:(tbl=s1)&&tbl[0]}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseinsert_value_clause(){var s0;return(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"values"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c445)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsevalue_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseselect_stmt_nake()),s0}function peg$parseinsert_partition(){var s0,s3,s5,s6,s7,s8,s9,s10,s11;if(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseident_name())!==peg$FAILED){for(s6=[],s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s7!==peg$FAILED;)s6.push(s7),s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseRPAREN())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?s0=createList(s5,s6):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsevalue_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseon_duplicate_update_stmt(){var s0,s3,s9;return s0=peg$currPos,peg$parseKW_ON()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("duplicate"===input.substr(peg$currPos,9).toLowerCase()?(s3=input.substr(peg$currPos,9),peg$currPos+=9):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c207)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_KEY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_UPDATE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseset_list())!==peg$FAILED?s0={keyword:"on duplicate key update",set:s9}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereplace_insert(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"insert"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c397)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1="insert"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_REPLACE())!==peg$FAILED&&(s1="replace"),s0=s1),s0}function peg$parsevalue_item(){var s0,s3;return s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const el={type:"expr_list"};return el.value=createList(head,tail),el}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseinterval_expr(){var s0,s3,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"interval"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c611)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTERVAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"year"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c614)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="YEAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"month"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c617)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONTH":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"day"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c620)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DAY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"hour"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c623)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="HOUR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"minute"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c626)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MINUTE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"second"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c629)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SECOND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED?s0={type:"interval",expr:s3,unit:s5.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecase_expr(){var s0,s3,s5,s6,s7,s11,expr,condition_list,otherwise;if(s0=peg$currPos,peg$parseKW_CASE()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseexpr())===peg$FAILED&&(s3=null),s3!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],(s6=peg$parsecase_when_then())!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parsecase_when_then();else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"else"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c524)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0={type:"else",result:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"end"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c526)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_CASE())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(expr=s3,condition_list=s5,(otherwise=s7)&&condition_list.push(otherwise),s0={type:"case",expr:expr||null,args:condition_list}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecase_when_then(){var s0,s3,s7;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"when"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c520)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"then"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c522)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s3,result:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createBinaryExprChain(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseadditive_operator())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createUnaryExpr(s1,s2[0][1]),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseand_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c219(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=peg$parseselect_stmt()),s0}function peg$parseand_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsenot_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c219(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsenot_expr(){var s0,s1,s2,s3,s4;return(s0=peg$parsecomparison_expr())===peg$FAILED&&(s0=function(){var s0,s1,s5,op,stmt;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_EXISTS())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c225(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_EXISTS()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(op=s1,(stmt=s5).parentheses=!0,s1=createUnaryExpr(op,stmt),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NOT())===peg$FAILED&&(s1=peg$currPos,33===input.charCodeAt(peg$currPos)?(s2="!",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c221)),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,61===input.charCodeAt(peg$currPos)?(s4="=",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsenot_expr())!==peg$FAILED?s0=s1=createUnaryExpr("NOT",s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecomparison_expr(){var s0,s1,s3,left,rh;return s0=peg$currPos,(s1=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return(s0=function(){var s1,s2,s3,s4,s5,s6;if(peg$currPos,s1=[],s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED);else s1=peg$FAILED;return s1!==peg$FAILED&&(s1={type:"arithmetic",tail:s1}),s1}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={op:s1,right:s5}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsevar_decl())===peg$FAILED&&(s3=peg$parseliteral_string()),s3!==peg$FAILED?(s1=function(op,e){return{op:op,right:e}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_BETWEEN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c225(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_BETWEEN()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AND()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:s1,right:{type:"expr_list",value:[s3,s7]}}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:"IS",right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_IS())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_NOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?(s1=function(right){return{op:"IS NOT",right:right}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_LIKE())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c225(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_LIKE()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecomparison_expr())!==peg$FAILED?s0=s1={op:s1,right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(left=s1,s0=s1=null===(rh=s3)?left:"arithmetic"===rh.type?createBinaryExprChain(left,rh.tail):createBinaryExpr(rh.op,left,rh.right)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsearithmetic_comparison_operator(){var s0;return">="===input.substr(peg$currPos,2)?(s0=">=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c228)),s0===peg$FAILED&&(62===input.charCodeAt(peg$currPos)?(s0=">",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c230)),s0===peg$FAILED&&("<="===input.substr(peg$currPos,2)?(s0="<=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c232)),s0===peg$FAILED&&("<>"===input.substr(peg$currPos,2)?(s0="<>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c234)),s0===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s0="<",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c236)),s0===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s0===peg$FAILED&&("!="===input.substr(peg$currPos,2)?(s0="!=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c238)))))))),s0}function peg$parsein_op(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_IN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c225(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_IN()),s0}function peg$parseadditive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsemultiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c219(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseadditive_operator(){var s0;return 43===input.charCodeAt(peg$currPos)?(s0="+",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c246)),s0===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s0="-",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248))),s0}function peg$parsemultiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=createBinaryExprChain(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemultiplicative_operator(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c251)),s0===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s0="/",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c253)),s0===peg$FAILED&&(37===input.charCodeAt(peg$currPos)?(s0="%",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c255)))),s0}function peg$parseprimary(){var s0,s3,list;return(s0=function(){var s0,s1,s5,s9,s11,s13,s17;return s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseRPAREN())!==peg$FAILED?s0=s1={type:"cast",expr:s5,target:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,precision){return{type:"cast",expr:e,target:{dataType:"DECIMAL("+precision+")"}}}(s5,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseCOMMA()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(e,precision,scale){return{type:"cast",expr:e,target:{dataType:"DECIMAL("+precision+", "+scale+")"}}}(s5,s13,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"signed"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c542)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_UNSIGNED()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_INTEGER())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,s,t){return{type:"cast",expr:e,target:{dataType:s+(t?" "+t:"")}}}(s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)))),s0}())===peg$FAILED&&(s0=peg$parseliteral())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"count"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c500)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COUNT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s1;return peg$currPos,42===input.charCodeAt(peg$currPos)?(s1="*",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c251)),s1!==peg$FAILED&&(s1={type:"star",value:"*"}),s1}())!==peg$FAILED&&(s1={expr:s1}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DISTINCT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref())!==peg$FAILED?s0=s1={distinct:s1,expr:s3}:(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:s5}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"sum"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c509)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SUM":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"max"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c503)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MAX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"min"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c506)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"avg"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c512)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AVG":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:{expr:s5}}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:s5||{type:"expr_list",value:[]}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_date"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c605)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_time"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c632)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_CURRENT_TIMESTAMP())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c638)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"user"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c602)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c641)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"system_user"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c644)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SYSTEM_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseRPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(name){return{type:"function",name:name,args:{type:"expr_list",value:[]}}}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=peg$parsecase_expr())===peg$FAILED&&(s0=peg$parseinterval_expr())===peg$FAILED&&(s0=peg$parsecolumn_ref())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c256(s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((list=s3).parentheses=!0,s0=list):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsevar_decl()))),s0}function peg$parsecolumn_ref(){var s0,s1,s5,tbl,col;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseDOT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn())!==peg$FAILED?(tbl=s1,col=s5,columnList.add(`select::${tbl}::${col}`),s0=s1={type:"column_ref",table:tbl,column:col}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&(s1=function(col){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col}}(s1)),s0=s1),s0}function peg$parseident(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(peg$c260(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}function peg$parsequoted_ident(){var s0;return(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1='"',peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c264)),s1!==peg$FAILED){if(s2=[],peg$c265.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c266)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c265.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c266));else s2=peg$FAILED;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3='"',peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c264)),s3!==peg$FAILED?(s1=peg$c267(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1="'",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s1!==peg$FAILED){if(s2=[],peg$c268.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c269)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c268.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c269));else s2=peg$FAILED;s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3="'",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s3!==peg$FAILED?(s1=peg$c267(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,96===input.charCodeAt(peg$currPos)?(s1="`",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c271)),s1!==peg$FAILED){if(s2=[],peg$c272.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c273)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c272.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c273));else s2=peg$FAILED;s2!==peg$FAILED?(96===input.charCodeAt(peg$currPos)?(s3="`",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c271)),s3!==peg$FAILED?(s1=peg$c267(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsecolumn(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parsecolumn_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsecolumn_part();s2!==peg$FAILED?(s1=peg$c275(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&(peg$c260(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}function peg$parseident_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parseident_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseident_part();s2!==peg$FAILED?s0=s1=peg$c275(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_start(){var s0;return peg$c276.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c277)),s0}function peg$parseident_part(){var s0;return peg$c278.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c279)),s0}function peg$parsecolumn_part(){var s0;return peg$c280.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c281)),s0}function peg$parseparam(){var s1,s2,s3;return peg$currPos,s1=peg$currPos,58===input.charCodeAt(peg$currPos)?(s2=":",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c283)),s2!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1={type:"param",value:s1[1]}),s1}function peg$parseliteral(){var s0;return(s0=peg$parseliteral_string())===peg$FAILED&&(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"true"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c370)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!0}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"false"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!1}),s0=s1),s0}())===peg$FAILED&&(s0=peg$parseliteral_null())===peg$FAILED&&(s0=function(){var s0,s1,s3,s4,s5,s6,s8,ca;if(s0=peg$currPos,(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP())===peg$FAILED&&(s1=peg$parseKW_DATETIME()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s3=peg$currPos,39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s4!==peg$FAILED){for(s5=[],s6=peg$parsesingle_char();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsesingle_char();s5!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s6!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}else peg$currPos=s3,s3=peg$FAILED;s3!==peg$FAILED?(ca=s3,s1={type:s1.toLowerCase(),value:ca[1].join("")},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CURRENT_TIMESTAMP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseLPAREN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseRPAREN())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=(s6=function(type,lf,rt){if(lf&&rt)return!0}(0,s3,s5))?peg$FAILED:void 0)!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on update current_timestamp"===input.substr(peg$currPos,27).toLowerCase()?(s8=input.substr(peg$currPos,27),peg$currPos+=27):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c304)),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s1=function(type,lf,rt,up){return{type:"origin",value:(up?`${type} ${up}`:type).toLowerCase()}}(s1,0,0,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}()),s0}function peg$parseliteral_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"null"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c366)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"null",value:null}),s1}function peg$parseliteral_string(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=peg$currPos,39===input.charCodeAt(peg$currPos)?(s2="'",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_char();s3!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;if(s1!==peg$FAILED&&(s1=peg$c300(s1)),(s0=s1)===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,34===input.charCodeAt(peg$currPos)?(s2='"',peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c264)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_quote_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_quote_char();s3!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s4='"',peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c264)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(s1=peg$c300(s1)),s0=s1}return s0}function peg$parsesingle_quote_char(){var s0;return peg$c306.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c307)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parsesingle_char(){var s0;return peg$c308.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c309)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parseescape_char(){var s0,s1,s2,s3,s4,s5,h1,h2,h3,h4;return s0=peg$currPos,"\\'"===input.substr(peg$currPos,2)?(s1="\\'",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c311)),s1!==peg$FAILED&&(s1="'"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,'\\"'===input.substr(peg$currPos,2)?(s1='\\"',peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c314)),s1!==peg$FAILED&&(s1='"'),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\\\"===input.substr(peg$currPos,2)?(s1="\\\\",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c317)),s1!==peg$FAILED&&(s1="\\"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\/"===input.substr(peg$currPos,2)?(s1="\\/",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c320)),s1!==peg$FAILED&&(s1="/"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\b"===input.substr(peg$currPos,2)?(s1="\\b",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c323)),s1!==peg$FAILED&&(s1="\b"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\f"===input.substr(peg$currPos,2)?(s1="\\f",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c326)),s1!==peg$FAILED&&(s1="\f"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\n"===input.substr(peg$currPos,2)?(s1="\\n",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c329)),s1!==peg$FAILED&&(s1="\n"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\r"===input.substr(peg$currPos,2)?(s1="\\r",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c332)),s1!==peg$FAILED&&(s1="\r"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\t"===input.substr(peg$currPos,2)?(s1="\\t",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s1!==peg$FAILED&&(s1="\t"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\u"===input.substr(peg$currPos,2)?(s1="\\u",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c338)),s1!==peg$FAILED&&(s2=peg$parsehexDigit())!==peg$FAILED&&(s3=peg$parsehexDigit())!==peg$FAILED&&(s4=peg$parsehexDigit())!==peg$FAILED&&(s5=peg$parsehexDigit())!==peg$FAILED?(h1=s2,h2=s3,h3=s4,h4=s5,s0=s1=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1="\\",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c341)),s1!==peg$FAILED&&(s1="\\"),s0=s1)))))))))),s0}function peg$parseliteral_numeric(){var s1,n;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parseexp())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"bigint",value:s1+s2+s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,frac){const numStr=int_+frac;return isBigInt(int_)?{type:"bigint",value:numStr}:parseFloat(numStr)}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parseexp())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,exp){return{type:"bigint",value:int_+exp}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?(s1=function(int_){return isBigInt(int_)?{type:"bigint",value:int_}:parseFloat(int_)}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)))),s0}())!==peg$FAILED&&(s1=(n=s1)&&"bigint"===n.type?n:{type:"number",value:n}),s1}function peg$parseint(){var s0,s1,s2;return(s0=peg$parsedigits())===peg$FAILED&&(s0=peg$parsedigit())===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c246))),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c248)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c246))),s1!==peg$FAILED&&(s2=peg$parsedigit())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefrac(){var s0,s1,s2;return s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=".",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c352)),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="."+s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexp(){var s0,s1,s2;return s0=peg$currPos,(s1=function(){var s0,s1,s2,sign;return s0=peg$currPos,peg$c360.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c361)),s1!==peg$FAILED?(peg$c362.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c363)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1+=null!==(sign=s2)?sign:"":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1+=s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedigits(){var s1,s2;if(peg$currPos,s1=[],(s2=peg$parsedigit())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedigit();else s1=peg$FAILED;return s1!==peg$FAILED&&(s1=s1.join("")),s1}function peg$parsedigit(){var s0;return peg$c356.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s0}function peg$parsehexDigit(){var s0;return peg$c358.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c359)),s0}function peg$parseKW_DEFAULT(){var s0,s1,s2,s3;return s0=peg$currPos,"default"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TO(){var s0,s1,s2,s3;return s0=peg$currPos,"to"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c372)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DROP(){var s0,s1,s2,s3;return s0=peg$currPos,"drop"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c378)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DROP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UPDATE(){var s0,s1,s2,s3;return s0=peg$currPos,"update"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CREATE(){var s0,s1,s2,s3;return s0=peg$currPos,"create"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c389)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TEMPORARY(){var s0,s1,s2,s3;return s0=peg$currPos,"temporary"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c391)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IF_NOT_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"if not exists"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c393)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_REPLACE(){var s0,s1,s2,s3;return s0=peg$currPos,"replace"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c401)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_RENAME(){var s0,s1,s2,s3;return s0=peg$currPos,"rename"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c403)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_PARTITION(){var s0,s1,s2,s3;return s0=peg$currPos,"partition"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c409)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PARTITION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTO(){var s0,s1,s2,s3;return s0=peg$currPos,"into"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c412)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SET(){var s0,s1,s2,s3;return s0=peg$currPos,"set"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c416)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AS(){var s0,s1,s2,s3;return s0=peg$currPos,"as"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c420)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLE(){var s0,s1,s2,s3;return s0=peg$currPos,"table"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c422)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLES(){var s0,s1,s2,s3;return s0=peg$currPos,"tables"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c425)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ON(){var s0,s1,s2,s3;return s0=peg$currPos,"on"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c429)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_JOIN(){var s0,s1,s2,s3;return s0=peg$currPos,"join"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c439)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OUTER(){var s0,s1,s2,s3;return s0=peg$currPos,"outer"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c441)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNION(){var s0,s1,s2,s3;return s0=peg$currPos,"union"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c443)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_USING(){var s0,s1,s2,s3;return s0=peg$currPos,"using"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c447)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WITH(){var s0,s1,s2,s3;return s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c170)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BY(){var s0,s1,s2,s3;return s0=peg$currPos,"by"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c453)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ALL(){var s0,s1,s2,s3;return s0=peg$currPos,"all"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c470)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DISTINCT(){var s0,s1,s2,s3;return s0=peg$currPos,"distinct"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c473)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DISTINCT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BETWEEN(){var s0,s1,s2,s3;return s0=peg$currPos,"between"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c476)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BETWEEN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IN(){var s0,s1,s2,s3;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c479)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IS(){var s0,s1,s2,s3;return s0=peg$currPos,"is"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c482)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_LIKE(){var s0,s1,s2,s3;return s0=peg$currPos,"like"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c485)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LIKE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"exists"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c488)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="EXISTS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NOT(){var s0,s1,s2,s3;return s0=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c491)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NOT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AND(){var s0,s1,s2,s3;return s0=peg$currPos,"and"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c494)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OR(){var s0,s1,s2,s3;return s0=peg$currPos,"or"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c497)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CASE(){var s0,s1,s2,s3;return s0=peg$currPos,"case"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c518)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CAST(){var s0,s1,s2,s3;return s0=peg$currPos,"cast"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c528)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"char"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c530)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"varchar"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c533)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="VARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NUMERIC(){var s0,s1,s2,s3;return s0=peg$currPos,"numeric"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c536)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NUMERIC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DECIMAL(){var s0,s1,s2,s3;return s0=peg$currPos,"decimal"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c539)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DECIMAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNSIGNED(){var s0,s1,s2,s3;return s0=peg$currPos,"unsigned"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c545)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNSIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INT(){var s0,s1,s2,s3;return s0=peg$currPos,"int"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c548)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTEGER(){var s0,s1,s2,s3;return s0=peg$currPos,"integer"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c554)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTEGER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SMALLINT(){var s0,s1,s2,s3;return s0=peg$currPos,"smallint"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c560)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TINYINT(){var s0,s1,s2,s3;return s0=peg$currPos,"tinyint"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c563)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BIGINT(){var s0,s1,s2,s3;return s0=peg$currPos,"bigint"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c578)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIGINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FLOAT(){var s0,s1,s2,s3;return s0=peg$currPos,"float"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c581)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FLOAT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DOUBLE(){var s0,s1,s2,s3;return s0=peg$currPos,"double"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c584)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DOUBLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATE(){var s0,s1,s2,s3;return s0=peg$currPos,"date"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c587)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATETIME(){var s0,s1,s2,s3;return s0=peg$currPos,"datetime"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c590)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATETIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIME(){var s0,s1,s2,s3;return s0=peg$currPos,"time"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c593)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"timestamp"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c596)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CURRENT_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"current_timestamp"===input.substr(peg$currPos,17).toLowerCase()?(s1=input.substr(peg$currPos,17),peg$currPos+=17):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c635)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VAR_PRE(){var s0;return(s0=function(){var s0;return"@@"===input.substr(peg$currPos,2)?(s0="@@",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c662)),s0}())===peg$FAILED&&(s0=function(){var s0;return 64===input.charCodeAt(peg$currPos)?(s0="@",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c660)),s0}())===peg$FAILED&&(s0=function(){var s0;return 36===input.charCodeAt(peg$currPos)?(s0="$",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c664)),s0}()),s0}function peg$parseKW_ASSIGIN_EQUAL(){var s0;return 61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c200)),s0}function peg$parseKW_ADD(){var s0,s1,s2,s3;return s0=peg$currPos,"add"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c672)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ADD":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COLUMN(){var s0,s1,s2,s3;return s0=peg$currPos,"column"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c675)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLUMN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INDEX(){var s0,s1,s2,s3;return s0=peg$currPos,"index"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c678)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INDEX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_KEY(){var s0,s1,s2,s3;return s0=peg$currPos,"key"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COMMENT(){var s0,s1,s2,s3;return s0=peg$currPos,"comment"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c690)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COMMENT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseDOT(){var s0;return 46===input.charCodeAt(peg$currPos)?(s0=".",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c352)),s0}function peg$parseCOMMA(){var s0;return 44===input.charCodeAt(peg$currPos)?(s0=",",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c711)),s0}function peg$parseSTAR(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c251)),s0}function peg$parseLPAREN(){var s0;return 40===input.charCodeAt(peg$currPos)?(s0="(",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c147)),s0}function peg$parseRPAREN(){var s0;return 41===input.charCodeAt(peg$currPos)?(s0=")",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c149)),s0}function peg$parseSEMICOLON(){var s0;return 59===input.charCodeAt(peg$currPos)?(s0=";",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c717)),s0}function peg$parseLOGIC_OPERATOR(){var s0;return(s0=function(){var s0;return"||"===input.substr(peg$currPos,2)?(s0="||",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c719)),s0}())===peg$FAILED&&(s0=function(){var s0;return"&&"===input.substr(peg$currPos,2)?(s0="&&",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c721)),s0}()),s0}function peg$parse__(){var s0,s1;for(s0=[],(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());s1!==peg$FAILED;)s0.push(s1),(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());return s0}function peg$parsecomment(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"/*"===input.substr(peg$currPos,2)?(s1="/*",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c723)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c725)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c725)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?("*/"===input.substr(peg$currPos,2)?(s3="*/",peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c725)),s3!==peg$FAILED?s0=s1=[s1,s2,s3]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"--"===input.substr(peg$currPos,2)?(s1="--",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c727)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,35===input.charCodeAt(peg$currPos)?(s1="#",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c729)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsekeyword_comment(){var s0,s1,s3,s5,k,s,c;return s0=peg$currPos,(s1=peg$parseKW_COMMENT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?(s=s3,c=s5,s0=s1={type:(k=s1).toLowerCase(),keyword:k.toLowerCase(),symbol:s,value:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsechar(){var s0;return input.length>peg$currPos?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c731)),s0}function peg$parsewhitespace(){var s0;return peg$c732.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c733)),s0}function peg$parseEOL(){var s0,s1;if((s0=function(){var s0,s1;return s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c731)),peg$silentFails--,s1===peg$FAILED?s0=void 0:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED)if(s0=[],peg$c342.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c343)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c342.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c343));else s0=peg$FAILED;return s0}function peg$parseproc_stmt(){var s0,s3;return s0=peg$currPos,varList=[],void 0!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseassign_stmt())===peg$FAILED&&(s3=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return"return"===input.substr(peg$currPos,6).toLowerCase()?(s0=input.substr(peg$currPos,6),peg$currPos+=6):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c666)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_expr())!==peg$FAILED?s0={type:"return",expr:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED?s0={stmt:s3,vars:varList}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseassign_stmt(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsevar_decl())===peg$FAILED&&(s1=peg$parsewithout_prefix_var_decl()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return":="===input.substr(peg$currPos,2)?(s0=":=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c668)),s0}())===peg$FAILED&&(s3=peg$parseKW_ASSIGIN_EQUAL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseproc_expr())!==peg$FAILED?s0=s1={type:"assign",left:s1,symbol:s3,right:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_expr(){var s0;return(s0=peg$parseselect_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseon_clause())!==peg$FAILED?s0=s1={type:"join",ltable:s1,rtable:s5,op:s3,on:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseproc_additive_expr())===peg$FAILED&&(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return 91===input.charCodeAt(peg$currPos)?(s0="[",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c713)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_primary_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0;return 93===input.charCodeAt(peg$currPos)?(s0="]",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c715)),s0}()!==peg$FAILED?s0={type:"array",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parseproc_additive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_multiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c219(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_multiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c219(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_primary(){var s0,s3;return(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parsevar_decl())===peg$FAILED&&(s0=peg$parseproc_func_call())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_additive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c256(s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_func_name(){var s0,s1,s2,s3,s4,s5,s6;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){let name=dt;return null!==tail&&(name=`${dt}.${tail[3]}`),name}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_func_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseproc_primary_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:{type:"expr_list",value:s5}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:null}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_primary_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevar_decl(){var s0,s1,s2,p,d;return s0=peg$currPos,(s1=peg$parseKW_VAR_PRE())!==peg$FAILED&&(s2=peg$parsewithout_prefix_var_decl())!==peg$FAILED?(p=s1,d=s2,s0=s1={type:"var",...d,prefix:p}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewithout_prefix_var_decl(){var s0,s1,s2,name,m;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(s2=function(){var s1,s2,s3,s4;for(peg$currPos,s1=[],s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c352)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c352)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);return s1!==peg$FAILED&&(s1=function(l){const s=[];for(let i=0;i<l.length;i++)s.push(l[i][1]);return s}(s1)),s1}())!==peg$FAILED?(name=s1,m=s2,varList.push(name),s0=s1={type:"var",name:name,members:m,prefix:null}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedata_type(){var s0,s1;return(s0=function(){var s0,s1,s5,s6;if(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],peg$c356.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c356.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357));else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={dataType:s1,length:parseInt(s5.join(""),10)},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CHAR())!==peg$FAILED&&(s1=peg$c747(s1)),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_VARCHAR())!==peg$FAILED&&(s1=peg$c747(s1)),s0=s1)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,r,s;if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED)if((s2=peg$parse__())!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if((s4=peg$parse__())!==peg$FAILED){if(s5=[],peg$c356.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c356.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357));else s5=peg$FAILED;if(s5!==peg$FAILED)if((s6=peg$parse__())!==peg$FAILED){if(s7=peg$currPos,(s8=peg$parseCOMMA())!==peg$FAILED)if((s9=peg$parse__())!==peg$FAILED){if(s10=[],peg$c356.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s11!==peg$FAILED)for(;s11!==peg$FAILED;)s10.push(s11),peg$c356.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357));else s10=peg$FAILED;s10!==peg$FAILED?s7=s8=[s8,s9,s10]:(peg$currPos=s7,s7=peg$FAILED)}else peg$currPos=s7,s7=peg$FAILED;else peg$currPos=s7,s7=peg$FAILED;s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseRPAREN())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsenumeric_type_suffix())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(r=s7,s=s11,s1={dataType:s1,length:parseInt(s5.join(""),10),scale:r&&parseInt(r[2].join(""),10),parentheses:!0,suffix:s},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED){if(s2=[],peg$c356.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c356.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c357));else s2=peg$FAILED;s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=peg$parsenumeric_type_suffix())===peg$FAILED&&(s4=null),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(s1=function(t,l,s){return{dataType:t,length:parseInt(l.join(""),10),suffix:s}}(s1,s2,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parsenumeric_type_suffix())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(s1=function(t,s){return{dataType:t,suffix:s}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))}return s0}())===peg$FAILED&&((s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_DATETIME())===peg$FAILED&&(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP()),s1!==peg$FAILED&&(s1=peg$c747(s1)),(s0=s1)===peg$FAILED)&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"json"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c557)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSON":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c747(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"tinytext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c566)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"text"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c569)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"mediumtext"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c572)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MEDIUMTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"longtext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c575)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LONGTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1={dataType:s1}),s1}()),s0}function peg$parsenumeric_type_suffix(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_UNSIGNED())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"zerofill"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c551)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ZEROFILL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(un,ze){const result=[];return un&&result.push(un),ze&&result.push(ze),result}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}const reservedMap={ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!0,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,RECURSIVE:!0,RENAME:!0,RIGHT:!0,READ:!0,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,STATUS:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,TYPE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,SESSION:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0};function createUnaryExpr(op,e){return{type:"unary_expr",operator:op,expr:e}}function createBinaryExpr(op,left,right){return{type:"binary_expr",operator:op,left:left,right:right}}function isBigInt(numberStr){const previousMaxSafe=BigInt(Number.MAX_SAFE_INTEGER);return!(BigInt(numberStr)<previousMaxSafe)}function createList(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][3]);return result}function createBinaryExprChain(head,tail){let result=head;for(let i=0;i<tail.length;i++)result=createBinaryExpr(tail[i][1],result,tail[i][3]);return result}function queryTableAlias(tableName){const alias=tableAlias[tableName];return alias||tableName||null}function columnListTableAlias(columnList){const columns=[];for(let column of columnList.keys()){const columnInfo=column.split("::");if(!columnInfo){columns.push(column);break}columnInfo&&columnInfo[1]&&(columnInfo[1]=queryTableAlias(columnInfo[1])),columns.push(columnInfo.join("::"))}return columns}let varList=[];const tableList=new Set,columnList=new Set,tableAlias={};if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(25)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BigInt){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var i,escapedParts="";for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}return"Expected "+function(expected){var i,j,expectation,descriptions=new Array(expected.length);for(i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){options=void 0!==options?options:{};var peg$result,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c4=peg$literalExpectation("EXTENSION",!0),peg$c6=peg$literalExpectation("SCHEMA",!0),peg$c8=peg$literalExpectation("VERSION",!0),peg$c14=function(head,tail){return createList(head,tail)},peg$c16=peg$literalExpectation("AUTO_INCREMENT",!0),peg$c18=peg$literalExpectation("UNIQUE",!0),peg$c20=peg$literalExpectation("PRIMARY",!0),peg$c22=peg$literalExpectation("KEY",!0),peg$c28=peg$literalExpectation("COLUMN_FORMAT",!0),peg$c30=peg$literalExpectation("FIXED",!0),peg$c32=peg$literalExpectation("DYNAMIC",!0),peg$c34=peg$literalExpectation("DEFAULT",!0),peg$c37=peg$literalExpectation("STORAGE",!0),peg$c39=peg$literalExpectation("DISK",!0),peg$c41=peg$literalExpectation("MEMORY",!0),peg$c53=peg$literalExpectation("ALGORITHM",!0),peg$c55=peg$literalExpectation("INSTANT",!0),peg$c57=peg$literalExpectation("INPLACE",!0),peg$c59=peg$literalExpectation("COPY",!0),peg$c62=peg$literalExpectation("LOCK",!0),peg$c64=peg$literalExpectation("NONE",!0),peg$c66=peg$literalExpectation("SHARED",!0),peg$c68=peg$literalExpectation("EXCLUSIVE",!0),peg$c74=peg$literalExpectation("PRIMARY KEY",!0),peg$c78=peg$literalExpectation("FOREIGN KEY",!0),peg$c81=peg$literalExpectation("MATCH FULL",!0),peg$c83=peg$literalExpectation("MATCH PARTIAL",!0),peg$c85=peg$literalExpectation("MATCH SIMPLE",!0),peg$c88=peg$literalExpectation("ON DELETE",!0),peg$c90=peg$literalExpectation("ON UPDATE",!0),peg$c93=peg$literalExpectation("RESTRICT",!0),peg$c95=peg$literalExpectation("CASCADE",!0),peg$c97=peg$literalExpectation("SET NULL",!0),peg$c99=peg$literalExpectation("NO ACTION",!0),peg$c101=peg$literalExpectation("SET DEFAULT",!0),peg$c104=peg$literalExpectation("TRIGGER",!0),peg$c106=peg$literalExpectation("BEFORE",!0),peg$c108=peg$literalExpectation("AFTER",!0),peg$c110=peg$literalExpectation("INSTEAD OF",!0),peg$c112=peg$literalExpectation("ON",!0),peg$c114=peg$literalExpectation("EXECUTE",!0),peg$c116=peg$literalExpectation("PROCEDURE",!0),peg$c120=peg$literalExpectation("OF",!0),peg$c122=function(head,tail){return createList(head,tail)},peg$c124=peg$literalExpectation("NOT",!0),peg$c126=peg$literalExpectation("DEFERRABLE",!0),peg$c128=peg$literalExpectation("INITIALLY IMMEDIATE",!0),peg$c130=peg$literalExpectation("INITIALLY DEFERRED",!0),peg$c133=peg$literalExpectation("FOR",!0),peg$c135=peg$literalExpectation("EACH",!0),peg$c137=peg$literalExpectation("ROW",!0),peg$c139=peg$literalExpectation("STATEMENT",!0),peg$c143=peg$literalExpectation("AVG_ROW_LENGTH",!0),peg$c145=peg$literalExpectation("KEY_BLOCK_SIZE",!0),peg$c147=peg$literalExpectation("MAX_ROWS",!0),peg$c149=peg$literalExpectation("MIN_ROWS",!0),peg$c151=peg$literalExpectation("STATS_SAMPLE_PAGES",!0),peg$c154=peg$literalExpectation("CHARACTER SET",!0),peg$c156=peg$literalExpectation("CHARSET",!0),peg$c158=peg$literalExpectation("COLLATE",!0),peg$c161=peg$literalExpectation("CONNECTION",!0),peg$c164=peg$literalExpectation("COMPRESSION",!0),peg$c166=peg$literalExpectation("'",!1),peg$c168=peg$literalExpectation("ZLIB",!0),peg$c170=peg$literalExpectation("LZ4",!0),peg$c173=peg$literalExpectation("ENGINE",!0),peg$c179=peg$literalExpectation("IN",!0),peg$c181=peg$literalExpectation("ACCESS SHARE",!0),peg$c183=peg$literalExpectation("ROW SHARE",!0),peg$c185=peg$literalExpectation("ROW EXCLUSIVE",!0),peg$c187=peg$literalExpectation("SHARE UPDATE EXCLUSIVE",!0),peg$c189=peg$literalExpectation("SHARE ROW EXCLUSIVE",!0),peg$c191=peg$literalExpectation("ACCESS EXCLUSIVE",!0),peg$c193=peg$literalExpectation("SHARE",!0),peg$c195=peg$literalExpectation("MODE",!0),peg$c198=peg$literalExpectation("NOWAIT",!0),peg$c202=peg$literalExpectation("(",!1),peg$c204=peg$literalExpectation(")",!1),peg$c212=function(e,s,t){return{type:"cast",expr:e,symbol:"::",target:t}},peg$c219=peg$literalExpectation("BTREE",!0),peg$c221=peg$literalExpectation("HASH",!0),peg$c226=peg$literalExpectation("WITH",!0),peg$c228=peg$literalExpectation("PARSER",!0),peg$c231=peg$literalExpectation("VISIBLE",!0),peg$c233=peg$literalExpectation("INVISIBLE",!0),peg$c257=peg$literalExpectation("=",!1),peg$c274=function(head,tail){return createBinaryExprChain(head,tail)},peg$c276=peg$literalExpectation("!",!1),peg$c280=function(nk){return nk[0]+" "+nk[2]},peg$c283=peg$literalExpectation(">=",!1),peg$c285=peg$literalExpectation(">",!1),peg$c287=peg$literalExpectation("<=",!1),peg$c289=peg$literalExpectation("<>",!1),peg$c291=peg$literalExpectation("<",!1),peg$c293=peg$literalExpectation("!=",!1),peg$c302=peg$literalExpectation("@>",!1),peg$c304=peg$literalExpectation("<@",!1),peg$c306=peg$literalExpectation("?",!1),peg$c308=peg$literalExpectation("?|",!1),peg$c310=peg$literalExpectation("?&",!1),peg$c312=peg$literalExpectation("#-",!1),peg$c315=peg$literalExpectation("+",!1),peg$c317=peg$literalExpectation("-",!1),peg$c320=peg$literalExpectation("*",!1),peg$c322=peg$literalExpectation("/",!1),peg$c324=peg$literalExpectation("%",!1),peg$c325=function(e){return e.parentheses=!0,e},peg$c331=function(name){return!0===reservedMap[name.toUpperCase()]},peg$c335=peg$literalExpectation('"',!1),peg$c336=/^[^"]/,peg$c337=peg$classExpectation(['"'],!0,!1),peg$c338=function(chars){return chars.join("")},peg$c339=/^[^']/,peg$c340=peg$classExpectation(["'"],!0,!1),peg$c342=peg$literalExpectation("`",!1),peg$c343=/^[^`]/,peg$c344=peg$classExpectation(["`"],!0,!1),peg$c346=function(start,parts){return start+parts.join("")},peg$c347=/^[A-Za-z_]/,peg$c348=peg$classExpectation([["A","Z"],["a","z"],"_"],!1,!1),peg$c349=/^[A-Za-z0-9_]/,peg$c350=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),peg$c352=peg$literalExpectation(":",!1),peg$c374=peg$literalExpectation("ON UPDATE CURRENT_TIMESTAMP",!0),peg$c376=/^[^"\\\0-\x1F\x7F]/,peg$c377=peg$classExpectation(['"',"\\",["\0",""],""],!0,!1),peg$c378=/^[^'\\]/,peg$c379=peg$classExpectation(["'","\\"],!0,!1),peg$c381=peg$literalExpectation("\\'",!1),peg$c384=peg$literalExpectation('\\"',!1),peg$c387=peg$literalExpectation("\\\\",!1),peg$c390=peg$literalExpectation("\\/",!1),peg$c393=peg$literalExpectation("\\b",!1),peg$c396=peg$literalExpectation("\\f",!1),peg$c399=peg$literalExpectation("\\n",!1),peg$c402=peg$literalExpectation("\\r",!1),peg$c405=peg$literalExpectation("\\t",!1),peg$c408=peg$literalExpectation("\\u",!1),peg$c411=peg$literalExpectation("\\",!1),peg$c412=/^[\n\r]/,peg$c413=peg$classExpectation(["\n","\r"],!1,!1),peg$c422=peg$literalExpectation(".",!1),peg$c426=/^[0-9]/,peg$c427=peg$classExpectation([["0","9"]],!1,!1),peg$c428=/^[0-9a-fA-F]/,peg$c429=peg$classExpectation([["0","9"],["a","f"],["A","F"]],!1,!1),peg$c430=/^[eE]/,peg$c431=peg$classExpectation(["e","E"],!1,!1),peg$c432=/^[+\-]/,peg$c433=peg$classExpectation(["+","-"],!1,!1),peg$c436=peg$literalExpectation("NULL",!0),peg$c438=peg$literalExpectation("NOT NULL",!0),peg$c440=peg$literalExpectation("TRUE",!0),peg$c442=peg$literalExpectation("TO",!0),peg$c444=peg$literalExpectation("FALSE",!0),peg$c448=(peg$literalExpectation("SHOW",!0),peg$literalExpectation("DROP",!0)),peg$c451=peg$literalExpectation("USE",!0),peg$c453=peg$literalExpectation("ALTER",!0),peg$c455=peg$literalExpectation("SELECT",!0),peg$c457=peg$literalExpectation("UPDATE",!0),peg$c459=peg$literalExpectation("CREATE",!0),peg$c461=peg$literalExpectation("TEMPORARY",!0),peg$c463=peg$literalExpectation("IF NOT EXISTS",!0),peg$c465=peg$literalExpectation("DELETE",!0),peg$c467=peg$literalExpectation("INSERT",!0),peg$c469=peg$literalExpectation("RECURSIVE",!1),peg$c471=peg$literalExpectation("REPLACE",!0),peg$c473=peg$literalExpectation("RETURNING",!0),peg$c476=peg$literalExpectation("RENAME",!0),peg$c478=peg$literalExpectation("IGNORE",!0),peg$c482=(peg$literalExpectation("EXPLAIN",!0),peg$literalExpectation("PARTITION",!0)),peg$c485=peg$literalExpectation("INTO",!0),peg$c487=peg$literalExpectation("FROM",!0),peg$c489=peg$literalExpectation("SET",!0),peg$c491=peg$literalExpectation("AS",!0),peg$c493=peg$literalExpectation("TABLE",!0),peg$c497=peg$literalExpectation("LEFT",!0),peg$c499=peg$literalExpectation("RIGHT",!0),peg$c501=peg$literalExpectation("FULL",!0),peg$c503=peg$literalExpectation("INNER",!0),peg$c505=peg$literalExpectation("JOIN",!0),peg$c507=peg$literalExpectation("OUTER",!0),peg$c509=peg$literalExpectation("UNION",!0),peg$c511=peg$literalExpectation("VALUES",!0),peg$c513=peg$literalExpectation("USING",!0),peg$c515=peg$literalExpectation("WHERE",!0),peg$c517=peg$literalExpectation("GROUP",!0),peg$c519=peg$literalExpectation("BY",!0),peg$c521=peg$literalExpectation("ORDER",!0),peg$c523=peg$literalExpectation("HAVING",!0),peg$c525=peg$literalExpectation("LIMIT",!0),peg$c527=peg$literalExpectation("OFFSET",!0),peg$c530=peg$literalExpectation("ASC",!0),peg$c533=peg$literalExpectation("DESC",!0),peg$c536=peg$literalExpectation("ALL",!0),peg$c539=peg$literalExpectation("DISTINCT",!0),peg$c542=peg$literalExpectation("BETWEEN",!0),peg$c546=peg$literalExpectation("IS",!0),peg$c549=peg$literalExpectation("LIKE",!0),peg$c552=peg$literalExpectation("EXISTS",!0),peg$c556=peg$literalExpectation("AND",!0),peg$c559=peg$literalExpectation("OR",!0),peg$c562=peg$literalExpectation("COUNT",!0),peg$c565=peg$literalExpectation("MAX",!0),peg$c568=peg$literalExpectation("MIN",!0),peg$c571=peg$literalExpectation("SUM",!0),peg$c574=peg$literalExpectation("AVG",!0),peg$c577=peg$literalExpectation("CALL",!0),peg$c580=peg$literalExpectation("CASE",!0),peg$c582=peg$literalExpectation("WHEN",!0),peg$c584=peg$literalExpectation("THEN",!0),peg$c586=peg$literalExpectation("ELSE",!0),peg$c588=peg$literalExpectation("END",!0),peg$c590=peg$literalExpectation("CAST",!0),peg$c592=peg$literalExpectation("CHAR",!0),peg$c595=peg$literalExpectation("VARCHAR",!0),peg$c598=peg$literalExpectation("NUMERIC",!0),peg$c601=peg$literalExpectation("DECIMAL",!0),peg$c604=peg$literalExpectation("SIGNED",!0),peg$c607=peg$literalExpectation("UNSIGNED",!0),peg$c610=peg$literalExpectation("INT",!0),peg$c613=peg$literalExpectation("ZEROFILL",!0),peg$c616=peg$literalExpectation("INTEGER",!0),peg$c619=peg$literalExpectation("JSON",!0),peg$c622=peg$literalExpectation("JSONB",!0),peg$c625=peg$literalExpectation("GEOMETRY",!0),peg$c628=peg$literalExpectation("SMALLINT",!0),peg$c631=peg$literalExpectation("TINYINT",!0),peg$c634=peg$literalExpectation("TINYTEXT",!0),peg$c637=peg$literalExpectation("TEXT",!0),peg$c640=peg$literalExpectation("MEDIUMTEXT",!0),peg$c643=peg$literalExpectation("LONGTEXT",!0),peg$c646=peg$literalExpectation("BIGINT",!0),peg$c649=peg$literalExpectation("FLOAT",!0),peg$c652=peg$literalExpectation("DOUBLE",!0),peg$c655=peg$literalExpectation("DATE",!0),peg$c658=peg$literalExpectation("DATETIME",!0),peg$c661=peg$literalExpectation("TIME",!0),peg$c664=peg$literalExpectation("TIMESTAMP",!0),peg$c667=peg$literalExpectation("TRUNCATE",!0),peg$c670=peg$literalExpectation("USER",!0),peg$c673=peg$literalExpectation("UUID",!0),peg$c676=peg$literalExpectation("CURRENT_DATE",!0),peg$c682=(peg$literalExpectation("ADDDATE",!0),peg$literalExpectation("INTERVAL",!0)),peg$c685=peg$literalExpectation("YEAR",!0),peg$c688=peg$literalExpectation("MONTH",!0),peg$c691=peg$literalExpectation("DAY",!0),peg$c694=peg$literalExpectation("HOUR",!0),peg$c697=peg$literalExpectation("MINUTE",!0),peg$c700=peg$literalExpectation("SECOND",!0),peg$c703=peg$literalExpectation("CURRENT_TIME",!0),peg$c706=peg$literalExpectation("CURRENT_TIMESTAMP",!0),peg$c709=peg$literalExpectation("CURRENT_USER",!0),peg$c712=peg$literalExpectation("SESSION_USER",!0),peg$c715=peg$literalExpectation("SYSTEM_USER",!0),peg$c718=peg$literalExpectation("GLOBAL",!0),peg$c721=peg$literalExpectation("SESSION",!0),peg$c724=peg$literalExpectation("LOCAL",!0),peg$c727=peg$literalExpectation("PERSIST",!0),peg$c730=peg$literalExpectation("PERSIST_ONLY",!0),peg$c733=peg$literalExpectation("@",!1),peg$c735=peg$literalExpectation("@@",!1),peg$c737=peg$literalExpectation("$",!1),peg$c739=peg$literalExpectation("return",!0),peg$c741=peg$literalExpectation(":=",!1),peg$c743=peg$literalExpectation("::",!1),peg$c745=peg$literalExpectation("DUAL",!0),peg$c747=peg$literalExpectation("ADD",!0),peg$c750=peg$literalExpectation("COLUMN",!0),peg$c753=peg$literalExpectation("INDEX",!0),peg$c757=peg$literalExpectation("FULLTEXT",!0),peg$c760=peg$literalExpectation("SPATIAL",!0),peg$c765=peg$literalExpectation("COMMENT",!0),peg$c768=peg$literalExpectation("CONSTRAINT",!0),peg$c771=peg$literalExpectation("REFERENCES",!0),peg$c774=peg$literalExpectation("SQL_CALC_FOUND_ROWS",!0),peg$c776=peg$literalExpectation("SQL_CACHE",!0),peg$c778=peg$literalExpectation("SQL_NO_CACHE",!0),peg$c780=peg$literalExpectation("SQL_SMALL_RESULT",!0),peg$c782=peg$literalExpectation("SQL_BIG_RESULT",!0),peg$c784=peg$literalExpectation("SQL_BUFFER_RESULT",!0),peg$c786=peg$literalExpectation(",",!1),peg$c788=peg$literalExpectation("[",!1),peg$c790=peg$literalExpectation("]",!1),peg$c792=peg$literalExpectation(";",!1),peg$c794=peg$literalExpectation("->",!1),peg$c796=peg$literalExpectation("->>",!1),peg$c798=peg$literalExpectation("#>",!1),peg$c800=peg$literalExpectation("#>>",!1),peg$c802=peg$literalExpectation("||",!1),peg$c804=peg$literalExpectation("&&",!1),peg$c806=peg$literalExpectation("/*",!1),peg$c808=peg$literalExpectation("*/",!1),peg$c810=peg$literalExpectation("--",!1),peg$c814=(peg$literalExpectation("#",!1),{type:"any"}),peg$c815=/^[ \t\n\r]/,peg$c816=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c830=function(t){return{dataType:t}},peg$c835=function(t){return{dataType:t}},peg$currPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s2;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecrud_stmt())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=function(head,tail){const cur=[head&&head.ast||head];for(let i=0;i<tail.length;i++)tail[i][3]&&0!==tail[i][3].length&&cur.push(tail[i][3]&&tail[i][3].ast||tail[i][3]);return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:cur}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s2=peg$parsecmd_stmt())===peg$FAILED&&(s2=peg$parsecrud_stmt()),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecmd_stmt(){var s0;return(s0=function(){var s0,s1,s5,a,t;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s7,s9,s11,s13,s15,s17,s19,a,tp,ife,t,c,to,ir,as,qe;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecreate_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?(s1=peg$c14(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c122(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s2,s3;return s0=peg$currPos,"ignore"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c478)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=peg$parseKW_REPLACE()),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseKW_AS())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parseunion_stmt())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,tp=s3,ife=s7,c=s11,to=s13,ir=s15,as=s17,qe=s19,(t=s9)&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,ignore_replace:ir&&ir[0].toLowerCase(),as:as&&as[0].toLowerCase(),query_expr:qe&&qe.ast,create_definitions:c,table_options:to}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function peg$parsecreate_like_table(){var s0,s3,e;return(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_LIKE())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(t){return{type:"like",table:t}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_like_table())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((e=s3).parentheses=!0,s0=e):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(a,tp,ife,t,lt){return t&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,like:lt}}}(s1,s3,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13,s15,s17,s18,s19,s20,s21,s23,s25,s27,s29,kc,t,p,te,tn,fr,de,fe,tw,fct;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_CONSTRAINT())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?("trigger"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c104)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("before"===input.substr(peg$currPos,6).toLowerCase()?(s9=input.substr(peg$currPos,6),peg$currPos+=6):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c106)),s9===peg$FAILED&&("after"===input.substr(peg$currPos,5).toLowerCase()?(s9=input.substr(peg$currPos,5),peg$currPos+=5):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c108)),s9===peg$FAILED&&("instead of"===input.substr(peg$currPos,10).toLowerCase()?(s9=input.substr(peg$currPos,10),peg$currPos+=10):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c110)))),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetrigger_event())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetrigger_event())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetrigger_event())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c122(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on"===input.substr(peg$currPos,2).toLowerCase()?(s13=input.substr(peg$currPos,2),peg$currPos+=2):(s13=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c112)),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s15=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s17=peg$currPos,(s18=peg$parseKW_FROM())!==peg$FAILED&&(s19=peg$parse__())!==peg$FAILED&&(s20=peg$parsetable_name())!==peg$FAILED?s17=s18=[s18,s19,s20]:(peg$currPos=s17,s17=peg$FAILED),s17===peg$FAILED&&(s17=null),s17!==peg$FAILED&&(s18=peg$parse__())!==peg$FAILED?((s19=function(){var s0,s1,s2,s3,s4,kw,args;return s0=peg$currPos,s1=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s2=input.substr(peg$currPos,3),peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c124)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?("deferrable"===input.substr(peg$currPos,10).toLowerCase()?(s4=input.substr(peg$currPos,10),peg$currPos+=10):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?("initially immediate"===input.substr(peg$currPos,19).toLowerCase()?(s3=input.substr(peg$currPos,19),peg$currPos+=19):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c128)),s3===peg$FAILED&&("initially deferred"===input.substr(peg$currPos,18).toLowerCase()?(s3=input.substr(peg$currPos,18),peg$currPos+=18):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c130))),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(args=s3,s1={keyword:(kw=s1)&&kw[0]?kw[0].toLowerCase()+" deferrable":"deferrable",args:args&&args.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&(s20=peg$parse__())!==peg$FAILED?((s21=function(){var s0,s1,s3,s5,kw,e,ob;return s0=peg$currPos,"for"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c133)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("each"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c135)),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?("row"===input.substr(peg$currPos,3).toLowerCase()?(s5=input.substr(peg$currPos,3),peg$currPos+=3):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c137)),s5===peg$FAILED&&("statement"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c139))),s5!==peg$FAILED?(kw=s1,ob=s5,s1={keyword:(e=s3)?`${kw.toLowerCase()} ${e.toLowerCase()}`:kw.toLowerCase(),args:ob.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s21=null),s21!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s23=function(){var s0,s5;return s0=peg$currPos,peg$parseKW_WHEN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s5,parentheses:!0}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s23=null),s23!==peg$FAILED&&peg$parse__()!==peg$FAILED?("execute"===input.substr(peg$currPos,7).toLowerCase()?(s25=input.substr(peg$currPos,7),peg$currPos+=7):(s25=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c114)),s25!==peg$FAILED&&peg$parse__()!==peg$FAILED?("procedure"===input.substr(peg$currPos,9).toLowerCase()?(s27=input.substr(peg$currPos,9),peg$currPos+=9):(s27=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c116)),s27!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s29=peg$parseproc_func_call())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(kc=s3,t=s5,te=s11,tn=s15,fr=s17,de=s19,fe=s21,tw=s23,fct=s29,s1={type:"create",constraint:s7,location:(p=s9)&&p.toLowerCase(),events:te,table:tn,from:fr&&fr[2],deferrable:de,for_each:fe,when:tw,execute:{keyword:"execute procedure",expr:fct},constraint_type:t&&t.toLowerCase(),keyword:t&&t.toLowerCase(),constraint_kw:kc&&kc.toLowerCase(),resource:"constraint"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s12,s13,s14,s15,s16,s17,s18,ife,n,w,s,v,f;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("extension"===input.substr(peg$currPos,9).toLowerCase()?(s3=input.substr(peg$currPos,9),peg$currPos+=9):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c4)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseident_name())===peg$FAILED&&(s7=peg$parseliteral_string()),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseKW_WITH())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s11=peg$currPos,"schema"===input.substr(peg$currPos,6).toLowerCase()?(s12=input.substr(peg$currPos,6),peg$currPos+=6):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c6)),s12!==peg$FAILED&&(s13=peg$parse__())!==peg$FAILED&&(s14=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14]:(peg$currPos=s11,s11=peg$FAILED),s11===peg$FAILED&&(s11=peg$parseliteral_string()),s11===peg$FAILED&&(s11=null),s11!==peg$FAILED&&(s12=peg$parse__())!==peg$FAILED?(s13=peg$currPos,"version"===input.substr(peg$currPos,7).toLowerCase()?(s14=input.substr(peg$currPos,7),peg$currPos+=7):(s14=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s14!==peg$FAILED&&(s15=peg$parse__())!==peg$FAILED?((s16=peg$parseident_name())===peg$FAILED&&(s16=peg$parseliteral_string()),s16!==peg$FAILED?s13=s14=[s14,s15,s16]:(peg$currPos=s13,s13=peg$FAILED)):(peg$currPos=s13,s13=peg$FAILED),s13===peg$FAILED&&(s13=null),s13!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED?(s15=peg$currPos,(s16=peg$parseKW_FROM())!==peg$FAILED&&(s17=peg$parse__())!==peg$FAILED?((s18=peg$parseident_name())===peg$FAILED&&(s18=peg$parseliteral_string()),s18!==peg$FAILED?s15=s16=[s16,s17,s18]:(peg$currPos=s15,s15=peg$FAILED)):(peg$currPos=s15,s15=peg$FAILED),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&(s16=peg$parse__())!==peg$FAILED?(ife=s5,n=s7,w=s9,s=s11,v=s13,f=s15,s1={type:"create",keyword:s3.toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),extension:commonStrToLiteral(n),with:w&&w[0].toLowerCase(),schema:commonStrToLiteral(s&&s[2].toLowerCase()),version:commonStrToLiteral(v&&v[2]),from:commonStrToLiteral(f&&f[2])},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,a,kw,t;return s0=peg$currPos,(s1=peg$parseKW_TRUNCATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,kw=s3,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),keyword:kw,table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,t;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_to_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?((t=s5).forEach(tg=>tg.forEach(dt=>dt.table&&tableList.add(`rename::${dt.db}::${dt.table}`))),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"rename",table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"call"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c577)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_func_call())!==peg$FAILED?(e=s3,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"call",expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,d;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"use"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c451)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(d=s3,tableList.add(`use::${d}::null`),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"use",db:d}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,t,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"alter"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c453)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsealter_action())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(e=s7,(t=s5)&&t.length>0&&t.forEach(table=>tableList.add(`alter::${table.db}::${table.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"alter",table:t,expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,a;return s0=peg$currPos,(s1=peg$parseKW_SET())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"global"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c718)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GLOBAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c721)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"local"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c724)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LOCAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c727)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist_only"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c730)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST_ONLY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseassign_stmt())!==peg$FAILED?(kw=s3,(a=s5).keyword=kw,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"set",expr:a}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,k,t,lm,nw;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c62)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=function(){var s0,s1,s3,s5;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c179)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("access share"===input.substr(peg$currPos,12).toLowerCase()?(s3=input.substr(peg$currPos,12),peg$currPos+=12):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c181)),s3===peg$FAILED&&("row share"===input.substr(peg$currPos,9).toLowerCase()?(s3=input.substr(peg$currPos,9),peg$currPos+=9):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c183)),s3===peg$FAILED&&("row exclusive"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c185)),s3===peg$FAILED&&("share update exclusive"===input.substr(peg$currPos,22).toLowerCase()?(s3=input.substr(peg$currPos,22),peg$currPos+=22):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c187)),s3===peg$FAILED&&("share row exclusive"===input.substr(peg$currPos,19).toLowerCase()?(s3=input.substr(peg$currPos,19),peg$currPos+=19):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c189)),s3===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s3=input.substr(peg$currPos,9),peg$currPos+=9):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c68)),s3===peg$FAILED&&("access exclusive"===input.substr(peg$currPos,16).toLowerCase()?(s3=input.substr(peg$currPos,16),peg$currPos+=16):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c191)),s3===peg$FAILED&&("share"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c193))))))))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?("mode"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c195)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={mode:`in ${s3.toLowerCase()} mode`},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?("nowait"===input.substr(peg$currPos,6).toLowerCase()?(s9=input.substr(peg$currPos,6),peg$currPos+=6):(s9=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c198)),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(k=s3,lm=s7,nw=s9,(t=s5)&&t.forEach(tt=>tableList.add(`lock::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"lock",keyword:k&&k.toLowerCase(),tables:t.map(table=>({table:table})),lock_mode:lm,nowait:nw}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecrud_stmt(){var s0;return(s0=peg$parseunion_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,s11,t,l,w,r;return s0=peg$currPos,(s1=peg$parseKW_UPDATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseset_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsewhere_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parsereturning_stmt())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(l=s7,w=s9,r=s11,(t=s3)&&t.forEach(tableInfo=>{const{db:db,as:as,table:table}=tableInfo;tableList.add(`update::${db}::${table}`)}),l&&l.forEach(col=>columnList.add(`update::${col.table}::${col.column}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"update",table:t,set:l,where:w,returning:r}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s11,s15,s17;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INTO())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s15=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parsereturning_stmt())===peg$FAILED&&(s17=null),s17!==peg$FAILED?(s1=function(ri,t,p,c,v,r){if(t&&(tableList.add(`insert::${t.db}::${t.table}`),t.as=null),c){let table=t&&t.table||null;c.forEach(c=>columnList.add(`insert::${table}::${c}`))}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:c,values:v,partition:p,returning:r}}}(s1,s5,s7,s11,s15,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,s9,s11,ri,t,p,v,r;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_INTO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseinsert_value_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parsereturning_stmt())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(ri=s1,p=s7,v=s9,r=s11,(t=s5)&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:null,values:v,partition:p,returning:r}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parseKW_DELETE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsetable_ref_list())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsefrom_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsewhere_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?(s1=function(t,f,w){if(f&&f.forEach(info=>{info.table&&tableList.add(`delete::${info.db}::${info.table}`),columnList.add(`delete::${info.table}::(.*)`)}),null===t&&1===f.length){const tableInfo=f[0];t=[{db:tableInfo.db,table:tableInfo.table,as:tableInfo.as,addition:!0}]}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"delete",table:t,from:f,where:w}}}(s3,s5,s7),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecmd_stmt())===peg$FAILED&&(s0=function(){var s0,s1;for(s0=[],s1=peg$parseproc_stmt();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseproc_stmt();return s0}()),s0}function peg$parseunion_stmt(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseselect_stmt())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){let cur=head;for(let i=0;i<tail.length;i++)cur._next=tail[i][5],cur.union=tail[i][3]?"union all":"union",cur=cur._next;return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:head}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecreate_definition(){var s0;return(s0=peg$parsecreate_column_definition())===peg$FAILED&&(s0=peg$parsecreate_index_definition())===peg$FAILED&&(s0=peg$parsecreate_fulltext_spatial_index_definition())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,s9,kc,p,t,de,id;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("primary key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c74)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s3,t=s5,de=s7,id=s9,s1={constraint:(kc=s1)&&kc.constraint,definition:de,constraint_type:p.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,resource:"constraint",index_options:id},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c18)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_INDEX())===peg$FAILED&&(s5=peg$parseKW_KEY()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsecolumn())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_type())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseindex_options())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,u,p,i,t,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p&&`${u.toLowerCase()} ${p.toLowerCase()}`||u.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,index:i,resource:"constraint",index_options:id}}(s1,s3,s5,s7,s9,s11,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("foreign key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c78)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsereference_definition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,p,i,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p,keyword:kc&&kc.keyword,index:i,resource:"constraint",reference_definition:id}}(s1,s3,s5,s7,s9),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}()),s0}function peg$parsecreate_column_definition(){var s0,s1,s3,s5,s7,s9,s10,s11,s12,s13,s15,s17,s19,c,d,clc,a,u,co,ca,cf,s,re;return s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=function(){var s0,s1,s3,n,df;return s0=peg$currPos,(s1=peg$parseliteral_not_null())===peg$FAILED&&(s1=peg$parseliteral_null()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsedefault_expr())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(df=s3,(n=s1)&&!n.value&&(n.value="null"),s0=s1={default_val:df,nullable:n}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsedefault_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral_not_null())===peg$FAILED&&(s3=peg$parseliteral_null()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(df,n){return n&&!n.value&&(n.value="null"),{default_val:df,nullable:n}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?("auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s7=input.substr(peg$currPos,14),peg$currPos+=14):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s9=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s10=input.substr(peg$currPos,6),peg$currPos+=6):(s10=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c18)),s10===peg$FAILED&&("primary"===input.substr(peg$currPos,7).toLowerCase()?(s10=input.substr(peg$currPos,7),peg$currPos+=7):(s10=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c20))),s10===peg$FAILED&&(s10=null),s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s12=input.substr(peg$currPos,3),peg$currPos+=3):(s12=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c22)),s12!==peg$FAILED?s9=s10=[s10,s11,s12]:(peg$currPos=s9,s9=peg$FAILED)):(peg$currPos=s9,s9=peg$FAILED),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsekeyword_comment())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&(s12=peg$parse__())!==peg$FAILED?((s13=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"collate"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c158)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLLATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"collate",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s3;return s0=peg$currPos,"column_format"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c28)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("fixed"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s3===peg$FAILED&&("dynamic"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32)),s3===peg$FAILED&&("default"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"column_format",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=function(){var s0,s1,s3;return s0=peg$currPos,"storage"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c37)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("disk"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c39)),s3===peg$FAILED&&("memory"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c41))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"storage",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parsereference_definition())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s1,d=s3,clc=s5,a=s7,u=s9,co=s11,ca=s13,cf=s15,s=s17,re=s19,columnList.add(`create::${c.table}::${c.column}`),s0=s1={column:c,definition:d,nullable:clc&&clc.nullable,default_val:clc&&clc.default_val,auto_increment:a&&a.toLowerCase(),unique_or_primary:u&&`${u[0].toLowerCase()} ${u[2].toLowerCase()}`,comment:co,collate:ca,column_format:cf,storage:s,reference_definition:re,resource:"column"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedefault_expr(){var s0,s3;return s0=peg$currPos,peg$parseKW_DEFAULT()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral())===peg$FAILED&&(s3=peg$parseexpr()),s3!==peg$FAILED?s0={type:"default",value:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsealter_action(){var s0;return(s0=function(){var s0,s1,s3,s5,kc,cd;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecreate_column_definition())!==peg$FAILED?(kc=s3,cd=s5,s1={action:"add",...cd,keyword:kc,resource:"column",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5;return s0=peg$currPos,peg$parseKW_DROP()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={action:"drop",column:s5,keyword:s3,resource:"column",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,id;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_index_definition())!==peg$FAILED?(id=s3,s1={action:"add",type:"alter",...id},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,fsid;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_fulltext_spatial_index_definition())!==peg$FAILED?(fsid=s3,s1={action:"add",type:"alter",...fsid},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,tn;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TO())===peg$FAILED&&(s3=peg$parseKW_AS()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(tn=s5,s1={action:"rename",type:"alter",resource:"table",keyword:(kw=s3)&&kw[0].toLowerCase(),table:tn},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"algorithm"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c53)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s5===peg$FAILED&&("instant"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s5===peg$FAILED&&("inplace"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s5===peg$FAILED&&("copy"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"algorithm",resource:"algorithm",algorithm:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c62)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s5===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64)),s5===peg$FAILED&&("shared"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c66)),s5===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c68))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"lock",resource:"lock",lock:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecreate_index_definition(){var s0,s1,s3,s5,s7,s9,t,id;return s0=peg$currPos,(s1=peg$parseKW_INDEX())===peg$FAILED&&(s1=peg$parseKW_KEY()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecolumn())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(t=s5,id=s9,s0=s1={index:s3,definition:s7,keyword:s1.toLowerCase(),index_type:t,resource:"index",index_options:id}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_fulltext_spatial_index_definition(){var s0,s1,s3,s5,s7,s9,p,kc,id;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"fulltext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c757)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FULLTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"spatial"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c760)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SPATIAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INDEX())===peg$FAILED&&(s3=peg$parseKW_KEY()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s1,id=s9,s0=s1={index:s5,definition:s7,keyword:(kc=s3)&&`${p.toLowerCase()} ${kc.toLowerCase()}`||p.toLowerCase(),index_options:id,resource:"index"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseconstraint_name(){var s0,s1,s3,c;return s0=peg$currPos,(s1=peg$parseKW_CONSTRAINT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseident())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s0=s1={keyword:s1.toLowerCase(),constraint:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereference_definition(){var s0,s1,s3,s5,s7,s9,s11,m,od,ou;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"references"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c771)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="REFERENCES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("match full"===input.substr(peg$currPos,10).toLowerCase()?(s7=input.substr(peg$currPos,10),peg$currPos+=10):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81)),s7===peg$FAILED&&("match partial"===input.substr(peg$currPos,13).toLowerCase()?(s7=input.substr(peg$currPos,13),peg$currPos+=13):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c83)),s7===peg$FAILED&&("match simple"===input.substr(peg$currPos,12).toLowerCase()?(s7=input.substr(peg$currPos,12),peg$currPos+=12):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c85)))),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseon_reference())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_reference())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(m=s7,od=s9,ou=s11,s0=s1={definition:s5,table:s3,keyword:s1.toLowerCase(),match:m&&m.toLowerCase(),on_delete:od,on_update:ou}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseon_reference(){var s0,s1,s3,ro;return s0=peg$currPos,"on delete"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c88)),s1===peg$FAILED&&("on update"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c90))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,"restrict"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c93)),s1===peg$FAILED&&("cascade"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c95)),s1===peg$FAILED&&("set null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c97)),s1===peg$FAILED&&("no action"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c99)),s1===peg$FAILED&&("set default"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c101)))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=s1.toLowerCase(),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ro=s3,s0=s1={type:s1.toLowerCase(),value:ro}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetrigger_event(){var s0,s1,s3,s4,s5,s6,kw;return s0=peg$currPos,(s1=peg$parseKW_INSERT())===peg$FAILED&&(s1=peg$parseKW_DELETE())===peg$FAILED&&(s1=peg$parseKW_TRUNCATE()),s1!==peg$FAILED&&(kw=s1,s1={keyword:Array.isArray(kw)?kw[0].toLowerCase():kw.toLowerCase()}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_UPDATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s3=peg$currPos,"of"===input.substr(peg$currPos,2).toLowerCase()?(s4=input.substr(peg$currPos,2),peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c120)),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecolumn_ref_list())!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?s0=s1=function(kw,a){return{keyword:kw&&kw[0]&&kw[0].toLowerCase(),args:a&&{keyword:a[0],columns:a[2]}||null}}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_option(){var s0,s1,s3,s5,s6,s7,s8,s,v;return s0=peg$currPos,"auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s1===peg$FAILED&&("avg_row_length"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c143)),s1===peg$FAILED&&("key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c145)),s1===peg$FAILED&&("max_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c147)),s1===peg$FAILED&&("min_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c149)),s1===peg$FAILED&&("stats_sample_pages"===input.substr(peg$currPos,18).toLowerCase()?(s1=input.substr(peg$currPos,18),peg$currPos+=18):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c151))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED?(s=s3,v=s5,s0=s1={keyword:s1.toLowerCase(),symbol:s,value:v.value}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DEFAULT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("character set"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c154)),s3===peg$FAILED&&("charset"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c156)),s3===peg$FAILED&&("collate"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c158)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,t,s,v){return{keyword:kw&&`${kw[0].toLowerCase()} ${t.toLowerCase()}`||t.toLowerCase(),symbol:s,value:v}}(s1,s3,s5,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COMMENT())===peg$FAILED&&("connection"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c161))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:`'${c.value}'`}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"compression"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c164)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s6!==peg$FAILED?("zlib"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c168)),s7===peg$FAILED&&("lz4"===input.substr(peg$currPos,3).toLowerCase()?(s7=input.substr(peg$currPos,3),peg$currPos+=3):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c170)),s7===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64)))),s7!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s8="'",peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5!==peg$FAILED?s0=s1=function(kw,s,v){return{keyword:kw.toLowerCase(),symbol:s,value:v.join("").toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"engine"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c173)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:c.toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}function peg$parseselect_stmt(){var s0,s1,s2,s3,s4,s5,s6;return(s0=peg$parseselect_stmt_nake())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,40===input.charCodeAt(peg$currPos)?(s2="(",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c202)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseselect_stmt())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s6=")",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c204)),s6!==peg$FAILED?s1=s2=[s2,s3,s4,s5,s6]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=s1[2]),s0=s1),s0}function peg$parsewith_clause(){var s0,s3,s4,s5,s6,s7,s8,s9,cte;if(s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecte_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED?s0=peg$c14(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&peg$parseKW_WITH()!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=function(){var s0,s1,s2,s3;return s0=peg$currPos,"RECURSIVE"===input.substr(peg$currPos,9)?(s1="RECURSIVE",peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c469)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecte_definition())!==peg$FAILED?((cte=s6).recursive=!0,s0=[cte]):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecte_definition(){var s0,s1,s3,s9;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecte_column_definition())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={name:s1,stmt:s9,columns:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecte_column_definition(){var s0,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecolumn())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?s0=peg$c14(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseselect_stmt_nake(){var s0,s2,s6,s8,s10,s12,s14,s16,s18,s20,s22,cte,opts,d,c,f,w,g,h,o,l;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=peg$parsewith_clause())===peg$FAILED&&(s2=null),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"select"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c455)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s6=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parsequery_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=function(head,tail){const opts=[head];for(let i=0,l=tail.length;i<l;++i)opts.push(tail[i][1]);return opts}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s6=null),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=peg$parseKW_DISTINCT())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s10=function(){var s0,s1,s2,s3,s4,s5,s6,s7,head,tail;if(s0=peg$currPos,(s1=peg$parseKW_ALL())===peg$FAILED&&(s1=peg$currPos,(s2=peg$parseSTAR())!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseident_start(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$parseSTAR())),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(head=s1,tail=s2,columnList.add("select::null::(.*)"),s1=tail&&tail.length>0?(head[0]={expr:{type:"column_ref",table:null,column:"*"},as:null},createList(head[0],tail)):head[0],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,(s1=peg$parsecolumn_list_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s12=peg$parsefrom_clause())===peg$FAILED&&(s12=null),s12!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=peg$parsewhere_clause())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"group"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c517)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED?(s1=s5.value,s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"having"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c523)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=function(){var s0,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"order"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c521)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseorder_by_element())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s5:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s22=function(){var s0,s1,s3,s5,s6,s7,s8;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"limit"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c525)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsenumber_or_param())===peg$FAILED&&(s3=peg$parseKW_ALL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,(s6=function(){var s0,s1,s2,s3;return s0=peg$currPos,"offset"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c527)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OFFSET":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsenumber_or_param())!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(i1,tail){const res=[];return"string"==typeof i1?res.push({type:"origin",value:"all"}):res.push(i1),tail&&res.push(tail[2]),{seperator:tail&&tail[0]&&tail[0].toLowerCase()||"",value:res}}(s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s22=null),s22!==peg$FAILED?(cte=s2,opts=s6,d=s8,c=s10,w=s14,g=s16,h=s18,o=s20,l=s22,(f=s12)&&f.forEach(info=>info.table&&tableList.add(`select::${info.db}::${info.table}`)),s0={with:cte,type:"select",options:opts,distinct:d,columns:c,from:f,where:w,groupby:g,having:h,orderby:o,limit:l}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequery_option(){var s1;return peg$currPos,(s1=function(){var s0;return"sql_calc_found_rows"===input.substr(peg$currPos,19).toLowerCase()?(s0=input.substr(peg$currPos,19),peg$currPos+=19):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c774)),s0}())===peg$FAILED&&((s1=function(){var s0;return"sql_cache"===input.substr(peg$currPos,9).toLowerCase()?(s0=input.substr(peg$currPos,9),peg$currPos+=9):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c776)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_no_cache"===input.substr(peg$currPos,12).toLowerCase()?(s0=input.substr(peg$currPos,12),peg$currPos+=12):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c778)),s0}()),s1===peg$FAILED&&(s1=function(){var s0;return"sql_big_result"===input.substr(peg$currPos,14).toLowerCase()?(s0=input.substr(peg$currPos,14),peg$currPos+=14):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c782)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_small_result"===input.substr(peg$currPos,16).toLowerCase()?(s0=input.substr(peg$currPos,16),peg$currPos+=16):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c780)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_buffer_result"===input.substr(peg$currPos,17).toLowerCase()?(s0=input.substr(peg$currPos,17),peg$currPos+=17):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c784)),s0}())),s1!==peg$FAILED&&(s1=s1),s1}function peg$parsecolumn_list_item(){var s0,s1,s3,tbl;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parseKW_DOUBLE_COLON()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=peg$c212(s1,0,s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseSTAR()!==peg$FAILED?(tbl=s1,columnList.add(`select::${tbl}::(.*)`),s0=s1={expr:{type:"column_ref",table:tbl,column:"*"},as:null}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={expr:s1,as:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsealias_clause(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_AS())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(function(name){if(!0===reservedMap[name.toUpperCase()])throw new Error("Error: "+JSON.stringify(name)+" is a reserved word, can not as alias clause");return!1}(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_AS())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsefrom_clause(){var s0,s3;return s0=peg$currPos,peg$parseKW_FROM()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_to_item(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED?s0=s1=[s1,s5]:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_type(){var s0,s3;return s0=peg$currPos,peg$parseKW_USING()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("btree"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c219)),s3===peg$FAILED&&("hash"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c221))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={keyword:"using",type:s3.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_options(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseindex_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][1]);return result}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseindex_option(){var s0,s1,s3,s5,e,kbs;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c145)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY_BLOCK_SIZE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(e=s3,kbs=s5,s0=s1={type:s1.toLowerCase(),symbol:e,expr:kbs}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseindex_type())===peg$FAILED&&(s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c226)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("parser"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c228)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"with parser",expr:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"visible"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c231)),s1===peg$FAILED&&("invisible"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c233))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(k){return{type:k.toLowerCase(),expr:k.toLowerCase()}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsekeyword_comment()))),s0}function peg$parsetable_ref_list(){var s0,s1,s2,s3,head,tail;if(s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED){for(s2=[],s3=peg$parsetable_ref();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsetable_ref();s2!==peg$FAILED?(head=s1,(tail=s2).unshift(head),tail.forEach(tableInfo=>{const{table:table,as:as}=tableInfo;tableAlias[table]=table,as&&(tableAlias[as]=table)}),s0=s1=tail):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsetable_ref(){var s0,s2,s4;return s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=peg$parseCOMMA())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s4=peg$parsetable_base())!==peg$FAILED?s0=s4:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=function(){var s0,s1,s3,s5,s9,s10,s11,s12,s13,s14,s15,op,t,head,tail;if(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsetable_base())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseKW_USING())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s9=peg$parseident_name())!==peg$FAILED){for(s10=[],s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s11!==peg$FAILED;)s10.push(s11),s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?(op=s1,head=s9,tail=s10,(t=s3).join=op,t.using=createList(head,tail),s0=s1=t):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseon_clause())===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(op,t,expr){return t.join=op,t.on=expr,t}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsealias_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parseon_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(s1=function(op,stmt,alias,expr){return stmt.parentheses=!0,{expr:stmt,as:alias,join:op,on:expr}}(s1,s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_base(){var s0,s1,s3,s7,t,alias;return s0=peg$currPos,(s1=function(){var s0;return"dual"===input.substr(peg$currPos,4).toLowerCase()?(s0=input.substr(peg$currPos,4),peg$currPos+=4):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c745)),s0}())!==peg$FAILED&&(s1={type:"dual"}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(alias=s3,s0=s1="var"===(t=s1).type?(t.as=alias,t):{db:t.db,table:t.table,as:alias}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsealias_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?s0=s1=function(stmt,alias){return stmt.parentheses=!0,{expr:stmt,as:alias}}(s3,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsejoin_op(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"left"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c497)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="LEFT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"right"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c499)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="RIGHT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"full"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c501)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="FULL JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=function(){var s0,s1,s2,s3;return s0=peg$currPos,"inner"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c503)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parseKW_JOIN())!==peg$FAILED?s0=s1="INNER JOIN":(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parsetable_name(){var s0,s1,s2,s3,s4,s5,s6,dt,v;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSTAR())!==peg$FAILED?(dt=s1,tableList.add(`select::${dt}::(.*)`),s0=s1={db:dt,table:"*"}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=dt,obj.table=tail[3]),obj}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&((v=s1).db=null,v.table=v.name,s1=v),s0=s1)),s0}function peg$parseon_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"on"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c112)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewhere_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"where"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c515)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecolumn_ref_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_ref())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_ref())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c14(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseorder_by_element(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"desc"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c533)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DESC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"asc"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c530)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ASC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(e,d){const obj={expr:e,type:"ASC"};return"DESC"===d&&(obj.type="DESC"),obj}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenumber_or_param(){var s0;return(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=peg$parseparam()),s0}function peg$parseset_item(){var s0,s1,s2,s3,s4,s5,s7,tbl;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsecolumn())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s5="=",peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c257)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={column:s3,value:s7,table:(tbl=s1)&&tbl[0]}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereturning_stmt(){var s0,s1,s3,k,c;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"returning"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c473)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="RETURNING":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref_list())!==peg$FAILED?(c=s3,s0=s1={type:(k=s1)&&k.toLowerCase()||"returning",columns:c}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseinsert_value_clause(){var s0;return(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"values"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c511)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsevalue_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c14(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseselect_stmt_nake()),s0}function peg$parseinsert_partition(){var s0,s3,s5,s6,s7,s8,s9,s10,s11;if(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseident_name())!==peg$FAILED){for(s6=[],s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s7!==peg$FAILED;)s6.push(s7),s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseRPAREN())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?s0=createList(s5,s6):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsevalue_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsereplace_insert(){var s0,s1;return s0=peg$currPos,(s1=peg$parseKW_INSERT())!==peg$FAILED&&(s1="insert"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_REPLACE())!==peg$FAILED&&(s1="replace"),s0=s1),s0}function peg$parsevalue_item(){var s0,s3;return s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const el={type:"expr_list"};return el.value=createList(head,tail),el}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseinterval_expr(){var s0,s3,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"interval"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c682)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTERVAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"year"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c685)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="YEAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"month"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c688)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONTH":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"day"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c691)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DAY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"hour"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c694)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="HOUR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"minute"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c697)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MINUTE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"second"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c700)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SECOND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED?s0={type:"interval",expr:s3,unit:s5.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecase_expr(){var s0,s3,s5,s6,s7,s11,expr,condition_list,otherwise;if(s0=peg$currPos,peg$parseKW_CASE()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseexpr())===peg$FAILED&&(s3=null),s3!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],(s6=peg$parsecase_when_then())!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parsecase_when_then();else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"else"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c586)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0={type:"else",result:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"end"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c588)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_CASE())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(expr=s3,condition_list=s5,(otherwise=s7)&&condition_list.push(otherwise),s0={type:"case",expr:expr||null,args:condition_list}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecase_when_then(){var s0,s3,s7;return s0=peg$currPos,peg$parseKW_WHEN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"then"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c584)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s3,result:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createBinaryExprChain(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseadditive_operator())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createUnaryExpr(s1,s2[0][1]),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseand_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c274(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=peg$parseselect_stmt()),s0}function peg$parseand_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsenot_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c274(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsenot_expr(){var s0,s1,s2,s3,s4;return(s0=peg$parsecomparison_expr())===peg$FAILED&&(s0=function(){var s0,s1,s5,op,stmt;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_EXISTS())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c280(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_EXISTS()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(op=s1,(stmt=s5).parentheses=!0,s1=createUnaryExpr(op,stmt),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NOT())===peg$FAILED&&(s1=peg$currPos,33===input.charCodeAt(peg$currPos)?(s2="!",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c276)),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,61===input.charCodeAt(peg$currPos)?(s4="=",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c257)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsenot_expr())!==peg$FAILED?s0=s1=createUnaryExpr("NOT",s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecomparison_expr(){var s0,s1,s3,left,rh;return s0=peg$currPos,(s1=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return(s0=function(){var s1,s2,s3,s4,s5,s6;if(peg$currPos,s1=[],s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED);else s1=peg$FAILED;return s1!==peg$FAILED&&(s1={type:"arithmetic",tail:s1}),s1}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={op:s1,right:s5}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsevar_decl())===peg$FAILED&&(s3=peg$parseliteral_string()),s3!==peg$FAILED?(s1=function(op,e){return{op:op,right:e}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_BETWEEN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c280(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_BETWEEN()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AND()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:s1,right:{type:"expr_list",value:[s3,s7]}}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8;return s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:"IS",right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?(s3=peg$currPos,(s4=peg$parseKW_DISTINCT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseKW_FROM())!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsetable_name())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?(s1=function(right){const{db:db,table:table}=right.pop(),tableName="*"===table?"*":`"${table}"`;return{op:"IS",right:{type:"origin",value:"DISTINCT FROM "+(db?`"${db}".${tableName}`:tableName)}}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_IS())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_NOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?(s1=function(right){return{op:"IS NOT",right:right}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED))),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_LIKE())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c280(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_LIKE()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecomparison_expr())!==peg$FAILED?s0=s1={op:s1,right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,c;return s0=peg$currPos,"@>"===input.substr(peg$currPos,2)?(s1="@>",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c302)),s1===peg$FAILED&&("<@"===input.substr(peg$currPos,2)?(s1="<@",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c304)),s1===peg$FAILED&&(s1=peg$parseOPERATOR_CONCATENATION())===peg$FAILED&&(s1=function(){var s0;return"#>>"===input.substr(peg$currPos,3)?(s0="#>>",peg$currPos+=3):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c800)),s0}())===peg$FAILED&&(s1=function(){var s0;return"#>"===input.substr(peg$currPos,2)?(s0="#>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c798)),s0}())===peg$FAILED&&(63===input.charCodeAt(peg$currPos)?(s1="?",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c306)),s1===peg$FAILED&&("?|"===input.substr(peg$currPos,2)?(s1="?|",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c308)),s1===peg$FAILED&&("?&"===input.substr(peg$currPos,2)?(s1="?&",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c310)),s1===peg$FAILED&&("#-"===input.substr(peg$currPos,2)?(s1="#-",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c312))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_list_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={op:s1,right:(c=s3)&&c.expr||c},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(left=s1,s0=s1=null===(rh=s3)?left:"arithmetic"===rh.type?createBinaryExprChain(left,rh.tail):createBinaryExpr(rh.op,left,rh.right)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsearithmetic_comparison_operator(){var s0;return">="===input.substr(peg$currPos,2)?(s0=">=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c283)),s0===peg$FAILED&&(62===input.charCodeAt(peg$currPos)?(s0=">",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c285)),s0===peg$FAILED&&("<="===input.substr(peg$currPos,2)?(s0="<=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c287)),s0===peg$FAILED&&("<>"===input.substr(peg$currPos,2)?(s0="<>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c289)),s0===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s0="<",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c291)),s0===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c257)),s0===peg$FAILED&&("!="===input.substr(peg$currPos,2)?(s0="!=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c293)))))))),s0}function peg$parsein_op(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_IN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c280(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_IN()),s0}function peg$parseadditive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsemultiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c274(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseadditive_operator(){var s0;return 43===input.charCodeAt(peg$currPos)?(s0="+",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c315)),s0===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s0="-",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c317))),s0}function peg$parsemultiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=createBinaryExprChain(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemultiplicative_operator(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c320)),s0===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s0="/",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c322)),s0===peg$FAILED&&(37===input.charCodeAt(peg$currPos)?(s0="%",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c324)))),s0}function peg$parseprimary(){var s0,s3,list;return(s0=function(){var s0,s1,s3,s5,s9,s11,s13,s17;return s0=peg$currPos,(s1=peg$parseliteral())===peg$FAILED&&(s1=peg$parseaggr_func())===peg$FAILED&&(s1=peg$parsefunc_call())===peg$FAILED&&(s1=peg$parsecase_expr())===peg$FAILED&&(s1=peg$parseinterval_expr())===peg$FAILED&&(s1=peg$parsecolumn_ref())===peg$FAILED&&(s1=peg$parseparam()),s1!==peg$FAILED&&peg$parseKW_DOUBLE_COLON()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=peg$c212(s1,0,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseRPAREN())!==peg$FAILED?s0=s1={type:"cast",expr:s5,symbol:"as",target:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,precision){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+")"}}}(s5,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseCOMMA()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(e,precision,scale){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+", "+scale+")"}}}(s5,s13,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"signed"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c604)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_UNSIGNED()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_INTEGER())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,s,t){return{type:"cast",expr:e,symbol:"as",target:{dataType:s+(t?" "+t:"")}}}(s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}())===peg$FAILED&&(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parseaggr_func())===peg$FAILED&&(s0=peg$parsefunc_call())===peg$FAILED&&(s0=peg$parsecase_expr())===peg$FAILED&&(s0=peg$parseinterval_expr())===peg$FAILED&&(s0=peg$parsecolumn_ref())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c325(s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((list=s3).parentheses=!0,s0=list):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsevar_decl()))),s0}function peg$parsecolumn_ref(){var s0,s1,s3,s5,tbl,col;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn())!==peg$FAILED?(tbl=s1,col=s5,columnList.add(`select::${tbl}::${col}`),s0=s1={type:"column_ref",table:tbl,column:col}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseSTAR())!==peg$FAILED?s0=s1=function(tbl){return columnList.add(`select::${tbl}::(.*)`),{type:"column_ref",table:tbl,column:"*"}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return"->>"===input.substr(peg$currPos,3)?(s0="->>",peg$currPos+=3):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c796)),s0}())===peg$FAILED&&(s3=function(){var s0;return"->"===input.substr(peg$currPos,2)?(s0="->",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c794)),s0}()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseliteral_string())===peg$FAILED&&(s5=peg$parseliteral_numeric()),s5!==peg$FAILED?s0=s1=function(col,a,j){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col,arrow:a,property:j}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&(s1=function(col){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col}}(s1)),s0=s1))),s0}function peg$parseident(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(peg$c331(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}function peg$parsequoted_ident(){var s0;return(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1='"',peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s1!==peg$FAILED){if(s2=[],peg$c336.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c337)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c336.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c337));else s2=peg$FAILED;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3='"',peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s3!==peg$FAILED?(s1=peg$c338(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1="'",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s1!==peg$FAILED){if(s2=[],peg$c339.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c340)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c339.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c340));else s2=peg$FAILED;s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3="'",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s3!==peg$FAILED?(s1=peg$c338(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,96===input.charCodeAt(peg$currPos)?(s1="`",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c342)),s1!==peg$FAILED){if(s2=[],peg$c343.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c344)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c343.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c344));else s2=peg$FAILED;s2!==peg$FAILED?(96===input.charCodeAt(peg$currPos)?(s3="`",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c342)),s3!==peg$FAILED?(s1=peg$c338(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsecolumn(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parsecolumn_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsecolumn_part();s2!==peg$FAILED?(s1=peg$c346(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&(peg$c331(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}function peg$parseident_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parseident_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseident_part();s2!==peg$FAILED?s0=s1=peg$c346(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_start(){var s0;return peg$c347.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c348)),s0}function peg$parseident_part(){var s0;return peg$c349.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c350)),s0}function peg$parsecolumn_part(){var s0;return peg$c349.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c350)),s0}function peg$parseparam(){var s1,s2,s3;return peg$currPos,s1=peg$currPos,58===input.charCodeAt(peg$currPos)?(s2=":",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c352)),s2!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1={type:"param",value:s1[1]}),s1}function peg$parseaggr_func(){var s0;return(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"count"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c562)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COUNT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s1;return peg$currPos,42===input.charCodeAt(peg$currPos)?(s1="*",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c320)),s1!==peg$FAILED&&(s1={type:"star",value:"*"}),s1}())!==peg$FAILED&&(s1={expr:s1}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DISTINCT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref())!==peg$FAILED?s0=s1={distinct:s1,expr:s3}:(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:s5}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"sum"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c571)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SUM":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"max"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c565)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MAX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"min"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c568)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"avg"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c574)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AVG":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:{expr:s5}}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsefunc_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:s5||{type:"expr_list",value:[]}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_date"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c676)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_time"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c703)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_CURRENT_TIMESTAMP())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c709)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"user"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c670)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c712)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"system_user"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c715)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SYSTEM_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseRPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:{type:"expr_list",value:[]}}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseliteral(){var s0;return(s0=peg$parseliteral_string())===peg$FAILED&&(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"true"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c440)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!0}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"false"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c444)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!1}),s0=s1),s0}())===peg$FAILED&&(s0=peg$parseliteral_null())===peg$FAILED&&(s0=function(){var s0,s1,s3,s4,s5,s6,s8,ca;if(s0=peg$currPos,(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP())===peg$FAILED&&(s1=peg$parseKW_DATETIME()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s3=peg$currPos,39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s4!==peg$FAILED){for(s5=[],s6=peg$parsesingle_char();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsesingle_char();s5!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s6!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}else peg$currPos=s3,s3=peg$FAILED;s3!==peg$FAILED?(ca=s3,s1={type:s1.toLowerCase(),value:ca[1].join("")},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CURRENT_TIMESTAMP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseLPAREN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseRPAREN())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=(s6=function(type,lf,rt){if(lf&&rt)return!0}(0,s3,s5))?peg$FAILED:void 0)!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on update current_timestamp"===input.substr(peg$currPos,27).toLowerCase()?(s8=input.substr(peg$currPos,27),peg$currPos+=27):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c374)),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s1=function(type,lf,rt,up){return{type:"origin",value:(up?`${type} ${up}`:type).toLowerCase()}}(s1,0,0,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}()),s0}function peg$parseliteral_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"null"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c436)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"null",value:null}),s1}function peg$parseliteral_not_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"not null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c438)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"not null",value:"not null"}),s1}function peg$parseliteral_string(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=peg$currPos,39===input.charCodeAt(peg$currPos)?(s2="'",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_char();s3!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;if(s1!==peg$FAILED&&(s1={type:"single_quote_string",value:s1[1].join("")}),(s0=s1)===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,34===input.charCodeAt(peg$currPos)?(s2='"',peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_quote_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_quote_char();s3!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s4='"',peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c335)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(s1=function(ca){return{type:"string",value:ca[1].join("")}}(s1)),s0=s1}return s0}function peg$parsesingle_quote_char(){var s0;return peg$c376.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c377)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parsesingle_char(){var s0;return peg$c378.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c379)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parseescape_char(){var s0,s1,s2,s3,s4,s5,h1,h2,h3,h4;return s0=peg$currPos,"\\'"===input.substr(peg$currPos,2)?(s1="\\'",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c381)),s1!==peg$FAILED&&(s1="'"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,'\\"'===input.substr(peg$currPos,2)?(s1='\\"',peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c384)),s1!==peg$FAILED&&(s1='"'),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\\\"===input.substr(peg$currPos,2)?(s1="\\\\",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s1!==peg$FAILED&&(s1="\\"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\/"===input.substr(peg$currPos,2)?(s1="\\/",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c390)),s1!==peg$FAILED&&(s1="/"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\b"===input.substr(peg$currPos,2)?(s1="\\b",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c393)),s1!==peg$FAILED&&(s1="\b"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\f"===input.substr(peg$currPos,2)?(s1="\\f",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c396)),s1!==peg$FAILED&&(s1="\f"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\n"===input.substr(peg$currPos,2)?(s1="\\n",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c399)),s1!==peg$FAILED&&(s1="\n"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\r"===input.substr(peg$currPos,2)?(s1="\\r",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c402)),s1!==peg$FAILED&&(s1="\r"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\t"===input.substr(peg$currPos,2)?(s1="\\t",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c405)),s1!==peg$FAILED&&(s1="\t"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\u"===input.substr(peg$currPos,2)?(s1="\\u",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c408)),s1!==peg$FAILED&&(s2=peg$parsehexDigit())!==peg$FAILED&&(s3=peg$parsehexDigit())!==peg$FAILED&&(s4=peg$parsehexDigit())!==peg$FAILED&&(s5=peg$parsehexDigit())!==peg$FAILED?(h1=s2,h2=s3,h3=s4,h4=s5,s0=s1=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1="\\",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c411)),s1!==peg$FAILED&&(s1="\\"),s0=s1)))))))))),s0}function peg$parseliteral_numeric(){var s1,n;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parseexp())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"bigint",value:s1+s2+s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,frac){const numStr=int_+frac;return isBigInt(int_)?{type:"bigint",value:numStr}:parseFloat(numStr)}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parseexp())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?(s1=function(int_,exp){return{type:"bigint",value:int_+exp}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?(s1=function(int_){return isBigInt(int_)?{type:"bigint",value:int_}:parseFloat(int_)}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)))),s0}())!==peg$FAILED&&(s1=(n=s1)&&"bigint"===n.type?n:{type:"number",value:n}),s1}function peg$parseint(){var s0,s1,s2;return(s0=peg$parsedigits())===peg$FAILED&&(s0=peg$parsedigit())===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c317)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c315))),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c317)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c315))),s1!==peg$FAILED&&(s2=peg$parsedigit())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefrac(){var s0,s1,s2;return s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=".",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c422)),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="."+s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexp(){var s0,s1,s2;return s0=peg$currPos,(s1=function(){var s0,s1,s2,sign;return s0=peg$currPos,peg$c430.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c431)),s1!==peg$FAILED?(peg$c432.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c433)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1+=null!==(sign=s2)?sign:"":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1+=s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedigits(){var s1,s2;if(peg$currPos,s1=[],(s2=peg$parsedigit())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedigit();else s1=peg$FAILED;return s1!==peg$FAILED&&(s1=s1.join("")),s1}function peg$parsedigit(){var s0;return peg$c426.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s0}function peg$parsehexDigit(){var s0;return peg$c428.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c429)),s0}function peg$parseKW_DEFAULT(){var s0,s1,s2,s3;return s0=peg$currPos,"default"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TO(){var s0,s1,s2,s3;return s0=peg$currPos,"to"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c442)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DROP(){var s0,s1,s2,s3;return s0=peg$currPos,"drop"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c448)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DROP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UPDATE(){var s0,s1,s2,s3;return s0=peg$currPos,"update"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c457)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CREATE(){var s0,s1,s2,s3;return s0=peg$currPos,"create"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c459)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TEMPORARY(){var s0,s1,s2,s3;return s0=peg$currPos,"temporary"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c461)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IF_NOT_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"if not exists"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c463)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DELETE(){var s0,s1,s2,s3;return s0=peg$currPos,"delete"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c465)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INSERT(){var s0,s1,s2,s3;return s0=peg$currPos,"insert"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c467)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_REPLACE(){var s0,s1,s2,s3;return s0=peg$currPos,"replace"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c471)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_RENAME(){var s0,s1,s2,s3;return s0=peg$currPos,"rename"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c476)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_PARTITION(){var s0,s1,s2,s3;return s0=peg$currPos,"partition"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c482)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PARTITION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTO(){var s0,s1,s2,s3;return s0=peg$currPos,"into"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c485)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FROM(){var s0,s1,s2,s3;return s0=peg$currPos,"from"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c487)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SET(){var s0,s1,s2,s3;return s0=peg$currPos,"set"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c489)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AS(){var s0,s1,s2,s3;return s0=peg$currPos,"as"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c491)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLE(){var s0,s1,s2,s3;return s0=peg$currPos,"table"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c493)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_JOIN(){var s0,s1,s2,s3;return s0=peg$currPos,"join"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c505)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OUTER(){var s0,s1,s2,s3;return s0=peg$currPos,"outer"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c507)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNION(){var s0,s1,s2,s3;return s0=peg$currPos,"union"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c509)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_USING(){var s0,s1,s2,s3;return s0=peg$currPos,"using"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c513)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WITH(){var s0,s1,s2,s3;return s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c226)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BY(){var s0,s1,s2,s3;return s0=peg$currPos,"by"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c519)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ALL(){var s0,s1,s2,s3;return s0=peg$currPos,"all"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c536)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DISTINCT(){var s0,s1,s2,s3;return s0=peg$currPos,"distinct"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c539)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DISTINCT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BETWEEN(){var s0,s1,s2,s3;return s0=peg$currPos,"between"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c542)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BETWEEN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IN(){var s0,s1,s2,s3;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c179)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IS(){var s0,s1,s2,s3;return s0=peg$currPos,"is"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c546)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_LIKE(){var s0,s1,s2,s3;return s0=peg$currPos,"like"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c549)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LIKE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"exists"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c552)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="EXISTS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NOT(){var s0,s1,s2,s3;return s0=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c124)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NOT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AND(){var s0,s1,s2,s3;return s0=peg$currPos,"and"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c556)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OR(){var s0,s1,s2,s3;return s0=peg$currPos,"or"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c559)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CASE(){var s0,s1,s2,s3;return s0=peg$currPos,"case"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c580)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WHEN(){var s0,s1,s2,s3;return s0=peg$currPos,"when"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c582)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CAST(){var s0,s1,s2,s3;return s0=peg$currPos,"cast"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c590)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"char"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c592)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"varchar"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c595)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="VARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NUMERIC(){var s0,s1,s2,s3;return s0=peg$currPos,"numeric"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c598)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NUMERIC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DECIMAL(){var s0,s1,s2,s3;return s0=peg$currPos,"decimal"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c601)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DECIMAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNSIGNED(){var s0,s1,s2,s3;return s0=peg$currPos,"unsigned"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c607)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNSIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INT(){var s0,s1,s2,s3;return s0=peg$currPos,"int"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c610)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTEGER(){var s0,s1,s2,s3;return s0=peg$currPos,"integer"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c616)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTEGER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SMALLINT(){var s0,s1,s2,s3;return s0=peg$currPos,"smallint"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c628)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TINYINT(){var s0,s1,s2,s3;return s0=peg$currPos,"tinyint"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c631)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BIGINT(){var s0,s1,s2,s3;return s0=peg$currPos,"bigint"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c646)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIGINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FLOAT(){var s0,s1,s2,s3;return s0=peg$currPos,"float"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c649)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FLOAT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DOUBLE(){var s0,s1,s2,s3;return s0=peg$currPos,"double"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c652)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DOUBLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATE(){var s0,s1,s2,s3;return s0=peg$currPos,"date"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c655)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATETIME(){var s0,s1,s2,s3;return s0=peg$currPos,"datetime"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c658)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATETIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIME(){var s0,s1,s2,s3;return s0=peg$currPos,"time"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c661)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"timestamp"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c664)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TRUNCATE(){var s0,s1,s2,s3;return s0=peg$currPos,"truncate"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c667)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TRUNCATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CURRENT_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"current_timestamp"===input.substr(peg$currPos,17).toLowerCase()?(s1=input.substr(peg$currPos,17),peg$currPos+=17):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c706)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VAR_PRE(){var s0;return(s0=function(){var s0;return"@@"===input.substr(peg$currPos,2)?(s0="@@",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c735)),s0}())===peg$FAILED&&(s0=function(){var s0;return 64===input.charCodeAt(peg$currPos)?(s0="@",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c733)),s0}())===peg$FAILED&&(s0=function(){var s0;return 36===input.charCodeAt(peg$currPos)?(s0="$",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c737)),s0}()),s0}function peg$parseKW_DOUBLE_COLON(){var s0;return"::"===input.substr(peg$currPos,2)?(s0="::",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c743)),s0}function peg$parseKW_ASSIGIN_EQUAL(){var s0;return 61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c257)),s0}function peg$parseKW_ADD(){var s0,s1,s2,s3;return s0=peg$currPos,"add"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c747)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ADD":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COLUMN(){var s0,s1,s2,s3;return s0=peg$currPos,"column"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c750)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLUMN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INDEX(){var s0,s1,s2,s3;return s0=peg$currPos,"index"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c753)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INDEX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_KEY(){var s0,s1,s2,s3;return s0=peg$currPos,"key"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c22)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COMMENT(){var s0,s1,s2,s3;return s0=peg$currPos,"comment"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c765)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COMMENT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CONSTRAINT(){var s0,s1,s2,s3;return s0=peg$currPos,"constraint"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c768)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CONSTRAINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseDOT(){var s0;return 46===input.charCodeAt(peg$currPos)?(s0=".",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c422)),s0}function peg$parseCOMMA(){var s0;return 44===input.charCodeAt(peg$currPos)?(s0=",",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c786)),s0}function peg$parseSTAR(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c320)),s0}function peg$parseLPAREN(){var s0;return 40===input.charCodeAt(peg$currPos)?(s0="(",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c202)),s0}function peg$parseRPAREN(){var s0;return 41===input.charCodeAt(peg$currPos)?(s0=")",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c204)),s0}function peg$parseSEMICOLON(){var s0;return 59===input.charCodeAt(peg$currPos)?(s0=";",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c792)),s0}function peg$parseOPERATOR_CONCATENATION(){var s0;return"||"===input.substr(peg$currPos,2)?(s0="||",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c802)),s0}function peg$parseLOGIC_OPERATOR(){var s0;return(s0=peg$parseOPERATOR_CONCATENATION())===peg$FAILED&&(s0=function(){var s0;return"&&"===input.substr(peg$currPos,2)?(s0="&&",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c804)),s0}()),s0}function peg$parse__(){var s0,s1;for(s0=[],(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());s1!==peg$FAILED;)s0.push(s1),(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());return s0}function peg$parsecomment(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"/*"===input.substr(peg$currPos,2)?(s1="/*",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c806)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c808)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c808)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?("*/"===input.substr(peg$currPos,2)?(s3="*/",peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c808)),s3!==peg$FAILED?s0=s1=[s1,s2,s3]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"--"===input.substr(peg$currPos,2)?(s1="--",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c810)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsekeyword_comment(){var s0,s1,s3,s5,k,s,c;return s0=peg$currPos,(s1=peg$parseKW_COMMENT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?(s=s3,c=s5,s0=s1={type:(k=s1).toLowerCase(),keyword:k.toLowerCase(),symbol:s,value:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsechar(){var s0;return input.length>peg$currPos?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c814)),s0}function peg$parsewhitespace(){var s0;return peg$c815.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c816)),s0}function peg$parseEOL(){var s0,s1;if((s0=function(){var s0,s1;return s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c814)),peg$silentFails--,s1===peg$FAILED?s0=void 0:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED)if(s0=[],peg$c412.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c413)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c412.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c413));else s0=peg$FAILED;return s0}function peg$parseproc_stmt(){var s0,s3;return s0=peg$currPos,varList=[],void 0!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseassign_stmt())===peg$FAILED&&(s3=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return"return"===input.substr(peg$currPos,6).toLowerCase()?(s0=input.substr(peg$currPos,6),peg$currPos+=6):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c739)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_expr())!==peg$FAILED?s0={type:"return",expr:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED?s0={stmt:s3,vars:varList}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseassign_stmt(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsevar_decl())===peg$FAILED&&(s1=peg$parsewithout_prefix_var_decl()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return":="===input.substr(peg$currPos,2)?(s0=":=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c741)),s0}())===peg$FAILED&&(s3=peg$parseKW_ASSIGIN_EQUAL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseproc_expr())!==peg$FAILED?s0=s1={type:"assign",left:s1,symbol:s3,right:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_expr(){var s0;return(s0=peg$parseselect_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseon_clause())!==peg$FAILED?s0=s1={type:"join",ltable:s1,rtable:s5,op:s3,on:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseproc_additive_expr())===peg$FAILED&&(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return 91===input.charCodeAt(peg$currPos)?(s0="[",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c788)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_primary_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0;return 93===input.charCodeAt(peg$currPos)?(s0="]",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c790)),s0}()!==peg$FAILED?s0={type:"array",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parseproc_additive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_multiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c274(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_multiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c274(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_primary(){var s0,s3;return(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parsevar_decl())===peg$FAILED&&(s0=peg$parseproc_func_call())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_additive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c325(s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_func_name(){var s0,s1,s2,s3,s4,s5,s6;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){let name=dt;return null!==tail&&(name=`${dt}.${tail[3]}`),name}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_func_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseproc_primary_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:{type:"expr_list",value:s5}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:null}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_primary_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c14(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevar_decl(){var s0,s1,s2,p,d;return s0=peg$currPos,(s1=peg$parseKW_VAR_PRE())!==peg$FAILED&&(s2=peg$parsewithout_prefix_var_decl())!==peg$FAILED?(p=s1,d=s2,s0=s1={type:"var",...d,prefix:p}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewithout_prefix_var_decl(){var s0,s1,s2,name,m;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(s2=function(){var s1,s2,s3,s4;for(peg$currPos,s1=[],s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c422)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c422)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);return s1!==peg$FAILED&&(s1=function(l){const s=[];for(let i=0;i<l.length;i++)s.push(l[i][1]);return s}(s1)),s1}())!==peg$FAILED?(name=s1,m=s2,varList.push(name),s0=s1={type:"var",name:name,members:m,prefix:null}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedata_type(){var s0,s1;return(s0=function(){var s0,s1,s5,s6;if(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],peg$c426.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c426.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427));else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={dataType:s1,length:parseInt(s5.join(""),10)},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CHAR())!==peg$FAILED&&(s1=peg$c830(s1)),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_VARCHAR())!==peg$FAILED&&(s1=peg$c830(s1)),s0=s1)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,r,s;if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED)if((s2=peg$parse__())!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if((s4=peg$parse__())!==peg$FAILED){if(s5=[],peg$c426.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c426.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427));else s5=peg$FAILED;if(s5!==peg$FAILED)if((s6=peg$parse__())!==peg$FAILED){if(s7=peg$currPos,(s8=peg$parseCOMMA())!==peg$FAILED)if((s9=peg$parse__())!==peg$FAILED){if(s10=[],peg$c426.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s11!==peg$FAILED)for(;s11!==peg$FAILED;)s10.push(s11),peg$c426.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427));else s10=peg$FAILED;s10!==peg$FAILED?s7=s8=[s8,s9,s10]:(peg$currPos=s7,s7=peg$FAILED)}else peg$currPos=s7,s7=peg$FAILED;else peg$currPos=s7,s7=peg$FAILED;s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseRPAREN())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsenumeric_type_suffix())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(r=s7,s=s11,s1={dataType:s1,length:parseInt(s5.join(""),10),scale:r&&parseInt(r[2].join(""),10),parentheses:!0,suffix:s},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED){if(s2=[],peg$c426.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c426.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427));else s2=peg$FAILED;s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=peg$parsenumeric_type_suffix())===peg$FAILED&&(s4=null),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(s1=function(t,l,s){return{dataType:t,length:parseInt(l.join(""),10),suffix:s}}(s1,s2,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parsenumeric_type_suffix())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(s1=function(t,s){return{dataType:t,suffix:s}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))}return s0}())===peg$FAILED&&((s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_DATETIME())===peg$FAILED&&(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP()),s1!==peg$FAILED&&(s1=peg$c830(s1)),(s0=s1)===peg$FAILED)&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"json"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c619)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSON":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"jsonb"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c622)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSONB":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1=peg$c830(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"geometry"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c625)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GEOMETRY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c830(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"tinytext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c634)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"text"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c637)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"mediumtext"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c640)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MEDIUMTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"longtext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c643)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LONGTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1=peg$c835(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"uuid"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c673)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UUID":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c835(s1)),s1}()),s0}function peg$parsenumeric_type_suffix(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_UNSIGNED())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"zerofill"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c613)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ZEROFILL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(un,ze){const result=[];return un&&result.push(un),ze&&result.push(ze),result}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}const reservedMap={ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!0,LEFT:!0,LIKE:!0,LIMIT:!0,NOT:!0,NULL:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,RECURSIVE:!0,RENAME:!0,RIGHT:!0,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,STATUS:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,TYPE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WITH:!0,WHEN:!0,WHERE:!0,GLOBAL:!0,SESSION:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0};function createUnaryExpr(op,e){return{type:"unary_expr",operator:op,expr:e}}function createBinaryExpr(op,left,right){return{type:"binary_expr",operator:op,left:left,right:right}}function isBigInt(numberStr){const previousMaxSafe=BigInt(Number.MAX_SAFE_INTEGER);return!(BigInt(numberStr)<previousMaxSafe)}function createList(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][3]);return result}function createBinaryExprChain(head,tail){let result=head;for(let i=0;i<tail.length;i++)result=createBinaryExpr(tail[i][1],result,tail[i][3]);return result}function queryTableAlias(tableName){const alias=tableAlias[tableName];return alias||tableName||null}function columnListTableAlias(columnList){const columns=[];for(let column of columnList.keys()){const columnInfo=column.split("::");if(!columnInfo){columns.push(column);break}columnInfo&&columnInfo[1]&&(columnInfo[1]=queryTableAlias(columnInfo[1])),columns.push(columnInfo.join("::"))}return columns}function commonStrToLiteral(strOrLiteral){return"string"==typeof strOrLiteral?{type:"same",value:strOrLiteral}:strOrLiteral}let varList=[];const tableList=new Set,columnList=new Set,tableAlias={};if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(25)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BigInt){"use strict";function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var i,escapedParts="";for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}return"Expected "+function(expected){var i,j,expectation,descriptions=new Array(expected.length);for(i=0;i<expected.length;i++)descriptions[i]=(expectation=expected[i],DESCRIBE_EXPECTATION_FNS[expectation.type](expectation));if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}(expected)+" but "+function(found){return found?'"'+literalEscape(found)+'"':"end of input"}(found)+" found."},{SyntaxError:peg$SyntaxError,parse:function(input,options){options=void 0!==options?options:{};var peg$result,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c7=function(head,tail){return createList(head,tail)},peg$c10=peg$literalExpectation("IDENTITY",!0),peg$c13=peg$literalExpectation("UNIQUE",!0),peg$c15=peg$literalExpectation("PRIMARY",!0),peg$c17=peg$literalExpectation("KEY",!0),peg$c21=peg$literalExpectation("COLUMN_FORMAT",!0),peg$c23=peg$literalExpectation("FIXED",!0),peg$c25=peg$literalExpectation("DYNAMIC",!0),peg$c27=peg$literalExpectation("DEFAULT",!0),peg$c30=peg$literalExpectation("STORAGE",!0),peg$c32=peg$literalExpectation("DISK",!0),peg$c34=peg$literalExpectation("MEMORY",!0),peg$c46=peg$literalExpectation("ALGORITHM",!0),peg$c48=peg$literalExpectation("INSTANT",!0),peg$c50=peg$literalExpectation("INPLACE",!0),peg$c52=peg$literalExpectation("COPY",!0),peg$c55=peg$literalExpectation("LOCK",!0),peg$c57=peg$literalExpectation("NONE",!0),peg$c59=peg$literalExpectation("SHARED",!0),peg$c61=peg$literalExpectation("EXCLUSIVE",!0),peg$c66=peg$literalExpectation("CHECK",!0),peg$c69=peg$literalExpectation("NOCHECK",!0),peg$c75=peg$literalExpectation("PRIMARY KEY",!0),peg$c79=peg$literalExpectation("NOT",!0),peg$c81=peg$literalExpectation("FOR",!0),peg$c83=peg$literalExpectation("REPLICATION",!0),peg$c86=peg$literalExpectation("FOREIGN KEY",!0),peg$c89=peg$literalExpectation("MATCH FULL",!0),peg$c91=peg$literalExpectation("MATCH PARTIAL",!0),peg$c93=peg$literalExpectation("MATCH SIMPLE",!0),peg$c96=peg$literalExpectation("ON DELETE",!0),peg$c98=peg$literalExpectation("ON UPDATE",!0),peg$c101=peg$literalExpectation("RESTRICT",!0),peg$c103=peg$literalExpectation("CASCADE",!0),peg$c105=peg$literalExpectation("SET NULL",!0),peg$c107=peg$literalExpectation("NO ACTION",!0),peg$c109=peg$literalExpectation("SET DEFAULT",!0),peg$c113=peg$literalExpectation("AUTO_INCREMENT",!0),peg$c115=peg$literalExpectation("AVG_ROW_LENGTH",!0),peg$c117=peg$literalExpectation("KEY_BLOCK_SIZE",!0),peg$c119=peg$literalExpectation("MAX_ROWS",!0),peg$c121=peg$literalExpectation("MIN_ROWS",!0),peg$c123=peg$literalExpectation("STATS_SAMPLE_PAGES",!0),peg$c126=peg$literalExpectation("CHARACTER SET",!0),peg$c128=peg$literalExpectation("CHARSET",!0),peg$c130=peg$literalExpectation("COLLATE",!0),peg$c133=peg$literalExpectation("CONNECTION",!0),peg$c136=peg$literalExpectation("COMPRESSION",!0),peg$c138=peg$literalExpectation("'",!1),peg$c140=peg$literalExpectation("ZLIB",!0),peg$c142=peg$literalExpectation("LZ4",!0),peg$c145=peg$literalExpectation("ENGINE",!0),peg$c152=peg$literalExpectation("READ",!0),peg$c154=peg$literalExpectation("LOCAL",!0),peg$c157=peg$literalExpectation("LOW_PRIORITY",!0),peg$c159=peg$literalExpectation("WRITE",!0),peg$c166=peg$literalExpectation("(",!1),peg$c168=peg$literalExpectation(")",!1),peg$c174=peg$literalExpectation("PERCENT",!0),peg$c185=peg$literalExpectation("BTREE",!0),peg$c187=peg$literalExpectation("HASH",!0),peg$c192=peg$literalExpectation("WITH",!0),peg$c194=peg$literalExpectation("PARSER",!0),peg$c197=peg$literalExpectation("VISIBLE",!0),peg$c199=peg$literalExpectation("INVISIBLE",!0),peg$c224=peg$literalExpectation("=",!1),peg$c240=function(head,tail){return createBinaryExprChain(head,tail)},peg$c242=peg$literalExpectation("!",!1),peg$c246=function(nk){return nk[0]+" "+nk[2]},peg$c249=peg$literalExpectation(">=",!1),peg$c251=peg$literalExpectation(">",!1),peg$c253=peg$literalExpectation("<=",!1),peg$c255=peg$literalExpectation("<>",!1),peg$c257=peg$literalExpectation("<",!1),peg$c259=peg$literalExpectation("!=",!1),peg$c267=peg$literalExpectation("+",!1),peg$c269=peg$literalExpectation("-",!1),peg$c272=peg$literalExpectation("*",!1),peg$c274=peg$literalExpectation("/",!1),peg$c276=peg$literalExpectation("%",!1),peg$c277=function(e){return e.parentheses=!0,e},peg$c281=function(name){return!0===reservedMap[name.toUpperCase()]},peg$c285=peg$literalExpectation('"',!1),peg$c286=/^[^"]/,peg$c287=peg$classExpectation(['"'],!0,!1),peg$c288=function(chars){return chars.join("")},peg$c289=/^[^']/,peg$c290=peg$classExpectation(["'"],!0,!1),peg$c292=peg$literalExpectation("`",!1),peg$c293=/^[^`]/,peg$c294=peg$classExpectation(["`"],!0,!1),peg$c296=peg$literalExpectation("[",!1),peg$c297=/^[^\]]/,peg$c298=peg$classExpectation(["]"],!0,!1),peg$c300=peg$literalExpectation("]",!1),peg$c302=function(start,parts){return start+parts.join("")},peg$c303=/^[A-Za-z_]/,peg$c304=peg$classExpectation([["A","Z"],["a","z"],"_"],!1,!1),peg$c305=/^[A-Za-z0-9_]/,peg$c306=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),peg$c307=/^[A-Za-z0-9_:]/,peg$c308=peg$classExpectation([["A","Z"],["a","z"],["0","9"],"_",":"],!1,!1),peg$c310=peg$literalExpectation(":",!1),peg$c330=function(ca){return{type:"string",value:ca[1].join("")}},peg$c334=peg$literalExpectation("ON UPDATE CURRENT_TIMESTAMP",!0),peg$c336=/^[^"\\\0-\x1F\x7F]/,peg$c337=peg$classExpectation(['"',"\\",["\0",""],""],!0,!1),peg$c338=/^[^'\\]/,peg$c339=peg$classExpectation(["'","\\"],!0,!1),peg$c341=peg$literalExpectation("\\'",!1),peg$c344=peg$literalExpectation('\\"',!1),peg$c347=peg$literalExpectation("\\\\",!1),peg$c350=peg$literalExpectation("\\/",!1),peg$c353=peg$literalExpectation("\\b",!1),peg$c356=peg$literalExpectation("\\f",!1),peg$c359=peg$literalExpectation("\\n",!1),peg$c362=peg$literalExpectation("\\r",!1),peg$c365=peg$literalExpectation("\\t",!1),peg$c368=peg$literalExpectation("\\u",!1),peg$c371=peg$literalExpectation("\\",!1),peg$c372=/^[\n\r]/,peg$c373=peg$classExpectation(["\n","\r"],!1,!1),peg$c382=peg$literalExpectation(".",!1),peg$c386=/^[0-9]/,peg$c387=peg$classExpectation([["0","9"]],!1,!1),peg$c388=/^[0-9a-fA-F]/,peg$c389=peg$classExpectation([["0","9"],["a","f"],["A","F"]],!1,!1),peg$c390=/^[eE]/,peg$c391=peg$classExpectation(["e","E"],!1,!1),peg$c392=/^[+\-]/,peg$c393=peg$classExpectation(["+","-"],!1,!1),peg$c396=peg$literalExpectation("NULL",!0),peg$c398=peg$literalExpectation("NOT NULL",!0),peg$c400=peg$literalExpectation("TRUE",!0),peg$c402=peg$literalExpectation("TO",!0),peg$c404=peg$literalExpectation("TOP",!0),peg$c406=peg$literalExpectation("FALSE",!0),peg$c410=(peg$literalExpectation("SHOW",!0),peg$literalExpectation("DROP",!0)),peg$c413=peg$literalExpectation("USE",!0),peg$c415=peg$literalExpectation("ALTER",!0),peg$c417=peg$literalExpectation("SELECT",!0),peg$c419=peg$literalExpectation("UPDATE",!0),peg$c421=peg$literalExpectation("CREATE",!0),peg$c423=peg$literalExpectation("TEMPORARY",!0),peg$c425=peg$literalExpectation("IF NOT EXISTS",!0),peg$c427=peg$literalExpectation("DELETE",!0),peg$c429=peg$literalExpectation("INSERT",!0),peg$c431=peg$literalExpectation("RECURSIVE",!1),peg$c433=peg$literalExpectation("REPLACE",!0),peg$c435=peg$literalExpectation("RENAME",!0),peg$c437=peg$literalExpectation("IGNORE",!0),peg$c441=(peg$literalExpectation("EXPLAIN",!0),peg$literalExpectation("PARTITION",!0)),peg$c444=peg$literalExpectation("INTO",!0),peg$c446=peg$literalExpectation("FROM",!0),peg$c448=peg$literalExpectation("SET",!0),peg$c450=peg$literalExpectation("UNLOCK",!0),peg$c452=peg$literalExpectation("AS",!0),peg$c454=peg$literalExpectation("TABLE",!0),peg$c457=peg$literalExpectation("TABLES",!0),peg$c461=peg$literalExpectation("ON",!0),peg$c463=peg$literalExpectation("LEFT",!0),peg$c465=peg$literalExpectation("RIGHT",!0),peg$c467=peg$literalExpectation("FULL",!0),peg$c469=peg$literalExpectation("INNER",!0),peg$c471=peg$literalExpectation("JOIN",!0),peg$c473=peg$literalExpectation("OUTER",!0),peg$c475=peg$literalExpectation("OVER",!0),peg$c477=peg$literalExpectation("UNION",!0),peg$c479=peg$literalExpectation("VALUES",!0),peg$c481=peg$literalExpectation("USING",!0),peg$c483=peg$literalExpectation("WHERE",!0),peg$c485=peg$literalExpectation("GROUP",!0),peg$c487=peg$literalExpectation("BY",!0),peg$c489=peg$literalExpectation("ORDER",!0),peg$c491=peg$literalExpectation("HAVING",!0),peg$c493=peg$literalExpectation("LIMIT",!0),peg$c495=peg$literalExpectation("OFFSET",!0),peg$c498=peg$literalExpectation("ASC",!0),peg$c501=peg$literalExpectation("DESC",!0),peg$c504=peg$literalExpectation("ALL",!0),peg$c507=peg$literalExpectation("DISTINCT",!0),peg$c510=peg$literalExpectation("BETWEEN",!0),peg$c513=peg$literalExpectation("IN",!0),peg$c516=peg$literalExpectation("IS",!0),peg$c519=peg$literalExpectation("LIKE",!0),peg$c522=peg$literalExpectation("EXISTS",!0),peg$c526=peg$literalExpectation("AND",!0),peg$c529=peg$literalExpectation("OR",!0),peg$c532=peg$literalExpectation("COUNT",!0),peg$c535=peg$literalExpectation("MAX",!0),peg$c538=peg$literalExpectation("MIN",!0),peg$c541=peg$literalExpectation("SUM",!0),peg$c544=peg$literalExpectation("AVG",!0),peg$c547=peg$literalExpectation("CALL",!0),peg$c550=peg$literalExpectation("CASE",!0),peg$c552=peg$literalExpectation("WHEN",!0),peg$c554=peg$literalExpectation("THEN",!0),peg$c556=peg$literalExpectation("ELSE",!0),peg$c558=peg$literalExpectation("END",!0),peg$c560=peg$literalExpectation("CAST",!0),peg$c562=peg$literalExpectation("BIT",!0),peg$c565=peg$literalExpectation("MONEY",!0),peg$c568=peg$literalExpectation("SMALLMONEY",!0),peg$c571=peg$literalExpectation("CHAR",!0),peg$c574=peg$literalExpectation("VARCHAR",!0),peg$c577=peg$literalExpectation("NCHAR",!0),peg$c580=peg$literalExpectation("NVARCHAR",!0),peg$c583=peg$literalExpectation("NUMERIC",!0),peg$c586=peg$literalExpectation("DECIMAL",!0),peg$c589=peg$literalExpectation("SIGNED",!0),peg$c592=peg$literalExpectation("UNSIGNED",!0),peg$c595=peg$literalExpectation("INT",!0),peg$c598=peg$literalExpectation("ZEROFILL",!0),peg$c601=peg$literalExpectation("INTEGER",!0),peg$c604=peg$literalExpectation("JSON",!0),peg$c607=peg$literalExpectation("SMALLINT",!0),peg$c610=peg$literalExpectation("TINYINT",!0),peg$c613=peg$literalExpectation("TINYTEXT",!0),peg$c616=peg$literalExpectation("TEXT",!0),peg$c619=peg$literalExpectation("MEDIUMTEXT",!0),peg$c622=peg$literalExpectation("LONGTEXT",!0),peg$c625=peg$literalExpectation("BIGINT",!0),peg$c628=peg$literalExpectation("FLOAT",!0),peg$c631=peg$literalExpectation("DOUBLE",!0),peg$c634=peg$literalExpectation("DATE",!0),peg$c637=peg$literalExpectation("DATETIME",!0),peg$c640=peg$literalExpectation("TIME",!0),peg$c643=peg$literalExpectation("TIMESTAMP",!0),peg$c646=peg$literalExpectation("TRUNCATE",!0),peg$c649=peg$literalExpectation("UNIQUEIDENTIFIER",!0),peg$c652=peg$literalExpectation("USER",!0),peg$c655=peg$literalExpectation("CURRENT_DATE",!0),peg$c661=(peg$literalExpectation("ADDDATE",!0),peg$literalExpectation("INTERVAL",!0)),peg$c664=peg$literalExpectation("YEAR",!0),peg$c667=peg$literalExpectation("MONTH",!0),peg$c670=peg$literalExpectation("DAY",!0),peg$c673=peg$literalExpectation("HOUR",!0),peg$c676=peg$literalExpectation("MINUTE",!0),peg$c679=peg$literalExpectation("SECOND",!0),peg$c682=peg$literalExpectation("CURRENT_TIME",!0),peg$c685=peg$literalExpectation("CURRENT_TIMESTAMP",!0),peg$c688=peg$literalExpectation("CURRENT_USER",!0),peg$c691=peg$literalExpectation("SESSION_USER",!0),peg$c694=peg$literalExpectation("SYSTEM_USER",!0),peg$c697=peg$literalExpectation("GLOBAL",!0),peg$c700=peg$literalExpectation("SESSION",!0),peg$c704=peg$literalExpectation("PERSIST",!0),peg$c707=peg$literalExpectation("PERSIST_ONLY",!0),peg$c710=peg$literalExpectation("@",!1),peg$c712=peg$literalExpectation("@@",!1),peg$c714=peg$literalExpectation("$",!1),peg$c716=peg$literalExpectation("return",!0),peg$c718=peg$literalExpectation(":=",!1),peg$c720=peg$literalExpectation("DUAL",!0),peg$c722=peg$literalExpectation("ADD",!0),peg$c725=peg$literalExpectation("COLUMN",!0),peg$c728=peg$literalExpectation("INDEX",!0),peg$c732=peg$literalExpectation("FULLTEXT",!0),peg$c735=peg$literalExpectation("SPATIAL",!0),peg$c740=peg$literalExpectation("COMMENT",!0),peg$c743=peg$literalExpectation("CONSTRAINT",!0),peg$c746=peg$literalExpectation("REFERENCES",!0),peg$c749=peg$literalExpectation("SQL_CALC_FOUND_ROWS",!0),peg$c751=peg$literalExpectation("SQL_CACHE",!0),peg$c753=peg$literalExpectation("SQL_NO_CACHE",!0),peg$c755=peg$literalExpectation("SQL_SMALL_RESULT",!0),peg$c757=peg$literalExpectation("SQL_BIG_RESULT",!0),peg$c759=peg$literalExpectation("SQL_BUFFER_RESULT",!0),peg$c761=peg$literalExpectation(",",!1),peg$c763=peg$literalExpectation(";",!1),peg$c765=peg$literalExpectation("||",!1),peg$c767=peg$literalExpectation("&&",!1),peg$c769=peg$literalExpectation("/*",!1),peg$c771=peg$literalExpectation("*/",!1),peg$c773=peg$literalExpectation("--",!1),peg$c775=peg$literalExpectation("#",!1),peg$c777={type:"any"},peg$c778=/^[ \t\n\r]/,peg$c779=peg$classExpectation([" ","\t","\n","\r"],!1,!1),peg$c793=function(t){return{dataType:t}},peg$c799=function(t){return{dataType:t}},peg$currPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$computePosDetails(pos){var p,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details={line:(details=peg$posDetailsCache[p]).line,column:details.column};p<pos;)10===input.charCodeAt(p)?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s2;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecrud_stmt())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseSEMICOLON())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecrud_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=function(head,tail){const cur=[head&&head.ast||head];for(let i=0;i<tail.length;i++)tail[i][3]&&0!==tail[i][3].length&&cur.push(tail[i][3]&&tail[i][3].ast||tail[i][3]);return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:cur}}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s2=peg$parsecmd_stmt())===peg$FAILED&&(s2=peg$parsecrud_stmt()),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecmd_stmt(){var s0;return(s0=function(){var s0,s1,s5,a,t;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,s11,s13,s15,s17,s19,a,tp,ife,t,c,to,ir,as,qe;return s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecreate_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecreate_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?(s1=peg$c7(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseCOMMA())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_option())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s15=function(){var s0,s1,s2,s3;return s0=peg$currPos,"ignore"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c437)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s15=peg$parseKW_REPLACE()),s15===peg$FAILED&&(s15=null),s15!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s17=peg$parseKW_AS())===peg$FAILED&&(s17=null),s17!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s19=peg$parseunion_stmt())===peg$FAILED&&(s19=null),s19!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,tp=s3,ife=s7,c=s11,to=s13,ir=s15,as=s17,qe=s19,(t=s9)&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,ignore_replace:ir&&ir[0].toLowerCase(),as:as&&as[0].toLowerCase(),query_expr:qe&&qe.ast,create_definitions:c,table_options:to}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CREATE())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TEMPORARY())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseKW_IF_NOT_EXISTS())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function peg$parsecreate_like_table(){var s0,s3,e;return(s0=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_LIKE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"like",table:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_like_table())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((e=s3).parentheses=!0,s0=e):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(a,tp,ife,t,lt){return t&&t.forEach(tt=>tableList.add(`create::${tt.db}::${tt.table}`)),{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a[0].toLowerCase(),keyword:"table",temporary:tp&&tp[0].toLowerCase(),if_not_exists:ife&&ife[0].toLowerCase(),table:t,like:lt}}}(s1,s3,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,a,kw,t;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"truncate"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c646)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TRUNCATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TABLE())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(a=s1,kw=s3,(t=s5)&&t.forEach(tt=>tableList.add(`${a}::${tt.db}::${tt.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:a.toLowerCase(),keyword:kw,table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,t;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsetable_to_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsetable_to_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?((t=s5).forEach(tg=>tg.forEach(dt=>dt.table&&tableList.add(`rename::${dt.db}::${dt.table}`))),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"rename",table:t}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"call"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c547)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_func_call())!==peg$FAILED?(e=s3,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"call",expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,d;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"use"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c413)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(d=s3,tableList.add(`use::${d}::null`),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"use",db:d}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,t,e;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"alter"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c415)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLE()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsealter_action())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsealter_action())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(e=s7,(t=s5)&&t.length>0&&t.forEach(table=>tableList.add(`alter::${table.db}::${table.table}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"alter",table:t,expr:e}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,a;return s0=peg$currPos,(s1=peg$parseKW_SET())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"global"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c697)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="GLOBAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c700)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"local"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c154)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LOCAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c704)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"persist_only"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c707)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PERSIST_ONLY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseassign_stmt())!==peg$FAILED?(kw=s3,(a=s5).keyword=kw,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"set",expr:a}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,ltl;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parselock_table())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parselock_table())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=createList(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?(ltl=s5,s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"lock",keyword:"tables",tables:ltl}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unlock"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c450)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TABLES()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"unlock",keyword:"tables"}},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecrud_stmt(){var s0;return(s0=peg$parseunion_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7,s9,t,l,w;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"update"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c419)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_SET()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseset_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseset_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsewhere_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED?(l=s7,w=s9,(t=s3)&&t.forEach(tableInfo=>{const{db:db,as:as,table:table}=tableInfo;tableList.add(`update::${db}::${table}`)}),l&&l.forEach(col=>columnList.add(`update::${col.table}::${col.column}`)),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"update",table:t,set:l,where:w}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s11,s15;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INTO())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s15=peg$parseinsert_value_clause())!==peg$FAILED?(s1=function(ri,t,p,c,v){if(t&&(tableList.add(`insert::${t.db}::${t.table}`),t.as=null),c){let table=t&&t.table||null;c.forEach(c=>columnList.add(`insert::${table}::${c}`))}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:c,values:v,partition:p}}}(s1,s5,s7,s11,s15),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s7,s9,ri,t,p,v;return s0=peg$currPos,(s1=peg$parsereplace_insert())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_INTO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parseinsert_partition())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseinsert_value_clause())!==peg$FAILED?(ri=s1,p=s7,v=s9,(t=s5)&&(tableList.add(`insert::${t.db}::${t.table}`),columnList.add(`insert::${t.table}::(.*)`),t.as=null),s1={tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:ri,table:[t],columns:null,values:v,partition:p}},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"delete"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c427)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsetable_ref_list())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsefrom_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsewhere_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?(s1=function(t,f,w){if(f&&f.forEach(info=>{info.table&&tableList.add(`delete::${info.db}::${info.table}`),columnList.add(`delete::${info.table}::(.*)`)}),null===t&&1===f.length){const tableInfo=f[0];t=[{db:tableInfo.db,table:tableInfo.table,as:tableInfo.as,addition:!0}]}return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:{type:"delete",table:t,from:f,where:w}}}(s3,s5,s7),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecmd_stmt())===peg$FAILED&&(s0=function(){var s0,s1;for(s0=[],s1=peg$parseproc_stmt();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseproc_stmt();return s0}()),s0}function peg$parseunion_stmt(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,(s1=peg$parseselect_stmt())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_UNION())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=peg$parseKW_ALL())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseselect_stmt())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){let cur=head;for(let i=0;i<tail.length;i++)cur._next=tail[i][5],cur.union=tail[i][3]?"union all":"union",cur=cur._next;return{tableList:Array.from(tableList),columnList:columnListTableAlias(columnList),ast:head}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecreate_definition(){var s0;return(s0=function(){var s0;return(s0=function(){var s0,s1,s3,s5,s7,s9,kc,p,t,de,id;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("primary key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c75)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s3,t=s5,de=s7,id=s9,s1={constraint:(kc=s1)&&kc.constraint,definition:de,constraint_type:p.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,resource:"constraint",index_options:id},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9,s11,s13;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_INDEX())===peg$FAILED&&(s5=peg$parseKW_KEY()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsecolumn())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_type())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s13=peg$parseindex_options())===peg$FAILED&&(s13=null),s13!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,u,p,i,t,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p&&`${u.toLowerCase()} ${p.toLowerCase()}`||u.toLowerCase(),keyword:kc&&kc.keyword,index_type:t,index:i,resource:"constraint",index_options:id}}(s1,s3,s5,s7,s9,s11,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7,s9;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("foreign key"===input.substr(peg$currPos,11).toLowerCase()?(s3=input.substr(peg$currPos,11),peg$currPos+=11):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c86)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsereference_definition())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(kc,p,i,de,id){return{constraint:kc&&kc.constraint,definition:de,constraint_type:p,keyword:kc&&kc.keyword,index:i,resource:"constraint",reference_definition:id}}(s1,s3,s5,s7,s9),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parsecreate_constraint_check()),s0}())===peg$FAILED&&(s0=peg$parsecreate_column_definition())===peg$FAILED&&(s0=peg$parsecreate_index_definition())===peg$FAILED&&(s0=peg$parsecreate_fulltext_spatial_index_definition()),s0}function peg$parsecreate_column_definition(){var s0,s1,s3,s5,s7,s9,s10,s12,s14,s16,s18,s20,c,d,n,df,ch,o,co,ca,cf,s,re;return s0=peg$currPos,(s1=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"not null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c398)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"not null",value:"not null"}),s1}())===peg$FAILED&&(s5=peg$parseliteral_null()),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,peg$parseKW_DEFAULT()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseliteral())===peg$FAILED&&(s3=peg$parseexpr()),s3!==peg$FAILED?s0={type:"default",value:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsecreate_constraint_check())===peg$FAILED&&(s9=null),s9!==peg$FAILED?((s10=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8;return s0=peg$currPos,"unique"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13)),s1===peg$FAILED&&(s1=peg$currPos,"primary"===input.substr(peg$currPos,7).toLowerCase()?(s2=input.substr(peg$currPos,7),peg$currPos+=7):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s4=input.substr(peg$currPos,3),peg$currPos+=3):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=function(){var s0,s1,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,c;return s0=peg$currPos,"identity"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c10)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s3=peg$currPos,(s4=peg$parseLPAREN())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseliteral_numeric())!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseCOMMA())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED&&(s10=peg$parseliteral_numeric())!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?s3=s4=[s4,s5,s6,s7,s8,s9,s10,s11,s12]:(peg$currPos=s3,s3=peg$FAILED),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(s1={keyword:"identity",seed:(c=s3)&&c[2],increment:c&&c[6],parentheses:!!c},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?("unique"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c13)),s5===peg$FAILED&&(s5=peg$currPos,"primary"===input.substr(peg$currPos,7).toLowerCase()?(s6=input.substr(peg$currPos,7),peg$currPos+=7):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c15)),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED?("key"===input.substr(peg$currPos,3).toLowerCase()?(s8=input.substr(peg$currPos,3),peg$currPos+=3):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(bu,i,au){let u=bu||au;return u&&Array.isArray(u)&&(u=`${u[0].toLowerCase()} ${u[2].toLowerCase()}`),{identity:i,unique_or_primary:u}}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s10=null),s10!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s12=peg$parsekeyword_comment())===peg$FAILED&&(s12=null),s12!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"collate"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c130)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLLATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"collate",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=function(){var s0,s1,s3;return s0=peg$currPos,"column_format"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("fixed"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s3===peg$FAILED&&("dynamic"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s3===peg$FAILED&&("default"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"column_format",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s1,s3;return s0=peg$currPos,"storage"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("disk"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32)),s3===peg$FAILED&&("memory"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={type:"storage",value:s3.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=peg$parsereference_definition())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s1,d=s3,n=s5,df=s7,ch=s9,o=s10,co=s12,ca=s14,cf=s16,s=s18,re=s20,columnList.add(`create::${c.table}::${c.column}`),n&&!n.value&&(n.value="null"),s0=s1={column:c,definition:d,nullable:n,default_val:df,auto_increment:o&&o.identity,unique_or_primary:o&&o.unique_or_primary,check:ch,comment:co,collate:ca,column_format:cf,storage:s,reference_definition:re,resource:"column"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsealter_action(){var s0;return(s0=function(){var s0,s1,s3,c;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_constraint_check())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s1={action:"add",...c,type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parseKW_DROP())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseKW_CONSTRAINT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?(s1={action:"drop",constraint:s5,keyword:s3.toLowerCase(),resource:"constraint",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5,s9;return s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c66)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s5=input.substr(peg$currPos,5),peg$currPos+=5):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c66)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_CONSTRAINT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseident_name())!==peg$FAILED?s0={action:"with",constraint:s9,keyword:"check check constraint",resource:"constraint",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"nocheck"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c69)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_CONSTRAINT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1={action:"nocheck",keyword:"constraint",constraint:s5,resource:"constraint",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kc,cd;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecreate_column_definition())!==peg$FAILED?(kc=s3,cd=s5,s1={action:"add",...cd,keyword:kc,resource:"column",type:"alter"},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s3,s5;return s0=peg$currPos,peg$parseKW_DROP()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_COLUMN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn_ref())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={action:"drop",column:s5,keyword:s3,resource:"column",type:"alter"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,id;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_index_definition())!==peg$FAILED?(id=s3,s1={action:"add",type:"alter",...id},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,fsid;return s0=peg$currPos,(s1=peg$parseKW_ADD())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecreate_fulltext_spatial_index_definition())!==peg$FAILED?(fsid=s3,s1={action:"add",type:"alter",...fsid},s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,kw,tn;return s0=peg$currPos,(s1=peg$parseKW_RENAME())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_TO())===peg$FAILED&&(s3=peg$parseKW_AS()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(tn=s5,s1={action:"rename",type:"alter",resource:"table",keyword:(kw=s3)&&kw[0].toLowerCase(),table:tn},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"algorithm"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c46)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s5===peg$FAILED&&("instant"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c48)),s5===peg$FAILED&&("inplace"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50)),s5===peg$FAILED&&("copy"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c52))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"algorithm",resource:"algorithm",algorithm:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,"lock"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_ASSIGIN_EQUAL()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("default"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s5===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s5=input.substr(peg$currPos,4),peg$currPos+=4):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)),s5===peg$FAILED&&("shared"===input.substr(peg$currPos,6).toLowerCase()?(s5=input.substr(peg$currPos,6),peg$currPos+=6):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c59)),s5===peg$FAILED&&("exclusive"===input.substr(peg$currPos,9).toLowerCase()?(s5=input.substr(peg$currPos,9),peg$currPos+=9):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61))))),s5!==peg$FAILED?s0=s1={type:"alter",keyword:"lock",resource:"lock",lock:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parsecreate_index_definition(){var s0,s1,s3,s5,s7,s9,t,id;return s0=peg$currPos,(s1=peg$parseKW_INDEX())===peg$FAILED&&(s1=peg$parseKW_KEY()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecolumn())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseindex_type())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(t=s5,id=s9,s0=s1={index:s3,definition:s7,keyword:s1.toLowerCase(),index_type:t,resource:"index",index_options:id}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_fulltext_spatial_index_definition(){var s0,s1,s3,s5,s7,s9,p,kc,id;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"fulltext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c732)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FULLTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"spatial"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c735)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SPATIAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_INDEX())===peg$FAILED&&(s3=peg$parseKW_KEY()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parsecolumn())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseindex_options())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?(p=s1,id=s9,s0=s1={index:s5,definition:s7,keyword:(kc=s3)&&`${p.toLowerCase()} ${kc.toLowerCase()}`||p.toLowerCase(),index_options:id,resource:"index"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseconstraint_name(){var s0,s1,s3,c;return s0=peg$currPos,(s1=peg$parseKW_CONSTRAINT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseident())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(c=s3,s0=s1={keyword:s1.toLowerCase(),constraint:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecreate_constraint_check(){var s0,s1,s3,s5,s6,s7,s8,s9,s10,s11,kc,nfr,c;return s0=peg$currPos,(s1=peg$parseconstraint_name())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("check"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c66)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s6=input.substr(peg$currPos,3),peg$currPos+=3):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c79)),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED?("for"===input.substr(peg$currPos,3).toLowerCase()?(s8=input.substr(peg$currPos,3),peg$currPos+=3):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c81)),s8!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?("replication"===input.substr(peg$currPos,11).toLowerCase()?(s10=input.substr(peg$currPos,11),peg$currPos+=11):(s10=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c83)),s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED?s5=s6=[s6,s7,s8,s9,s10,s11]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parseLPAREN())!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseexpr())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED&&(s10=peg$parseRPAREN())!==peg$FAILED?(kc=s1,nfr=s5,c=s8,s0=s1={constraint_type:s3.toLowerCase(),keyword:kc&&kc.keyword,constraint:kc&&kc.constraint,index_type:nfr&&{keyword:"not for replication",type:""},definition:[c],resource:"constraint"}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsereference_definition(){var s0,s1,s3,s5,s7,s9,s11,m,od,ou;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"references"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c746)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="REFERENCES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecte_column_definition())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("match full"===input.substr(peg$currPos,10).toLowerCase()?(s7=input.substr(peg$currPos,10),peg$currPos+=10):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c89)),s7===peg$FAILED&&("match partial"===input.substr(peg$currPos,13).toLowerCase()?(s7=input.substr(peg$currPos,13),peg$currPos+=13):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c91)),s7===peg$FAILED&&("match simple"===input.substr(peg$currPos,12).toLowerCase()?(s7=input.substr(peg$currPos,12),peg$currPos+=12):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c93)))),s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parseon_reference())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseon_reference())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(m=s7,od=s9,ou=s11,s0=s1={definition:s5,table:s3,keyword:s1.toLowerCase(),match:m&&m.toLowerCase(),on_delete:od,on_update:ou}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseon_reference(){var s0,s1,s3,ro;return s0=peg$currPos,"on delete"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c96)),s1===peg$FAILED&&("on update"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c98))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,"restrict"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c101)),s1===peg$FAILED&&("cascade"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c103)),s1===peg$FAILED&&("set null"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c105)),s1===peg$FAILED&&("no action"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c107)),s1===peg$FAILED&&("set default"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c109)))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=s1.toLowerCase(),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(ro=s3,s0=s1={type:s1.toLowerCase(),value:ro}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_option(){var s0,s1,s3,s5,s6,s7,s8,s,v;return s0=peg$currPos,"auto_increment"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c113)),s1===peg$FAILED&&("avg_row_length"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c115)),s1===peg$FAILED&&("key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c117)),s1===peg$FAILED&&("max_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c119)),s1===peg$FAILED&&("min_rows"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c121)),s1===peg$FAILED&&("stats_sample_pages"===input.substr(peg$currPos,18).toLowerCase()?(s1=input.substr(peg$currPos,18),peg$currPos+=18):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c123))))))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED?(s=s3,v=s5,s0=s1={keyword:s1.toLowerCase(),symbol:s,value:v.value}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DEFAULT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("character set"===input.substr(peg$currPos,13).toLowerCase()?(s3=input.substr(peg$currPos,13),peg$currPos+=13):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c126)),s3===peg$FAILED&&("charset"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c128)),s3===peg$FAILED&&("collate"===input.substr(peg$currPos,7).toLowerCase()?(s3=input.substr(peg$currPos,7),peg$currPos+=7):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c130)))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,t,s,v){return{keyword:kw&&`${kw[0].toLowerCase()} ${t.toLowerCase()}`||t.toLowerCase(),symbol:s,value:v}}(s1,s3,s5,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COMMENT())===peg$FAILED&&("connection"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c133))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:`'${c.value}'`}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"compression"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c136)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s6!==peg$FAILED?("zlib"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c140)),s7===peg$FAILED&&("lz4"===input.substr(peg$currPos,3).toLowerCase()?(s7=input.substr(peg$currPos,3),peg$currPos+=3):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c142)),s7===peg$FAILED&&("none"===input.substr(peg$currPos,4).toLowerCase()?(s7=input.substr(peg$currPos,4),peg$currPos+=4):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c57)))),s7!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s8="'",peg$currPos++):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s8!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED)):(peg$currPos=s5,s5=peg$FAILED),s5!==peg$FAILED?s0=s1=function(kw,s,v){return{keyword:kw.toLowerCase(),symbol:s,value:v.join("").toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"engine"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c145)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED?s0=s1=function(kw,s,c){return{keyword:kw.toLowerCase(),symbol:s,value:c.toUpperCase()}}(s1,s3,s5):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))))),s0}function peg$parselock_table(){var s0,s1,s3,t,lt;return s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s3;return s0=peg$currPos,"read"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c152)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("local"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c154)),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={type:"read",suffix:s3&&"local"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"low_priority"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c157)),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("write"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c159)),s3!==peg$FAILED?s0=s1={type:"write",prefix:s1&&"low_priority"}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())!==peg$FAILED?(t=s1,lt=s3,tableList.add(`lock::${t.db}::${t.table}`),s0=s1={table:t,lock_type:lt}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseselect_stmt(){var s0,s1,s2,s3,s4,s5,s6;return(s0=peg$parseselect_stmt_nake())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,40===input.charCodeAt(peg$currPos)?(s2="(",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseselect_stmt())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s6=")",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c168)),s6!==peg$FAILED?s1=s2=[s2,s3,s4,s5,s6]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=s1[2]),s0=s1),s0}function peg$parsewith_clause(){var s0,s3,s4,s5,s6,s7,s8,s9,cte;if(s0=peg$currPos,peg$parseKW_WITH()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecte_definition())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecte_definition())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&peg$parseKW_WITH()!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=function(){var s0,s1,s2,s3;return s0=peg$currPos,"RECURSIVE"===input.substr(peg$currPos,9)?(s1="RECURSIVE",peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c431)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parsecte_definition())!==peg$FAILED?((cte=s6).recursive=!0,s0=[cte]):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecte_definition(){var s0,s1,s3,s9;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsecte_column_definition())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={name:s1,stmt:s9,columns:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecte_column_definition(){var s0,s3,s4,s5,s6,s7,s8,s9;if(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsecolumn())!==peg$FAILED){for(s4=[],s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s5!==peg$FAILED;)s4.push(s5),s5=peg$currPos,(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseCOMMA())!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parsecolumn())!==peg$FAILED?s5=s6=[s6,s7,s8,s9]:(peg$currPos=s5,s5=peg$FAILED);s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseRPAREN())!==peg$FAILED?s0=peg$c7(s3,s4):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseselect_stmt_nake(){var s0,s2,s6,s8,s10,s12,s14,s16,s18,s20,s22,s24,cte,opts,top,d,c,f,w,g,h,o,l;return s0=peg$currPos,peg$parse__()!==peg$FAILED?((s2=peg$parsewith_clause())===peg$FAILED&&(s2=null),s2!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"select"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c417)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s6=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parsequery_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsequery_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=function(head,tail){const opts=[head];for(let i=0,l=tail.length;i<l;++i)opts.push(tail[i][1]);return opts}(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s6=null),s6!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s8=function(){var s0,s1,s3,s5,p;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"top"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c404)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsenumber())!==peg$FAILED&&peg$parse__()!==peg$FAILED?("percent"===input.substr(peg$currPos,7).toLowerCase()?(s5=input.substr(peg$currPos,7),peg$currPos+=7):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c174)),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={value:s3,percent:(p=s5)&&p.toLowerCase()},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s8=null),s8!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s10=peg$parseKW_DISTINCT())===peg$FAILED&&(s10=null),s10!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s12=peg$parsecolumn_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s14=peg$parsefrom_clause())===peg$FAILED&&(s14=null),s14!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s16=peg$parsewhere_clause())===peg$FAILED&&(s16=null),s16!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s18=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"group"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c485)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED?(s1=s5.value,s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s18=null),s18!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s20=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"having"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c491)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s20=null),s20!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s22=peg$parseorder_by_clause())===peg$FAILED&&(s22=null),s22!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s24=function(){var s0,s1,s3,s5,s6,s7,s8;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"limit"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c493)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsenumber_or_param())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s5=peg$currPos,(s6=peg$parseCOMMA())===peg$FAILED&&(s6=function(){var s0,s1,s2,s3;return s0=peg$currPos,"offset"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c495)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OFFSET":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parsenumber_or_param())!==peg$FAILED?s5=s6=[s6,s7,s8]:(peg$currPos=s5,s5=peg$FAILED),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(i1,tail){const res=[i1];return tail&&res.push(tail[2]),{seperator:tail&&tail[0]&&tail[0].toLowerCase()||"",value:res}}(s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s24=null),s24!==peg$FAILED?(cte=s2,opts=s6,top=s8,d=s10,c=s12,w=s16,g=s18,h=s20,o=s22,l=s24,(f=s14)&&f.forEach(info=>info.table&&tableList.add(`select::${info.db}::${info.table}`)),s0={with:cte,type:"select",options:opts,distinct:d,columns:c,from:f,where:w,groupby:g,having:h,top:top,orderby:o,limit:l}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequery_option(){var s1;return peg$currPos,(s1=function(){var s0;return"sql_calc_found_rows"===input.substr(peg$currPos,19).toLowerCase()?(s0=input.substr(peg$currPos,19),peg$currPos+=19):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c749)),s0}())===peg$FAILED&&((s1=function(){var s0;return"sql_cache"===input.substr(peg$currPos,9).toLowerCase()?(s0=input.substr(peg$currPos,9),peg$currPos+=9):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c751)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_no_cache"===input.substr(peg$currPos,12).toLowerCase()?(s0=input.substr(peg$currPos,12),peg$currPos+=12):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c753)),s0}()),s1===peg$FAILED&&(s1=function(){var s0;return"sql_big_result"===input.substr(peg$currPos,14).toLowerCase()?(s0=input.substr(peg$currPos,14),peg$currPos+=14):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c757)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_small_result"===input.substr(peg$currPos,16).toLowerCase()?(s0=input.substr(peg$currPos,16),peg$currPos+=16):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c755)),s0}())===peg$FAILED&&(s1=function(){var s0;return"sql_buffer_result"===input.substr(peg$currPos,17).toLowerCase()?(s0=input.substr(peg$currPos,17),peg$currPos+=17):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c759)),s0}())),s1!==peg$FAILED&&(s1=s1),s1}function peg$parsecolumn_clause(){var s0,s1,s2,s3,s4,s5,s6,s7,head,tail;if(s0=peg$currPos,(s1=peg$parseKW_ALL())===peg$FAILED&&(s1=peg$currPos,(s2=peg$parseSTAR())!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseident_start(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$parseSTAR())),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(head=s1,tail=s2,columnList.add("select::null::(.*)"),s0=s1=tail&&tail.length>0?(head[0]={expr:{type:"column_ref",table:null,column:"*"},as:null},createList(head[0],tail)):head[0]):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,(s1=peg$parsecolumn_list_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsecolumn_list_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecolumn_list_item(){var s0,s1,s3,tbl;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseDOT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseSTAR()!==peg$FAILED?(tbl=s1,columnList.add(`select::${tbl}::(.*)`),s0=s1={expr:{type:"column_ref",table:tbl,column:"*"},as:null}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1={expr:s1,as:s3}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsealias_clause(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_AS())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(function(name){if(!0===reservedMap[name.toUpperCase()])throw new Error("Error: "+JSON.stringify(name)+" is a reserved word, can not as alias clause");return!1}(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_AS())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseident())!==peg$FAILED?s0=s1=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsefrom_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"from"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c446)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_ref_list())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsetable_to_item(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_TO()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsetable_name())!==peg$FAILED?s0=s1=[s1,s5]:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_type(){var s0,s3;return s0=peg$currPos,peg$parseKW_USING()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("btree"===input.substr(peg$currPos,5).toLowerCase()?(s3=input.substr(peg$currPos,5),peg$currPos+=5):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c185)),s3===peg$FAILED&&("hash"===input.substr(peg$currPos,4).toLowerCase()?(s3=input.substr(peg$currPos,4),peg$currPos+=4):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c187))),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={keyword:"using",type:s3.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseindex_options(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseindex_option())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseindex_option())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][1]);return result}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseindex_option(){var s0,s1,s3,s5,e,kbs;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"key_block_size"===input.substr(peg$currPos,14).toLowerCase()?(s1=input.substr(peg$currPos,14),peg$currPos+=14):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c117)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY_BLOCK_SIZE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_numeric())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(e=s3,kbs=s5,s0=s1={type:s1.toLowerCase(),symbol:e,expr:kbs}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseindex_type())===peg$FAILED&&(s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c192)),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?("parser"===input.substr(peg$currPos,6).toLowerCase()?(s3=input.substr(peg$currPos,6),peg$currPos+=6):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c194)),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseident_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"with parser",expr:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,"visible"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c197)),s1===peg$FAILED&&("invisible"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c199))),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(k){return{type:k.toLowerCase(),expr:k.toLowerCase()}}(s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsekeyword_comment()))),s0}function peg$parsetable_ref_list(){var s0,s1,s2,s3,head,tail;if(s0=peg$currPos,(s1=peg$parsetable_base())!==peg$FAILED){for(s2=[],s3=peg$parsetable_ref();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsetable_ref();s2!==peg$FAILED?(head=s1,(tail=s2).unshift(head),tail.forEach(tableInfo=>{const{table:table,as:as}=tableInfo;tableAlias[table]=table,as&&(tableAlias[as]=table)}),s0=s1=tail):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsetable_ref(){var s0,s2,s4;return s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=peg$parseCOMMA())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s4=peg$parsetable_base())!==peg$FAILED?s0=s4:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parse__()!==peg$FAILED&&(s2=function(){var s0,s1,s3,s5,s9,s10,s11,s12,s13,s14,s15,op,t,head,tail;if(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parsetable_base())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseKW_USING())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s9=peg$parseident_name())!==peg$FAILED){for(s10=[],s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s11!==peg$FAILED;)s10.push(s11),s11=peg$currPos,(s12=peg$parse__())!==peg$FAILED&&(s13=peg$parseCOMMA())!==peg$FAILED&&(s14=peg$parse__())!==peg$FAILED&&(s15=peg$parseident_name())!==peg$FAILED?s11=s12=[s12,s13,s14,s15]:(peg$currPos=s11,s11=peg$FAILED);s10!==peg$FAILED&&(s11=peg$parse__())!==peg$FAILED&&(s12=peg$parseRPAREN())!==peg$FAILED?(op=s1,head=s9,tail=s10,(t=s3).join=op,t.using=createList(head,tail),s0=s1=t):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsetable_base())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseon_clause())===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s1=function(op,t,expr){return t.join=op,t.on=expr,t}(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s9=peg$parsealias_clause())===peg$FAILED&&(s9=null),s9!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parseon_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(s1=function(op,stmt,alias,expr){return stmt.parentheses=!0,{expr:stmt,as:alias,join:op,on:expr}}(s1,s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())!==peg$FAILED?s0=s2:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsetable_base(){var s0,s1,s3,s7,t,alias;return s0=peg$currPos,(s1=function(){var s0;return"dual"===input.substr(peg$currPos,4).toLowerCase()?(s0=input.substr(peg$currPos,4),peg$currPos+=4):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c720)),s0}())!==peg$FAILED&&(s1={type:"dual"}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsetable_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsealias_clause())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(alias=s3,s0=s1="var"===(t=s1).type?(t.as=alias,t):{db:t.db,table:t.table,as:alias}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s7=peg$parsealias_clause())===peg$FAILED&&(s7=null),s7!==peg$FAILED?s0=s1=function(stmt,alias){return stmt.parentheses=!0,{expr:stmt,as:alias}}(s3,s7):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsejoin_op(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"left"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c463)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="LEFT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"right"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c465)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="RIGHT JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"full"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c467)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parseKW_OUTER())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_JOIN()!==peg$FAILED?s0=s1="FULL JOIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=function(){var s0,s1,s2,s3;return s0=peg$currPos,"inner"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c469)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parseKW_JOIN())!==peg$FAILED?s0=s1="INNER JOIN":(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parsetable_name(){var s0,s1,s2,s3,s4,s5,s6,s7,v;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?(s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseDOT())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseident())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s0=s1=function(dt,schema,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=`${dt}.${schema[3]}`,obj.table=tail[3]),obj}(s1,s2,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){const obj={db:null,table:dt};return null!==tail&&(obj.db=dt,obj.table=tail[3]),obj}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&((v=s1).db=null,v.table=v.name,s1=v),s0=s1)),s0}function peg$parseon_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"on"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c461)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewhere_clause(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"where"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c483)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_clause(){var s0,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"order"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c489)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseorder_by_element())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseorder_by_element())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s5:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseorder_by_element(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"desc"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c501)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DESC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"asc"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c498)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ASC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(e,d){const obj={expr:e,type:"ASC"};return"DESC"===d&&(obj.type="DESC"),obj}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenumber_or_param(){var s0;return(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=peg$parseparam()),s0}function peg$parseset_item(){var s0,s1,s2,s3,s4,s5,s7,tbl;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseident())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsecolumn())!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s5="=",peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c224)),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={column:s3,value:s7,table:(tbl=s1)&&tbl[0]}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseinsert_value_clause(){var s0;return(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"values"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c479)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsevalue_item())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsevalue_item())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c7(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseselect_stmt_nake()),s0}function peg$parseinsert_partition(){var s0,s3,s5,s6,s7,s8,s9,s10,s11;if(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s5=peg$parseident_name())!==peg$FAILED){for(s6=[],s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s7!==peg$FAILED;)s6.push(s7),s7=peg$currPos,(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseCOMMA())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED&&(s11=peg$parseident_name())!==peg$FAILED?s7=s8=[s8,s9,s10,s11]:(peg$currPos=s7,s7=peg$FAILED);s6!==peg$FAILED&&(s7=peg$parse__())!==peg$FAILED&&(s8=peg$parseRPAREN())!==peg$FAILED&&(s9=peg$parse__())!==peg$FAILED?s0=createList(s5,s6):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsevalue_item())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsereplace_insert(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"insert"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c429)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1="insert"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_REPLACE())!==peg$FAILED&&(s1="replace"),s0=s1),s0}function peg$parsevalue_item(){var s0,s3;return s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s3:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseexpr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=function(head,tail){const el={type:"expr_list"};return el.value=createList(head,tail),el}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseinterval_expr(){var s0,s3,s5;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"interval"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c661)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTERVAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"year"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c664)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="YEAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"month"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c667)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONTH":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"day"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c670)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DAY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"hour"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c673)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="HOUR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"minute"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c676)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MINUTE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"second"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c679)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SECOND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED?s0={type:"interval",expr:s3,unit:s5.toLowerCase()}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecase_expr(){var s0,s3,s5,s6,s7,s11,expr,condition_list,otherwise;if(s0=peg$currPos,peg$parseKW_CASE()!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if((s3=peg$parseexpr())===peg$FAILED&&(s3=null),s3!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],(s6=peg$parsecase_when_then())!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),s6=peg$parsecase_when_then();else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED?((s7=function(){var s0,s3;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"else"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c556)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED?s0={type:"else",result:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s7=null),s7!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"end"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c558)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_CASE())===peg$FAILED&&(s11=null),s11!==peg$FAILED?(expr=s3,condition_list=s5,(otherwise=s7)&&condition_list.push(otherwise),s0={type:"case",expr:expr||null,args:condition_list}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecase_when_then(){var s0,s3,s7;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"when"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c552)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0,s1,s2,s3;return s0=peg$currPos,"then"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c554)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={type:"when",cond:s3,result:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexpr(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseLOGIC_OPERATOR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createBinaryExprChain(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseadditive_operator())!==peg$FAILED){if(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);else s2=peg$FAILED;s2!==peg$FAILED?(s1=createUnaryExpr(s1,s2[0][1]),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseand_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_OR())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseand_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s1=peg$c240(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=peg$parseselect_stmt()),s0}function peg$parseand_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsenot_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseKW_AND())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsenot_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c240(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsenot_expr(){var s0,s1,s2,s3,s4;return(s0=peg$parsecomparison_expr())===peg$FAILED&&(s0=function(){var s0,s1,s5,op,stmt;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_EXISTS())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c246(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_EXISTS()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseunion_stmt())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(op=s1,(stmt=s5).parentheses=!0,s1=createUnaryExpr(op,stmt),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NOT())===peg$FAILED&&(s1=peg$currPos,33===input.charCodeAt(peg$currPos)?(s2="!",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c242)),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,61===input.charCodeAt(peg$currPos)?(s4="=",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c224)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parsenot_expr())!==peg$FAILED?s0=s1=createUnaryExpr("NOT",s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parsecomparison_expr(){var s0,s1,s3,left,rh;return s0=peg$currPos,(s1=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return(s0=function(){var s1,s2,s3,s4,s5,s6;if(peg$currPos,s1=[],s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parsearithmetic_comparison_operator())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseadditive_expr())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED);else s1=peg$FAILED;return s1!==peg$FAILED&&(s1={type:"arithmetic",tail:s1}),s1}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={op:s1,right:s5}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsein_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parsevar_decl())===peg$FAILED&&(s3=peg$parseliteral_string()),s3!==peg$FAILED?(s1=function(op,e){return{op:op,right:e}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3,s7;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_BETWEEN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c246(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_BETWEEN()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AND()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:s1,right:{type:"expr_list",value:[s3,s7]}}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,(s1=peg$parseKW_IS())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?s0=s1={op:"IS",right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_IS())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_NOT())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED&&(s3=peg$parseadditive_expr())!==peg$FAILED?(s1=function(right){return{op:"IS NOT",right:right}}(s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_LIKE())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c246(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_LIKE()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecomparison_expr())!==peg$FAILED?s0=s1={op:s1,right:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?(left=s1,s0=s1=null===(rh=s3)?left:"arithmetic"===rh.type?createBinaryExprChain(left,rh.tail):createBinaryExpr(rh.op,left,rh.right)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsearithmetic_comparison_operator(){var s0;return">="===input.substr(peg$currPos,2)?(s0=">=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c249)),s0===peg$FAILED&&(62===input.charCodeAt(peg$currPos)?(s0=">",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c251)),s0===peg$FAILED&&("<="===input.substr(peg$currPos,2)?(s0="<=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c253)),s0===peg$FAILED&&("<>"===input.substr(peg$currPos,2)?(s0="<>",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c255)),s0===peg$FAILED&&(60===input.charCodeAt(peg$currPos)?(s0="<",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c257)),s0===peg$FAILED&&(61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c224)),s0===peg$FAILED&&("!="===input.substr(peg$currPos,2)?(s0="!=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c259)))))))),s0}function peg$parsein_op(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,(s2=peg$parseKW_NOT())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseKW_IN())!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1=peg$c246(s1)),(s0=s1)===peg$FAILED&&(s0=peg$parseKW_IN()),s0}function peg$parseadditive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parsemultiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parsemultiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c240(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseadditive_operator(){var s0;return 43===input.charCodeAt(peg$currPos)?(s0="+",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c267)),s0===peg$FAILED&&(45===input.charCodeAt(peg$currPos)?(s0="-",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c269))),s0}function peg$parsemultiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseprimary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseprimary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=createBinaryExprChain(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemultiplicative_operator(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c272)),s0===peg$FAILED&&(47===input.charCodeAt(peg$currPos)?(s0="/",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c274)),s0===peg$FAILED&&(37===input.charCodeAt(peg$currPos)?(s0="%",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c276)))),s0}function peg$parseprimary(){var s0,s3,list;return(s0=function(){var s0,s1,s5,s9,s11,s13,s17;return s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsedata_type())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseRPAREN())!==peg$FAILED?s0=s1={type:"cast",expr:s5,symbol:"as",target:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,precision){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+")"}}}(s5,s13),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseKW_DECIMAL())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s11=peg$parseLPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseCOMMA()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s17=peg$parseint())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(e,precision,scale){return{type:"cast",expr:e,symbol:"as",target:{dataType:"DECIMAL("+precision+", "+scale+")"}}}(s5,s13,s17),s0=s1):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CAST())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_AS()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"signed"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c589)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_UNSIGNED()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseKW_INTEGER())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s13=peg$parseRPAREN())!==peg$FAILED?(s1=function(e,s,t){return{type:"cast",expr:e,symbol:"as",target:{dataType:s+(t?" "+t:"")}}}(s5,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)))),s0}())===peg$FAILED&&(s0=peg$parseliteral())===peg$FAILED&&(s0=function(){var s0;return(s0=function(){var s0,s1,s5,s9;return s0=peg$currPos,(s1=peg$parseKW_COUNT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecount_arg())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseover_partition())!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:s5,over:s9}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_COUNT())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecount_arg())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(name,arg){return{type:"aggr_func",name:name,args:arg}}(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5;return s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"sum"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c541)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SUM":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"max"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c535)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MAX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"min"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c538)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MIN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"avg"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c544)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AVG":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseadditive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"aggr_func",name:s1,args:{expr:s5}}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s5,s9;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parseover_partition())!==peg$FAILED?s0=s1={type:"function",name:s1,args:s5||{type:"expr_list",value:[]},over:s9}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseexpr_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?(s1=function(name,l){return{type:"function",name:name,args:l||{type:"expr_list",value:[]}}}(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0;return(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_date"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c655)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_time"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c682)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseKW_CURRENT_TIMESTAMP())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"current_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c688)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"user"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c652)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"session_user"===input.substr(peg$currPos,12).toLowerCase()?(s1=input.substr(peg$currPos,12),peg$currPos+=12):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c691)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SESSION_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;return s0=peg$currPos,"system_user"===input.substr(peg$currPos,11).toLowerCase()?(s1=input.substr(peg$currPos,11),peg$currPos+=11):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c694)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SYSTEM_USER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseRPAREN())!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(name){return{type:"function",name:name,args:{type:"expr_list",value:[]}}}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED))),s0}())===peg$FAILED&&(s0=peg$parsecase_expr())===peg$FAILED&&(s0=peg$parseinterval_expr())===peg$FAILED&&(s0=peg$parsecolumn_ref())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c277(s3):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseexpr_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?((list=s3).parentheses=!0,s0=list):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsevar_decl()))),s0}function peg$parsecolumn_ref(){var s0,s1,s5,tbl,col;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseDOT()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsecolumn())!==peg$FAILED?(tbl=s1,col=s5,columnList.add(`select::${tbl}::${col}`),s0=s1={type:"column_ref",table:tbl,column:col}):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsecolumn())!==peg$FAILED&&(s1=function(col){return columnList.add("select::null::"+col),{type:"column_ref",table:null,column:col}}(s1)),s0=s1),s0}function peg$parseident(){var s0,s1;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(peg$c281(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parsequoted_ident())!==peg$FAILED&&(s1=s1),s0=s1),s0}function peg$parsequoted_ident(){var s0;return(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1='"',peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c285)),s1!==peg$FAILED){if(s2=[],peg$c286.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c287)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c286.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c287));else s2=peg$FAILED;s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3='"',peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c285)),s3!==peg$FAILED?(s1=peg$c288(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1="'",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s1!==peg$FAILED){if(s2=[],peg$c289.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c290)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c289.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c290));else s2=peg$FAILED;s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3="'",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s3!==peg$FAILED?(s1=peg$c288(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,96===input.charCodeAt(peg$currPos)?(s1="`",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c292)),s1!==peg$FAILED){if(s2=[],peg$c293.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c294)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c293.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c294));else s2=peg$FAILED;s2!==peg$FAILED?(96===input.charCodeAt(peg$currPos)?(s3="`",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c292)),s3!==peg$FAILED?(s1=peg$c288(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3;if(s0=peg$currPos,91===input.charCodeAt(peg$currPos)?(s1="[",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c296)),s1!==peg$FAILED){if(s2=[],peg$c297.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c298)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c297.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c298));else s2=peg$FAILED;s2!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s3="]",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c300)),s3!==peg$FAILED?(s1=peg$c288(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsecolumn(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parsecolumn_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsecolumn_part();s2!==peg$FAILED?(s1=peg$c302(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())!==peg$FAILED&&(peg$c281(s1)?peg$FAILED:void 0)!==peg$FAILED?s0=s1=s1:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsequoted_ident()),s0}function peg$parseident_name(){var s0,s1,s2,s3;if(s0=peg$currPos,(s1=peg$parseident_start())!==peg$FAILED){for(s2=[],s3=peg$parseident_part();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseident_part();s2!==peg$FAILED?s0=s1=peg$c302(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseident_start(){var s0;return peg$c303.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c304)),s0}function peg$parseident_part(){var s0;return peg$c305.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c306)),s0}function peg$parsecolumn_part(){var s0;return peg$c307.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c308)),s0}function peg$parseparam(){var s1,s2,s3;return peg$currPos,s1=peg$currPos,58===input.charCodeAt(peg$currPos)?(s2=":",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c310)),s2!==peg$FAILED&&(s3=peg$parseident_name())!==peg$FAILED?s1=s2=[s2,s3]:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(s1={type:"param",value:s1[1]}),s1}function peg$parseover_partition(){var s0,s9,s11;return s0=peg$currPos,function(){var s0,s1,s2,s3;return s0=peg$currPos,"over"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c475)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_PARTITION()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseKW_BY()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s9=peg$parsecolumn_clause())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s11=peg$parseorder_by_clause())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0={partitionby:s9,orderby:s11}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecount_arg(){var s0,s1,s3;return s0=peg$currPos,(s1=function(){var s1;return peg$currPos,42===input.charCodeAt(peg$currPos)?(s1="*",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c272)),s1!==peg$FAILED&&(s1={type:"star",value:"*"}),s1}())!==peg$FAILED&&(s1={expr:s1}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_DISTINCT())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsecolumn_ref())!==peg$FAILED?s0=s1={distinct:s1,expr:s3}:(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseliteral(){var s0;return(s0=peg$parseliteral_string())===peg$FAILED&&(s0=peg$parseliteral_numeric())===peg$FAILED&&(s0=function(){var s0,s1;return s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"true"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c400)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!0}),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"false"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c406)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"bool",value:!1}),s0=s1),s0}())===peg$FAILED&&(s0=peg$parseliteral_null())===peg$FAILED&&(s0=function(){var s0,s1,s3,s4,s5,s6,s8,ca;if(s0=peg$currPos,(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP())===peg$FAILED&&(s1=peg$parseKW_DATETIME()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s3=peg$currPos,39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s4!==peg$FAILED){for(s5=[],s6=peg$parsesingle_char();s6!==peg$FAILED;)s5.push(s6),s6=peg$parsesingle_char();s5!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s6="'",peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s6!==peg$FAILED?s3=s4=[s4,s5,s6]:(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}else peg$currPos=s3,s3=peg$FAILED;s3!==peg$FAILED?(ca=s3,s1={type:s1.toLowerCase(),value:ca[1].join("")},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CURRENT_TIMESTAMP())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseLPAREN())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?((s5=peg$parseRPAREN())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&(s6=(s6=function(type,lf,rt){if(lf&&rt)return!0}(0,s3,s5))?peg$FAILED:void 0)!==peg$FAILED&&peg$parse__()!==peg$FAILED?("on update current_timestamp"===input.substr(peg$currPos,27).toLowerCase()?(s8=input.substr(peg$currPos,27),peg$currPos+=27):(s8=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c334)),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s1=function(type,lf,rt,up){return{type:"origin",value:(up?`${type} ${up}`:type).toLowerCase()}}(s1,0,0,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}()),s0}function peg$parseliteral_null(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"null"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c396)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1={type:"null",value:null}),s1}function peg$parseliteral_string(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=peg$currPos,39===input.charCodeAt(peg$currPos)?(s2="'",peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_char();s3!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s4="'",peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c138)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;if(s1!==peg$FAILED&&(s1=peg$c330(s1)),(s0=s1)===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,34===input.charCodeAt(peg$currPos)?(s2='"',peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c285)),s2!==peg$FAILED){for(s3=[],s4=peg$parsesingle_quote_char();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsesingle_quote_char();s3!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s4='"',peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c285)),s4!==peg$FAILED?s1=s2=[s2,s3,s4]:(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(s1=peg$c330(s1)),s0=s1}return s0}function peg$parsesingle_quote_char(){var s0;return peg$c336.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c337)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parsesingle_char(){var s0;return peg$c338.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c339)),s0===peg$FAILED&&(s0=peg$parseescape_char()),s0}function peg$parseescape_char(){var s0,s1,s2,s3,s4,s5,h1,h2,h3,h4;return s0=peg$currPos,"\\'"===input.substr(peg$currPos,2)?(s1="\\'",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c341)),s1!==peg$FAILED&&(s1="'"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,'\\"'===input.substr(peg$currPos,2)?(s1='\\"',peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c344)),s1!==peg$FAILED&&(s1='"'),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\\\"===input.substr(peg$currPos,2)?(s1="\\\\",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c347)),s1!==peg$FAILED&&(s1="\\"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\/"===input.substr(peg$currPos,2)?(s1="\\/",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c350)),s1!==peg$FAILED&&(s1="/"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\b"===input.substr(peg$currPos,2)?(s1="\\b",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c353)),s1!==peg$FAILED&&(s1="\b"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\f"===input.substr(peg$currPos,2)?(s1="\\f",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c356)),s1!==peg$FAILED&&(s1="\f"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\n"===input.substr(peg$currPos,2)?(s1="\\n",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c359)),s1!==peg$FAILED&&(s1="\n"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\r"===input.substr(peg$currPos,2)?(s1="\\r",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c362)),s1!==peg$FAILED&&(s1="\r"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\t"===input.substr(peg$currPos,2)?(s1="\\t",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c365)),s1!==peg$FAILED&&(s1="\t"),(s0=s1)===peg$FAILED&&(s0=peg$currPos,"\\u"===input.substr(peg$currPos,2)?(s1="\\u",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c368)),s1!==peg$FAILED&&(s2=peg$parsehexDigit())!==peg$FAILED&&(s3=peg$parsehexDigit())!==peg$FAILED&&(s4=peg$parsehexDigit())!==peg$FAILED&&(s5=peg$parsehexDigit())!==peg$FAILED?(h1=s2,h2=s3,h3=s4,h4=s5,s0=s1=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1="\\",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c371)),s1!==peg$FAILED&&(s1="\\"),s0=s1)))))))))),s0}function peg$parseliteral_numeric(){var s1,n;return peg$currPos,(s1=peg$parsenumber())!==peg$FAILED&&(s1=(n=s1)&&"bigint"===n.type?n:{type:"number",value:n}),s1}function peg$parsenumber(){var s0,s1,s2,s3;return s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parseexp())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1={type:"bigint",value:s1+s2+s3}:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parsefrac())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s0=s1=function(int_,frac){const numStr=int_+frac;return isBigInt(int_)?{type:"bigint",value:numStr}:parseFloat(numStr)}(s1,s2):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parseexp())!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?s0=s1=function(int_,exp){return{type:"bigint",value:int_+exp}}(s1,s2):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseint())!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?s0=s1=function(int_){return isBigInt(int_)?{type:"bigint",value:int_}:parseFloat(int_)}(s1):(peg$currPos=s0,s0=peg$FAILED)))),s0}function peg$parseint(){var s0,s1,s2;return(s0=peg$parsedigits())===peg$FAILED&&(s0=peg$parsedigit())===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c269)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c267))),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,45===input.charCodeAt(peg$currPos)?(s1="-",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c269)),s1===peg$FAILED&&(43===input.charCodeAt(peg$currPos)?(s1="+",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c267))),s1!==peg$FAILED&&(s2=peg$parsedigit())!==peg$FAILED?s0=s1="-"+s2:(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefrac(){var s0,s1,s2;return s0=peg$currPos,46===input.charCodeAt(peg$currPos)?(s1=".",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c382)),s1!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1="."+s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseexp(){var s0,s1,s2;return s0=peg$currPos,(s1=function(){var s0,s1,s2,sign;return s0=peg$currPos,peg$c390.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c391)),s1!==peg$FAILED?(peg$c392.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c393)),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1+=null!==(sign=s2)?sign:"":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s2=peg$parsedigits())!==peg$FAILED?s0=s1+=s2:(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedigits(){var s1,s2;if(peg$currPos,s1=[],(s2=peg$parsedigit())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsedigit();else s1=peg$FAILED;return s1!==peg$FAILED&&(s1=s1.join("")),s1}function peg$parsedigit(){var s0;return peg$c386.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s0}function peg$parsehexDigit(){var s0;return peg$c388.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c389)),s0}function peg$parseKW_DEFAULT(){var s0,s1,s2,s3;return s0=peg$currPos,"default"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TO(){var s0,s1,s2,s3;return s0=peg$currPos,"to"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c402)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DROP(){var s0,s1,s2,s3;return s0=peg$currPos,"drop"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c410)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DROP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CREATE(){var s0,s1,s2,s3;return s0=peg$currPos,"create"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c421)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TEMPORARY(){var s0,s1,s2,s3;return s0=peg$currPos,"temporary"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c423)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IF_NOT_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"if not exists"===input.substr(peg$currPos,13).toLowerCase()?(s1=input.substr(peg$currPos,13),peg$currPos+=13):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c425)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_REPLACE(){var s0,s1,s2,s3;return s0=peg$currPos,"replace"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c433)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_RENAME(){var s0,s1,s2,s3;return s0=peg$currPos,"rename"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c435)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_PARTITION(){var s0,s1,s2,s3;return s0=peg$currPos,"partition"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c441)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="PARTITION":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTO(){var s0,s1,s2,s3;return s0=peg$currPos,"into"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c444)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SET(){var s0,s1,s2,s3;return s0=peg$currPos,"set"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c448)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AS(){var s0,s1,s2,s3;return s0=peg$currPos,"as"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c452)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLE(){var s0,s1,s2,s3;return s0=peg$currPos,"table"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c454)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TABLES(){var s0,s1,s2,s3;return s0=peg$currPos,"tables"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c457)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TABLES":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_JOIN(){var s0,s1,s2,s3;return s0=peg$currPos,"join"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c471)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OUTER(){var s0,s1,s2,s3;return s0=peg$currPos,"outer"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c473)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNION(){var s0,s1,s2,s3;return s0=peg$currPos,"union"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c477)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_USING(){var s0,s1,s2,s3;return s0=peg$currPos,"using"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c481)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_WITH(){var s0,s1,s2,s3;return s0=peg$currPos,"with"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c192)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BY(){var s0,s1,s2,s3;return s0=peg$currPos,"by"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c487)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_ALL(){var s0,s1,s2,s3;return s0=peg$currPos,"all"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c504)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ALL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DISTINCT(){var s0,s1,s2,s3;return s0=peg$currPos,"distinct"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c507)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DISTINCT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BETWEEN(){var s0,s1,s2,s3;return s0=peg$currPos,"between"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c510)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BETWEEN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IN(){var s0,s1,s2,s3;return s0=peg$currPos,"in"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c513)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_IS(){var s0,s1,s2,s3;return s0=peg$currPos,"is"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c516)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="IS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_LIKE(){var s0,s1,s2,s3;return s0=peg$currPos,"like"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c519)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LIKE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_EXISTS(){var s0,s1,s2,s3;return s0=peg$currPos,"exists"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c522)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="EXISTS":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NOT(){var s0,s1,s2,s3;return s0=peg$currPos,"not"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c79)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NOT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_AND(){var s0,s1,s2,s3;return s0=peg$currPos,"and"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c526)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="AND":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_OR(){var s0,s1,s2,s3;return s0=peg$currPos,"or"===input.substr(peg$currPos,2).toLowerCase()?(s1=input.substr(peg$currPos,2),peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c529)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="OR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COUNT(){var s0,s1,s2,s3;return s0=peg$currPos,"count"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c532)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COUNT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CASE(){var s0,s1,s2,s3;return s0=peg$currPos,"case"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c550)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CAST(){var s0,s1,s2,s3;return s0=peg$currPos,"cast"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c560)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"char"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c571)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"varchar"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c574)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="VARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NVARCHAR(){var s0,s1,s2,s3;return s0=peg$currPos,"nvarchar"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c580)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NVARCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_NUMERIC(){var s0,s1,s2,s3;return s0=peg$currPos,"numeric"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c583)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NUMERIC":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DECIMAL(){var s0,s1,s2,s3;return s0=peg$currPos,"decimal"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c586)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DECIMAL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_UNSIGNED(){var s0,s1,s2,s3;return s0=peg$currPos,"unsigned"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c592)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNSIGNED":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INT(){var s0,s1,s2,s3;return s0=peg$currPos,"int"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c595)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INTEGER(){var s0,s1,s2,s3;return s0=peg$currPos,"integer"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c601)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INTEGER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_SMALLINT(){var s0,s1,s2,s3;return s0=peg$currPos,"smallint"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c607)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TINYINT(){var s0,s1,s2,s3;return s0=peg$currPos,"tinyint"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c610)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_BIGINT(){var s0,s1,s2,s3;return s0=peg$currPos,"bigint"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c625)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIGINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_FLOAT(){var s0,s1,s2,s3;return s0=peg$currPos,"float"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c628)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="FLOAT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DOUBLE(){var s0,s1,s2,s3;return s0=peg$currPos,"double"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c631)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DOUBLE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATE(){var s0,s1,s2,s3;return s0=peg$currPos,"date"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c634)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATE":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_DATETIME(){var s0,s1,s2,s3;return s0=peg$currPos,"datetime"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c637)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="DATETIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIME(){var s0,s1,s2,s3;return s0=peg$currPos,"time"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c640)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIME":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"timestamp"===input.substr(peg$currPos,9).toLowerCase()?(s1=input.substr(peg$currPos,9),peg$currPos+=9):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c643)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CURRENT_TIMESTAMP(){var s0,s1,s2,s3;return s0=peg$currPos,"current_timestamp"===input.substr(peg$currPos,17).toLowerCase()?(s1=input.substr(peg$currPos,17),peg$currPos+=17):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c685)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CURRENT_TIMESTAMP":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_VAR_PRE(){var s0;return(s0=function(){var s0;return"@@"===input.substr(peg$currPos,2)?(s0="@@",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c712)),s0}())===peg$FAILED&&(s0=function(){var s0;return 64===input.charCodeAt(peg$currPos)?(s0="@",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c710)),s0}())===peg$FAILED&&(s0=function(){var s0;return 36===input.charCodeAt(peg$currPos)?(s0="$",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c714)),s0}()),s0}function peg$parseKW_ASSIGIN_EQUAL(){var s0;return 61===input.charCodeAt(peg$currPos)?(s0="=",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c224)),s0}function peg$parseKW_ADD(){var s0,s1,s2,s3;return s0=peg$currPos,"add"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c722)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ADD":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COLUMN(){var s0,s1,s2,s3;return s0=peg$currPos,"column"===input.substr(peg$currPos,6).toLowerCase()?(s1=input.substr(peg$currPos,6),peg$currPos+=6):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c725)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COLUMN":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_INDEX(){var s0,s1,s2,s3;return s0=peg$currPos,"index"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c728)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="INDEX":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_KEY(){var s0,s1,s2,s3;return s0=peg$currPos,"key"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c17)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="KEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_COMMENT(){var s0,s1,s2,s3;return s0=peg$currPos,"comment"===input.substr(peg$currPos,7).toLowerCase()?(s1=input.substr(peg$currPos,7),peg$currPos+=7):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c740)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="COMMENT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKW_CONSTRAINT(){var s0,s1,s2,s3;return s0=peg$currPos,"constraint"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c743)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="CONSTRAINT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseDOT(){var s0;return 46===input.charCodeAt(peg$currPos)?(s0=".",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c382)),s0}function peg$parseCOMMA(){var s0;return 44===input.charCodeAt(peg$currPos)?(s0=",",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c761)),s0}function peg$parseSTAR(){var s0;return 42===input.charCodeAt(peg$currPos)?(s0="*",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c272)),s0}function peg$parseLPAREN(){var s0;return 40===input.charCodeAt(peg$currPos)?(s0="(",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c166)),s0}function peg$parseRPAREN(){var s0;return 41===input.charCodeAt(peg$currPos)?(s0=")",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c168)),s0}function peg$parseSEMICOLON(){var s0;return 59===input.charCodeAt(peg$currPos)?(s0=";",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c763)),s0}function peg$parseLOGIC_OPERATOR(){var s0;return(s0=function(){var s0;return"||"===input.substr(peg$currPos,2)?(s0="||",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c765)),s0}())===peg$FAILED&&(s0=function(){var s0;return"&&"===input.substr(peg$currPos,2)?(s0="&&",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c767)),s0}()),s0}function peg$parse__(){var s0,s1;for(s0=[],(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());s1!==peg$FAILED;)s0.push(s1),(s1=peg$parsewhitespace())===peg$FAILED&&(s1=peg$parsecomment());return s0}function peg$parsecomment(){var s0;return(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"/*"===input.substr(peg$currPos,2)?(s1="/*",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c769)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c771)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,"*/"===input.substr(peg$currPos,2)?(s5="*/",peg$currPos+=2):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c771)),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?("*/"===input.substr(peg$currPos,2)?(s3="*/",peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c771)),s3!==peg$FAILED?s0=s1=[s1,s2,s3]:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,"--"===input.substr(peg$currPos,2)?(s1="--",peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c773)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,35===input.charCodeAt(peg$currPos)?(s1="#",peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c775)),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$currPos,peg$silentFails++,s5=peg$parseEOL(),peg$silentFails--,s5===peg$FAILED?s4=void 0:(peg$currPos=s4,s4=peg$FAILED),s4!==peg$FAILED&&(s5=peg$parsechar())!==peg$FAILED?s3=s4=[s4,s5]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=[s1,s2]:(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}()),s0}function peg$parsekeyword_comment(){var s0,s1,s3,s5,k,s,c;return s0=peg$currPos,(s1=peg$parseKW_COMMENT())!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseKW_ASSIGIN_EQUAL())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseliteral_string())!==peg$FAILED?(s=s3,c=s5,s0=s1={type:(k=s1).toLowerCase(),keyword:k.toLowerCase(),symbol:s,value:c}):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsechar(){var s0;return input.length>peg$currPos?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c777)),s0}function peg$parsewhitespace(){var s0;return peg$c778.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c779)),s0}function peg$parseEOL(){var s0,s1;if((s0=function(){var s0,s1;return s0=peg$currPos,peg$silentFails++,input.length>peg$currPos?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c777)),peg$silentFails--,s1===peg$FAILED?s0=void 0:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED)if(s0=[],peg$c372.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c373)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c372.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c373));else s0=peg$FAILED;return s0}function peg$parseproc_stmt(){var s0,s3;return s0=peg$currPos,varList=[],void 0!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=peg$parseassign_stmt())===peg$FAILED&&(s3=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return"return"===input.substr(peg$currPos,6).toLowerCase()?(s0=input.substr(peg$currPos,6),peg$currPos+=6):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c716)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_expr())!==peg$FAILED?s0={type:"return",expr:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s3!==peg$FAILED?s0={stmt:s3,vars:varList}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseassign_stmt(){var s0,s1,s3,s5;return s0=peg$currPos,(s1=peg$parsevar_decl())===peg$FAILED&&(s1=peg$parsewithout_prefix_var_decl()),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0;return":="===input.substr(peg$currPos,2)?(s0=":=",peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c718)),s0}())===peg$FAILED&&(s3=peg$parseKW_ASSIGIN_EQUAL()),s3!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parseproc_expr())!==peg$FAILED?s0=s1={type:"assign",left:s1,symbol:s3,right:s5}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_expr(){var s0;return(s0=peg$parseselect_stmt())===peg$FAILED&&(s0=function(){var s0,s1,s3,s5,s7;return s0=peg$currPos,(s1=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parsejoin_op())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s5=peg$parsevar_decl())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s7=peg$parseon_clause())!==peg$FAILED?s0=s1={type:"join",ltable:s1,rtable:s5,op:s3,on:s7}:(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s0=peg$parseproc_additive_expr())===peg$FAILED&&(s0=function(){var s0,s3;return s0=peg$currPos,function(){var s0;return 91===input.charCodeAt(peg$currPos)?(s0="[",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c296)),s0}()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_primary_list())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&function(){var s0;return 93===input.charCodeAt(peg$currPos)?(s0="]",peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c300)),s0}()!==peg$FAILED?s0={type:"array",value:s3}:(peg$currPos=s0,s0=peg$FAILED),s0}()),s0}function peg$parseproc_additive_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_multiplicative_expr())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseadditive_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_multiplicative_expr())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c240(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_multiplicative_expr(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parsemultiplicative_operator())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c240(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseproc_primary(){var s0,s3;return(s0=peg$parseliteral())===peg$FAILED&&(s0=peg$parsevar_decl())===peg$FAILED&&(s0=peg$parseproc_func_call())===peg$FAILED&&(s0=peg$parseparam())===peg$FAILED&&(s0=peg$currPos,peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED&&(s3=peg$parseproc_additive_expr())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=peg$c277(s3):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_func_name(){var s0,s1,s2,s3,s4,s5,s6;return s0=peg$currPos,(s1=peg$parseident())!==peg$FAILED?(s2=peg$currPos,(s3=peg$parse__())!==peg$FAILED&&(s4=peg$parseDOT())!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED&&(s6=peg$parseident())!==peg$FAILED?s2=s3=[s3,s4,s5,s6]:(peg$currPos=s2,s2=peg$FAILED),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?s0=s1=function(dt,tail){let name=dt;return null!==tail&&(name=`${dt}.${tail[3]}`),name}(s1,s2):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseproc_func_call(){var s0,s1,s5;return s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s5=peg$parseproc_primary_list())===peg$FAILED&&(s5=null),s5!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED?s0=s1={type:"function",name:s1,args:{type:"expr_list",value:s5}}:(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseproc_func_name())!==peg$FAILED&&peg$parse__()!==peg$FAILED?s0=s1=function(name){return{type:"function",name:name,args:null}}(s1):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseproc_primary_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseproc_primary())!==peg$FAILED){for(s2=[],s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,(s4=peg$parse__())!==peg$FAILED&&(s5=peg$parseCOMMA())!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&(s7=peg$parseproc_primary())!==peg$FAILED?s3=s4=[s4,s5,s6,s7]:(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?s0=s1=peg$c7(s1,s2):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevar_decl(){var s0,s1,s2,p,d;return s0=peg$currPos,(s1=peg$parseKW_VAR_PRE())!==peg$FAILED&&(s2=peg$parsewithout_prefix_var_decl())!==peg$FAILED?(p=s1,d=s2,s0=s1={type:"var",...d,prefix:p}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsewithout_prefix_var_decl(){var s0,s1,s2,name,m;return s0=peg$currPos,(s1=peg$parseident_name())!==peg$FAILED&&(s2=function(){var s1,s2,s3,s4;for(peg$currPos,s1=[],s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c382)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);s2!==peg$FAILED;)s1.push(s2),s2=peg$currPos,46===input.charCodeAt(peg$currPos)?(s3=".",peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c382)),s3!==peg$FAILED&&(s4=peg$parseident_name())!==peg$FAILED?s2=s3=[s3,s4]:(peg$currPos=s2,s2=peg$FAILED);return s1!==peg$FAILED&&(s1=function(l){const s=[];for(let i=0;i<l.length;i++)s.push(l[i][1]);return s}(s1)),s1}())!==peg$FAILED?(name=s1,m=s2,varList.push(name),s0=s1={type:"var",name:name,members:m,prefix:null}):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsedata_type(){var s0,s1;return(s0=function(){var s0,s1,s5,s6;if(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"nchar"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c577)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="NCHAR":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=peg$parseKW_NVARCHAR()),s1!==peg$FAILED)if(peg$parse__()!==peg$FAILED)if(peg$parseLPAREN()!==peg$FAILED)if(peg$parse__()!==peg$FAILED){if(s5=[],peg$c386.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c386.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387));else s5=peg$FAILED;s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1={dataType:s1,length:parseInt(s5.join(""),10)},s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_CHAR())===peg$FAILED&&(s1=peg$parseKW_VARCHAR()),s1!==peg$FAILED&&(s1=peg$c793(s1)),(s0=s1)===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NVARCHAR())!==peg$FAILED&&peg$parse__()!==peg$FAILED&&peg$parseLPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?("max"===input.substr(peg$currPos,3).toLowerCase()?(s5=input.substr(peg$currPos,3),peg$currPos+=3):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c535)),s5!==peg$FAILED&&(s6=peg$parse__())!==peg$FAILED&&peg$parseRPAREN()!==peg$FAILED&&peg$parse__()!==peg$FAILED?(s1=function(t,m){return{dataType:t,length:"max"}}(s1),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}())===peg$FAILED&&(s0=function(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,r,s;if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED)if((s2=peg$parse__())!==peg$FAILED)if((s3=peg$parseLPAREN())!==peg$FAILED)if((s4=peg$parse__())!==peg$FAILED){if(s5=[],peg$c386.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s6!==peg$FAILED)for(;s6!==peg$FAILED;)s5.push(s6),peg$c386.test(input.charAt(peg$currPos))?(s6=input.charAt(peg$currPos),peg$currPos++):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387));else s5=peg$FAILED;if(s5!==peg$FAILED)if((s6=peg$parse__())!==peg$FAILED){if(s7=peg$currPos,(s8=peg$parseCOMMA())!==peg$FAILED)if((s9=peg$parse__())!==peg$FAILED){if(s10=[],peg$c386.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s11!==peg$FAILED)for(;s11!==peg$FAILED;)s10.push(s11),peg$c386.test(input.charAt(peg$currPos))?(s11=input.charAt(peg$currPos),peg$currPos++):(s11=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387));else s10=peg$FAILED;s10!==peg$FAILED?s7=s8=[s8,s9,s10]:(peg$currPos=s7,s7=peg$FAILED)}else peg$currPos=s7,s7=peg$FAILED;else peg$currPos=s7,s7=peg$FAILED;s7===peg$FAILED&&(s7=null),s7!==peg$FAILED&&(s8=peg$parse__())!==peg$FAILED&&(s9=peg$parseRPAREN())!==peg$FAILED&&(s10=peg$parse__())!==peg$FAILED?((s11=peg$parsenumeric_type_suffix())===peg$FAILED&&(s11=null),s11!==peg$FAILED&&peg$parse__()!==peg$FAILED?(r=s7,s=s11,s1={dataType:s1,length:parseInt(s5.join(""),10),scale:r&&parseInt(r[2].join(""),10),parentheses:!0,suffix:s},s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE()),s1!==peg$FAILED){if(s2=[],peg$c386.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387)),s3!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),peg$c386.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c387));else s2=peg$FAILED;s2!==peg$FAILED&&(s3=peg$parse__())!==peg$FAILED?((s4=peg$parsenumeric_type_suffix())===peg$FAILED&&(s4=null),s4!==peg$FAILED&&(s5=peg$parse__())!==peg$FAILED?(s1=function(t,l,s){return{dataType:t,length:parseInt(l.join(""),10),suffix:s}}(s1,s2,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;s0===peg$FAILED&&(s0=peg$currPos,(s1=peg$parseKW_NUMERIC())===peg$FAILED&&(s1=peg$parseKW_DECIMAL())===peg$FAILED&&(s1=peg$parseKW_INT())===peg$FAILED&&(s1=peg$parseKW_INTEGER())===peg$FAILED&&(s1=peg$parseKW_SMALLINT())===peg$FAILED&&(s1=peg$parseKW_TINYINT())===peg$FAILED&&(s1=peg$parseKW_BIGINT())===peg$FAILED&&(s1=peg$parseKW_FLOAT())===peg$FAILED&&(s1=peg$parseKW_DOUBLE())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"bit"===input.substr(peg$currPos,3).toLowerCase()?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c562)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="BIT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"money"===input.substr(peg$currPos,5).toLowerCase()?(s1=input.substr(peg$currPos,5),peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c565)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MONEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"smallmoney"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c568)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="SMALLMONEY":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s2=peg$parse__())!==peg$FAILED?((s3=peg$parsenumeric_type_suffix())===peg$FAILED&&(s3=null),s3!==peg$FAILED&&(s4=peg$parse__())!==peg$FAILED?(s1=function(t,s){return{dataType:t,suffix:s}}(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))}return s0}())===peg$FAILED&&((s1=peg$parseKW_DATE())===peg$FAILED&&(s1=peg$parseKW_DATETIME())===peg$FAILED&&(s1=peg$parseKW_TIME())===peg$FAILED&&(s1=peg$parseKW_TIMESTAMP()),s1!==peg$FAILED&&(s1=peg$c793(s1)),(s0=s1)===peg$FAILED)&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"json"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c604)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="JSON":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c793(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"tinytext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c613)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TINYTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"text"===input.substr(peg$currPos,4).toLowerCase()?(s1=input.substr(peg$currPos,4),peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c616)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="TEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"mediumtext"===input.substr(peg$currPos,10).toLowerCase()?(s1=input.substr(peg$currPos,10),peg$currPos+=10):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c619)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="MEDIUMTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"longtext"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c622)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="LONGTEXT":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}()),s1!==peg$FAILED&&(s1=peg$c799(s1)),s1}())===peg$FAILED&&(s0=function(){var s1;return peg$currPos,(s1=function(){var s0,s1,s2,s3;return s0=peg$currPos,"uniqueidentifier"===input.substr(peg$currPos,16).toLowerCase()?(s1=input.substr(peg$currPos,16),peg$currPos+=16):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c649)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="UNIQUEIDENTIFIER":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())!==peg$FAILED&&(s1=peg$c799(s1)),s1}()),s0}function peg$parsenumeric_type_suffix(){var s0,s1,s3;return s0=peg$currPos,(s1=peg$parseKW_UNSIGNED())===peg$FAILED&&(s1=null),s1!==peg$FAILED&&peg$parse__()!==peg$FAILED?((s3=function(){var s0,s1,s2,s3;return s0=peg$currPos,"zerofill"===input.substr(peg$currPos,8).toLowerCase()?(s1=input.substr(peg$currPos,8),peg$currPos+=8):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c598)),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseident_start(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?s0=s1="ZEROFILL":(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}())===peg$FAILED&&(s3=null),s3!==peg$FAILED?s0=s1=function(un,ze){const result=[];return un&&result.push(un),ze&&result.push(ze),result}(s1,s3):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}const reservedMap={ALTER:!0,ALL:!0,ADD:!0,AND:!0,AS:!0,ASC:!0,BETWEEN:!0,BY:!0,CALL:!0,CASE:!0,CREATE:!0,CONTAINS:!0,CURRENT_DATE:!0,CURRENT_TIME:!0,CURRENT_TIMESTAMP:!0,CURRENT_USER:!0,DELETE:!0,DESC:!0,DISTINCT:!0,DROP:!0,ELSE:!0,END:!0,EXISTS:!0,EXPLAIN:!0,FALSE:!0,FROM:!0,FULL:!0,GROUP:!0,HAVING:!0,IN:!0,INNER:!0,INSERT:!0,INTO:!0,IS:!0,JOIN:!0,JSON:!0,KEY:!0,LEFT:!0,LIKE:!0,LIMIT:!0,LOW_PRIORITY:!0,NOT:!0,NULL:!0,NOCHECK:!0,ON:!0,OR:!0,ORDER:!0,OUTER:!0,RECURSIVE:!0,RENAME:!0,READ:!0,RIGHT:!0,SELECT:!0,SESSION_USER:!0,SET:!0,SHOW:!0,STATUS:!0,SYSTEM_USER:!0,TABLE:!0,THEN:!0,TRUE:!0,TRUNCATE:!0,TYPE:!0,UNION:!0,UPDATE:!0,USING:!0,VALUES:!0,WITH:!0,WHEN:!0,WHERE:!0,WRITE:!0,GLOBAL:!0,SESSION:!0,LOCAL:!0,PERSIST:!0,PERSIST_ONLY:!0};function createUnaryExpr(op,e){return{type:"unary_expr",operator:op,expr:e}}function createBinaryExpr(op,left,right){return{type:"binary_expr",operator:op,left:left,right:right}}function isBigInt(numberStr){const previousMaxSafe=BigInt(Number.MAX_SAFE_INTEGER);return!(BigInt(numberStr)<previousMaxSafe)}function createList(head,tail){const result=[head];for(let i=0;i<tail.length;i++)result.push(tail[i][3]);return result}function createBinaryExprChain(head,tail){let result=head;for(let i=0;i<tail.length;i++)result=createBinaryExpr(tail[i][1],result,tail[i][3]);return result}function queryTableAlias(tableName){const alias=tableAlias[tableName];return alias||tableName||null}function columnListTableAlias(columnList){const columns=[];for(let column of columnList.keys()){const columnInfo=column.split("::");if(!columnInfo){columns.push(column);break}columnInfo&&columnInfo[1]&&(columnInfo[1]=queryTableAlias(columnInfo[1])),columns.push(columnInfo.join("::"))}return columns}let varList=[];const tableList=new Set,columnList=new Set,tableAlias={};if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end"}),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(49)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_union){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function(ast){return Array.isArray(ast)?(ast.forEach(checkSupported),(0,_union.multipleToSQL)(ast)):(checkSupported(ast),(0,_union.unionToSQL)(ast))};const surportedTypes=["select","delete","update","insert","drop","rename","truncate","call","use","alter","set","create","lock","unlock"];function checkSupported(expr){const ast=expr&&expr.ast?expr.ast:expr;if(!surportedTypes.includes(ast.type))throw new Error(ast.type+" statements not supported at the moment")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3),__webpack_require__(50),__webpack_require__(26),__webpack_require__(76),__webpack_require__(78),__webpack_require__(12),__webpack_require__(49),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr,_indexDefinition,_column,_constrain,_func,_tables,_union,_util){"use strict";function createDefinitionToSQL(definition){if(!definition)return[];const{resource:resource}=definition;switch(resource){case"column":return(0,_column.columnDefinitionToSQL)(definition);case"index":return(0,_indexDefinition.indexDefinitionToSQL)(definition);case"constraint":return(0,_constrain.constraintDefinitionToSQL)(definition);default:throw new Error(`unknow resource = ${resource} type`)}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.createToSQL=function(stmt){const{keyword:keyword}=stmt;let sql="";switch(keyword.toLowerCase()){case"table":sql=function(stmt){const{type:type,keyword:keyword,table:table,like:like,as:as,temporary:temporary,if_not_exists:ifNotExists,create_definitions:createDefinition,table_options:tableOptions,ignore_replace:ignoreReplace,query_expr:queryExpr}=stmt,sql=[(0,_util.toUpper)(type),(0,_util.toUpper)(temporary),(0,_util.toUpper)(keyword),(0,_util.toUpper)(ifNotExists),(0,_tables.tablesToSQL)(table)];if(like){const{type:likeType,table:likeTable}=like,likeTableName=(0,_tables.tablesToSQL)(likeTable);return sql.push((0,_util.toUpper)(likeType),likeTableName),sql.filter(_util.hasVal).join(" ")}return createDefinition&&sql.push(`(${createDefinition.map(createDefinitionToSQL).join(", ")})`),tableOptions&&sql.push(tableOptions.map(_tables.tableOptionToSQL).join(" ")),sql.push((0,_util.toUpper)(ignoreReplace),(0,_util.toUpper)(as)),queryExpr&&sql.push((0,_union.unionToSQL)(queryExpr)),sql.filter(_util.hasVal).join(" ")}(stmt);break;case"trigger":sql=function(stmt){const{constraint:constraint,constraint_kw:constraintKw,deferrable:deferrable,events:events,execute:execute,for_each:forEach,from:from,location:location,keyword:keyword,type:type,table:table,when:when}=stmt,sql=[(0,_util.toUpper)(type),(0,_util.toUpper)(constraintKw),(0,_util.toUpper)(keyword),(0,_util.identifierToSql)(constraint),(0,_util.toUpper)(location)],event=(0,_util.triggerEventToSQL)(events);return sql.push(event,"ON",(0,_tables.tableToSQL)(table)),from&&sql.push("FROM",(0,_tables.tableToSQL)(from)),sql.push(...(0,_util.commonKeywordArgsToSQL)(deferrable),...(0,_util.commonKeywordArgsToSQL)(forEach)),when&&sql.push((0,_util.toUpper)(when.type),(0,_expr.exprToSQL)(when.cond)),sql.push((0,_util.toUpper)(execute.keyword),(0,_func.funcToSQL)(execute.expr)),sql.filter(_util.hasVal).join(" ")}(stmt);break;case"extension":sql=function(stmt){const{extension:extension,from:from,if_not_exists:ifNotExists,keyword:keyword,schema:schema,type:type,with:withName,version:version}=stmt,sql=[(0,_util.toUpper)(type),(0,_util.toUpper)(keyword),(0,_util.toUpper)(ifNotExists),(0,_util.literalToSQL)(extension),(0,_util.toUpper)(withName)];return schema&&sql.push("SCHEMA",(0,_util.literalToSQL)(schema)),version&&sql.push("VERSION",(0,_util.literalToSQL)(version)),from&&sql.push("FROM",(0,_util.literalToSQL)(from)),sql.filter(_util.hasVal).join(" ")}(stmt);break;default:throw new Error("unknow create resource "+keyword)}return sql}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3),__webpack_require__(4),__webpack_require__(77)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr,_util,_over){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.aggrToSQL=function(expr){const{args:args,over:over}=expr;let str=(0,_expr.exprToSQL)(args.expr);const fnName=expr.name,overStr=(0,_over.overToSQL)(over);return"COUNT"===fnName&&args.distinct&&(str="DISTINCT "+str),[`${fnName}(${str})`,overStr].filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.assignToSQL=function(expr){const{left:left,right:right,symbol:symbol,keyword:keyword}=expr;return left.keyword=keyword,`${(0,_expr.exprToSQL)(left)} ${symbol} ${(0,_expr.exprToSQL)(right)}`}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.binaryToSQL=function(expr){let{operator:operator}=expr,rstr=(0,_expr.exprToSQL)(expr.right),isBetween=!1;if(Array.isArray(rstr)){switch(operator){case"=":operator="IN";break;case"!=":operator="NOT IN";break;case"BETWEEN":case"NOT BETWEEN":isBetween=!0,rstr=`${rstr[0]} AND ${rstr[1]}`}isBetween||(rstr=`(${rstr.join(", ")})`)}const str=`${(0,_expr.exprToSQL)(expr.left)} ${operator} ${rstr}`;return expr.parentheses?`(${str})`:str}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.caseToSQL=function(expr){const res=["CASE"],conditions=expr.args;expr.expr&&res.push((0,_expr.exprToSQL)(expr.expr));for(let i=0,len=conditions.length;i<len;++i)res.push(conditions[i].type.toUpperCase()),conditions[i].cond&&(res.push((0,_expr.exprToSQL)(conditions[i].cond)),res.push("THEN")),res.push((0,_expr.exprToSQL)(conditions[i].result));return res.push("END"),res.join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.intervalToSQL=function(intervalExpr){const{expr:expr,unit:unit}=intervalExpr;return`INTERVAL ${(0,_expr.exprToSQL)(expr)} ${(0,_util.toUpper)(unit)}`}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(3)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_expr){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.withToSql=function(withExpr){if(withExpr&&0!==withExpr.length)return`WITH ${withExpr[0].recursive?"RECURSIVE ":""}${withExpr.map(cte=>`"${cte.name}"${Array.isArray(cte.columns)?`(${cte.columns.join(", ")})`:""} AS (${(0,_expr.exprToSQL)(cte.stmt)})`).join(", ")}`}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(26),__webpack_require__(12),__webpack_require__(3),__webpack_require__(4)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_column,_tables,_expr,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.deleteToSQL=function(stmt){const clauses=["DELETE"],{columns:columns,from:from,table:table,where:where}=stmt,columnInfo=(0,_column.columnsToSQL)(columns,from);return clauses.push(columnInfo),Array.isArray(table)&&(1===table.length&&!0===table[0].addition||clauses.push((0,_tables.tablesToSQL)(table))),clauses.push((0,_util.commonOptionConnector)("FROM",_tables.tablesToSQL,from)),clauses.push((0,_util.commonOptionConnector)("WHERE",_expr.exprToSQL,where)),clauses.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(12),__webpack_require__(3),__webpack_require__(4),__webpack_require__(51),__webpack_require__(79)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_tables,_expr,_util,_select,_update){"use strict";function valuesToSQL(values){return"select"===values.type?(0,_select.selectToSQL)(values):`(${values.map(_expr.exprToSQL).join("),(")})`}function partitionToSQL(partition){if(!partition)return"";const partitionArr=["PARTITION","("];if(Array.isArray(partition))partitionArr.push(partition.map(_util.identifierToSql).join(", "));else{const{value:value}=partition;partitionArr.push(value.map(_expr.exprToSQL).join(", "))}return partitionArr.push(")"),partitionArr.filter(_util.hasVal).join("")}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.insertToSQL=function(stmt){const{table:table,prefix:prefix="into",columns:columns,values:values,where:where,on_duplicate_update:onDuplicateUpdate,partition:partition,returning:returning,set:set}=stmt,clauses=["INSERT",(0,_util.toUpper)(prefix),(0,_tables.tablesToSQL)(table),partitionToSQL(partition)];return Array.isArray(columns)&&clauses.push(`(${columns.map(_util.identifierToSql).join(", ")})`),clauses.push((0,_util.commonOptionConnector)(Array.isArray(values)?"VALUES":"",valuesToSQL,values)),clauses.push((0,_util.commonOptionConnector)("SET",_update.setToSQL,set)),clauses.push((0,_util.commonOptionConnector)("WHERE",_expr.exprToSQL,where)),clauses.push((0,_util.returningToSQL)(returning)),clauses.push((0,_util.commonOptionConnector)(onDuplicateUpdate&&onDuplicateUpdate.keyword,_update.setToSQL,onDuplicateUpdate&&onDuplicateUpdate.set)),clauses.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(4),__webpack_require__(3),__webpack_require__(12)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(_exports,_util,_expr,_tables){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.dropToSQL=function(stmt){return["DROP TABLE",(0,_tables.tablesToSQL)(stmt.table)].join(" ")},_exports.truncateToSQL=function(stmt){return["TRUNCATE",stmt.keyword,(0,_tables.tablesToSQL)(stmt.table)].filter(_util.hasVal).join(" ")},_exports.renameToSQL=function(stmt){const{type:type,table:table}=stmt,clauses=[],prefix=(type&&type.toUpperCase())+" TABLE";if(table)for(const tables of table){const renameInfo=tables.map(_tables.tableToSQL);clauses.push(renameInfo.join(" TO "))}return`${prefix} ${clauses.join(", ")}`},_exports.useToSQL=function(stmt){const{type:type,db:db}=stmt;return`${type&&type.toUpperCase()} ${(0,_util.identifierToSql)(db)}`},_exports.callToSQL=function(stmt){return"CALL "+(0,_expr.exprToSQL)(stmt.expr)},_exports.setVarToSQL=function(stmt){const{expr:expr}=stmt;return"SET "+(0,_expr.exprToSQL)(expr)},_exports.lockUnlockToSQL=function(stmt){const{type:type,keyword:keyword,tables:tables}=stmt,result=[type.toUpperCase(),(0,_util.toUpper)(keyword)];if("UNLOCK"===type.toUpperCase())return result.join(" ");const tableStmt=[];for(const tableInfo of tables){const{table:table,lock_type:lockType}=tableInfo,tableInfoTemp=[(0,_tables.tableToSQL)(table)];if(lockType){const lockKeyList=["prefix","type","suffix"];tableInfoTemp.push(lockKeyList.map(key=>(0,_util.toUpper)(lockType[key])).filter(_util.hasVal).join(" "))}tableStmt.push(tableInfoTemp.join(" "))}return result.push(tableStmt.join(", "),...function(stmt){const{lock_mode:lockMode,nowait:nowait}=stmt,lockInfo=[];if(lockMode){const{mode:mode}=lockMode;lockInfo.push(mode.toUpperCase())}return nowait&&lockInfo.push(nowait.toUpperCase()),lockInfo}(stmt)),result.filter(_util.hasVal).join(" ")}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableColumnCompletionItem=exports.TableCompletionItem=void 0;const vscode_languageserver_1=__webpack_require__(19);exports.TableCompletionItem=function(table,priority=1){const tableOrView=table.isView?"View":"Table";let yml=`${tableOrView}: ${table.label}\n`;return table.schema&&(yml+=`${tableOrView} Schema: ${table.schema}\n`),table.database&&(yml+=`Database: ${table.database}\n`),{detail:tableOrView,documentation:{value:`\`\`\`yaml\n${yml}\n\`\`\``,kind:"markdown"},kind:table.isView?vscode_languageserver_1.CompletionItemKind.Reference:vscode_languageserver_1.CompletionItemKind.Constant,label:table.label,filterText:table.label,sortText:"number"==typeof priority?`${priority}:${table.label}`:table.label}},exports.TableColumnCompletionItem=function(col,_ignored={}){const colInfo=[col.label];void 0!==col.size&&null!==col.size?colInfo.push(`${col.type.toUpperCase()}(${col.size})`):colInfo.push(col.type.toUpperCase()),!1===col.isNullable&&colInfo.push("NOT NULL"),col.defaultValue&&(colInfo.push("DEFAULT"),colInfo.push(col.defaultValue));let yml="";col.database&&(yml+=`Database: ${col.database}\n`),col.schema&&(yml+=`Table Schema: ${col.schema}\n`);const table=col.table.label||col.table;yml+="Table: "+table;const label=col.label;return{detail:table+" Col",documentation:{value:`\`\`\`sql\n${colInfo.join(" ")}\n\`\`\`\n\`\`\`yaml\n${yml}\n\`\`\``,kind:"markdown"},kind:vscode_languageserver_1.CompletionItemKind.Field,label:label,sortText:`-1:${table}.${label}`}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.columnPrevWords=exports.tablePrevWords=exports.both=void 0,exports.both=[],exports.tablePrevWords=["FROM","JOIN","TABLE","INTO","ON","=","WHERE"],exports.columnPrevWords=["SELECT","ON","WHEN","WHERE","(","ORDER BY","GROUP BY","HAVING","=","ON"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Severity",(function(){return Severity})),__webpack_require__.d(__webpack_exports__,"Status",(function(){return Status})),__webpack_require__.d(__webpack_exports__,"addGlobalEventProcessor",(function(){return esm_scope.b})),__webpack_require__.d(__webpack_exports__,"addBreadcrumb",(function(){return addBreadcrumb})),__webpack_require__.d(__webpack_exports__,"captureException",(function(){return captureException})),__webpack_require__.d(__webpack_exports__,"captureEvent",(function(){return captureEvent})),__webpack_require__.d(__webpack_exports__,"captureMessage",(function(){return captureMessage})),__webpack_require__.d(__webpack_exports__,"configureScope",(function(){return configureScope})),__webpack_require__.d(__webpack_exports__,"getHubFromCarrier",(function(){return esm_hub.c})),__webpack_require__.d(__webpack_exports__,"getCurrentHub",(function(){return esm_hub.b})),__webpack_require__.d(__webpack_exports__,"Hub",(function(){return esm_hub.a})),__webpack_require__.d(__webpack_exports__,"Scope",(function(){return esm_scope.a})),__webpack_require__.d(__webpack_exports__,"setContext",(function(){return setContext})),__webpack_require__.d(__webpack_exports__,"setExtra",(function(){return setExtra})),__webpack_require__.d(__webpack_exports__,"setExtras",(function(){return setExtras})),__webpack_require__.d(__webpack_exports__,"setTag",(function(){return setTag})),__webpack_require__.d(__webpack_exports__,"setTags",(function(){return setTags})),__webpack_require__.d(__webpack_exports__,"setUser",(function(){return setUser})),__webpack_require__.d(__webpack_exports__,"withScope",(function(){return withScope})),__webpack_require__.d(__webpack_exports__,"NodeClient",(function(){return client_NodeClient})),__webpack_require__.d(__webpack_exports__,"defaultIntegrations",(function(){return sdk_defaultIntegrations})),__webpack_require__.d(__webpack_exports__,"init",(function(){return init})),__webpack_require__.d(__webpack_exports__,"lastEventId",(function(){return lastEventId})),__webpack_require__.d(__webpack_exports__,"flush",(function(){return flush})),__webpack_require__.d(__webpack_exports__,"close",(function(){return sdk_close})),__webpack_require__.d(__webpack_exports__,"SDK_NAME",(function(){return SDK_NAME})),__webpack_require__.d(__webpack_exports__,"SDK_VERSION",(function(){return SDK_VERSION})),__webpack_require__.d(__webpack_exports__,"Integrations",(function(){return INTEGRATIONS})),__webpack_require__.d(__webpack_exports__,"Transports",(function(){return transports_namespaceObject})),__webpack_require__.d(__webpack_exports__,"Handlers",(function(){return handlers_namespaceObject}));var transports_namespaceObject={};__webpack_require__.r(transports_namespaceObject),__webpack_require__.d(transports_namespaceObject,"BaseTransport",(function(){return base_BaseTransport})),__webpack_require__.d(transports_namespaceObject,"HTTPTransport",(function(){return http_HTTPTransport})),__webpack_require__.d(transports_namespaceObject,"HTTPSTransport",(function(){return https_HTTPSTransport}));var integrations_namespaceObject={};__webpack_require__.r(integrations_namespaceObject),__webpack_require__.d(integrations_namespaceObject,"FunctionToString",(function(){return FunctionToString})),__webpack_require__.d(integrations_namespaceObject,"InboundFilters",(function(){return inboundfilters_InboundFilters}));var handlers_namespaceObject={};__webpack_require__.r(handlers_namespaceObject),__webpack_require__.d(handlers_namespaceObject,"tracingHandler",(function(){return tracingHandler})),__webpack_require__.d(handlers_namespaceObject,"parseRequest",(function(){return parseRequest})),__webpack_require__.d(handlers_namespaceObject,"requestHandler",(function(){return requestHandler})),__webpack_require__.d(handlers_namespaceObject,"errorHandler",(function(){return errorHandler})),__webpack_require__.d(handlers_namespaceObject,"logAndExitProcess",(function(){return logAndExitProcess}));var esm_integrations_namespaceObject={};__webpack_require__.r(esm_integrations_namespaceObject),__webpack_require__.d(esm_integrations_namespaceObject,"Console",(function(){return console_Console})),__webpack_require__.d(esm_integrations_namespaceObject,"Http",(function(){return http_Http})),__webpack_require__.d(esm_integrations_namespaceObject,"OnUncaughtException",(function(){return onuncaughtexception_OnUncaughtException})),__webpack_require__.d(esm_integrations_namespaceObject,"OnUnhandledRejection",(function(){return onunhandledrejection_OnUnhandledRejection})),__webpack_require__.d(esm_integrations_namespaceObject,"LinkedErrors",(function(){return linkederrors_LinkedErrors})),__webpack_require__.d(esm_integrations_namespaceObject,"Modules",(function(){return modules_Modules}));var Severity,Status,tslib_es6=__webpack_require__(0);!function(Severity){Severity.Fatal="fatal",Severity.Error="error",Severity.Warning="warning",Severity.Log="log",Severity.Info="info",Severity.Debug="debug",Severity.Critical="critical"}(Severity||(Severity={})),function(Severity){Severity.fromString=function(level){switch(level){case"debug":return Severity.Debug;case"info":return Severity.Info;case"warn":case"warning":return Severity.Warning;case"error":return Severity.Error;case"fatal":return Severity.Fatal;case"critical":return Severity.Critical;case"log":default:return Severity.Log}}}(Severity||(Severity={})),function(Status){Status.Unknown="unknown",Status.Skipped="skipped",Status.Success="success",Status.RateLimit="rate_limit",Status.Invalid="invalid",Status.Failed="failed"}(Status||(Status={})),function(Status){Status.fromHttpCode=function(code){return code>=200&&code<300?Status.Success:429===code?Status.RateLimit:code>=400&&code<500?Status.Invalid:code>=500?Status.Failed:Status.Unknown}}(Status||(Status={}));var esm_scope=__webpack_require__(36),esm_hub=__webpack_require__(230);function callOnHub(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var hub=Object(esm_hub.b)();if(hub&&hub[method])return hub[method].apply(hub,tslib_es6.f(args));throw new Error("No hub defined or "+method+" was not found on the hub, please open a bug report.")}function captureException(exception){var syntheticException;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}return callOnHub("captureException",exception,{originalException:exception,syntheticException:syntheticException})}function captureMessage(message,level){var syntheticException;try{throw new Error(message)}catch(exception){syntheticException=exception}return callOnHub("captureMessage",message,level,{originalException:message,syntheticException:syntheticException})}function captureEvent(event){return callOnHub("captureEvent",event)}function configureScope(callback){callOnHub("configureScope",callback)}function addBreadcrumb(breadcrumb){callOnHub("addBreadcrumb",breadcrumb)}function setContext(name,context){callOnHub("setContext",name,context)}function setExtras(extras){callOnHub("setExtras",extras)}function setTags(tags){callOnHub("setTags",tags)}function setExtra(key,extra){callOnHub("setExtra",key,extra)}function setTag(key,value){callOnHub("setTag",key,value)}function setUser(user){callOnHub("setUser",user)}function withScope(callback){callOnHub("withScope",callback)}var setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(obj,proto){return obj.__proto__=proto,obj}:function(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj});var error_SentryError=function(_super){function SentryError(message){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.message=message,_this.name=_newTarget.prototype.constructor.name,setPrototypeOf(_this,_newTarget.prototype),_this}return tslib_es6.c(SentryError,_super),SentryError}(Error),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,dsn_Dsn=function(){function Dsn(from){"string"==typeof from?this._fromString(from):this._fromComponents(from),this._validate()}return Dsn.prototype.toString=function(withPassword){void 0===withPassword&&(withPassword=!1);var _a=this,host=_a.host,path=_a.path,pass=_a.pass,port=_a.port,projectId=_a.projectId;return _a.protocol+"://"+_a.user+(withPassword&&pass?":"+pass:"")+"@"+host+(port?":"+port:"")+"/"+(path?path+"/":path)+projectId},Dsn.prototype._fromString=function(str){var match=DSN_REGEX.exec(str);if(!match)throw new error_SentryError("Invalid Dsn");var _a=tslib_es6.e(match.slice(1),6),protocol=_a[0],user=_a[1],_b=_a[2],pass=void 0===_b?"":_b,host=_a[3],_c=_a[4],port=void 0===_c?"":_c,path="",projectId=_a[5],split=projectId.split("/");split.length>1&&(path=split.slice(0,-1).join("/"),projectId=split.pop()),this._fromComponents({host:host,pass:pass,path:path,projectId:projectId,port:port,protocol:protocol,user:user})},Dsn.prototype._fromComponents=function(components){this.protocol=components.protocol,this.user=components.user,this.pass=components.pass||"",this.host=components.host,this.port=components.port||"",this.path=components.path||"",this.projectId=components.projectId},Dsn.prototype._validate=function(){var _this=this;if(["protocol","user","host","projectId"].forEach((function(component){if(!_this[component])throw new error_SentryError("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new error_SentryError("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new error_SentryError("Invalid Dsn")},Dsn}(),logger=__webpack_require__(82),is=__webpack_require__(5),syncpromise=__webpack_require__(27),string=__webpack_require__(16),misc=__webpack_require__(2),Memo=function(){function Memo(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return Memo.prototype.memoize=function(obj){if(this._hasWeakSet)return!!this._inner.has(obj)||(this._inner.add(obj),!1);for(var i=0;i<this._inner.length;i++){if(this._inner[i]===obj)return!0}return this._inner.push(obj),!1},Memo.prototype.unmemoize=function(obj){if(this._hasWeakSet)this._inner.delete(obj);else for(var i=0;i<this._inner.length;i++)if(this._inner[i]===obj){this._inner.splice(i,1);break}},Memo}();function fill(source,name,replacement){if(name in source){var original=source[name],wrapped=replacement(original);if("function"==typeof wrapped)try{wrapped.prototype=wrapped.prototype||{},Object.defineProperties(wrapped,{__sentry_original__:{enumerable:!1,value:original}})}catch(_Oo){}source[name]=wrapped}}function getWalkSource(value){if(Object(is.b)(value)){var error=value,err={message:error.message,name:error.name,stack:error.stack};for(var i in error)Object.prototype.hasOwnProperty.call(error,i)&&(err[i]=error[i]);return err}if(Object(is.c)(value)){var event_1=value,source={};source.type=event_1.type;try{source.target=Object(is.a)(event_1.target)?Object(misc.i)(event_1.target):Object.prototype.toString.call(event_1.target)}catch(_oO){source.target="<unknown>"}try{source.currentTarget=Object(is.a)(event_1.currentTarget)?Object(misc.i)(event_1.currentTarget):Object.prototype.toString.call(event_1.currentTarget)}catch(_oO){source.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(is.d)(value,CustomEvent)&&(source.detail=event_1.detail),event_1)Object.prototype.hasOwnProperty.call(event_1,i)&&(source[i]=event_1);return source}return value}function jsonSize(value){return function(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))}function normalizeValue(value,key){return"domain"===key&&value&&"object"==typeof value&&value._events?"[Domain]":"domainEmitter"===key?"[DomainEmitter]":"undefined"!=typeof global&&value===global?"[Global]":"undefined"!=typeof window&&value===window?"[Window]":"undefined"!=typeof document&&value===document?"[Document]":Object(is.i)(value)?"[SyntheticEvent]":"number"==typeof value&&value!=value?"[NaN]":void 0===value?"[undefined]":"function"==typeof value?"[Function: "+Object(misc.g)(value)+"]":value}function walk(key,value,depth,memo){if(void 0===depth&&(depth=1/0),void 0===memo&&(memo=new Memo),0===depth)return function(value){var type=Object.prototype.toString.call(value);if("string"==typeof value)return value;if("[object Object]"===type)return"[Object]";if("[object Array]"===type)return"[Array]";var normalized=normalizeValue(value);return Object(is.f)(normalized)?normalized:type}(value);if(null!=value&&"function"==typeof value.toJSON)return value.toJSON();var normalized=normalizeValue(value,key);if(Object(is.f)(normalized))return normalized;var source=getWalkSource(value),acc=Array.isArray(value)?[]:{};if(memo.memoize(value))return"[Circular ~]";for(var innerKey in source)Object.prototype.hasOwnProperty.call(source,innerKey)&&(acc[innerKey]=walk(innerKey,source[innerKey],depth-1,memo));return memo.unmemoize(value),acc}function normalize(input,depth){try{return JSON.parse(JSON.stringify(input,(function(key,value){return walk(key,value,depth)})))}catch(_oO){return"**non-serializable**"}}function dropUndefinedKeys(val){var e_1,_a;if(Object(is.e)(val)){var obj=val,rv={};try{for(var _b=tslib_es6.g(Object.keys(obj)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;void 0!==obj[key]&&(rv[key]=dropUndefinedKeys(obj[key]))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return rv}return Array.isArray(val)?val.map(dropUndefinedKeys):val}var installedIntegrations=[];function setupIntegrations(options){var integrations={};return function(options){var defaultIntegrations=options.defaultIntegrations&&tslib_es6.f(options.defaultIntegrations)||[],userIntegrations=options.integrations,integrations=[];if(Array.isArray(userIntegrations)){var userIntegrationsNames_1=userIntegrations.map((function(i){return i.name})),pickedIntegrationsNames_1=[];defaultIntegrations.forEach((function(defaultIntegration){-1===userIntegrationsNames_1.indexOf(defaultIntegration.name)&&-1===pickedIntegrationsNames_1.indexOf(defaultIntegration.name)&&(integrations.push(defaultIntegration),pickedIntegrationsNames_1.push(defaultIntegration.name))})),userIntegrations.forEach((function(userIntegration){-1===pickedIntegrationsNames_1.indexOf(userIntegration.name)&&(integrations.push(userIntegration),pickedIntegrationsNames_1.push(userIntegration.name))}))}else"function"==typeof userIntegrations?(integrations=userIntegrations(defaultIntegrations),integrations=Array.isArray(integrations)?integrations:[integrations]):integrations=tslib_es6.f(defaultIntegrations);var integrationsNames=integrations.map((function(i){return i.name}));return-1!==integrationsNames.indexOf("Debug")&&integrations.push.apply(integrations,tslib_es6.f(integrations.splice(integrationsNames.indexOf("Debug"),1))),integrations}(options).forEach((function(integration){integrations[integration.name]=integration,function(integration){-1===installedIntegrations.indexOf(integration.name)&&(integration.setupOnce(esm_scope.b,esm_hub.b),installedIntegrations.push(integration.name),logger.a.log("Integration installed: "+integration.name))}(integration)})),integrations}var baseclient_BaseClient=function(){function BaseClient(backendClass,options){this._integrations={},this._processing=!1,this._backend=new backendClass(options),this._options=options,options.dsn&&(this._dsn=new dsn_Dsn(options.dsn)),this._isEnabled()&&(this._integrations=setupIntegrations(this._options))}return BaseClient.prototype.captureException=function(exception,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._getBackend().eventFromException(exception,hint).then((function(event){return _this._processEvent(event,hint,scope)})).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.captureMessage=function(message,level,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,(Object(is.f)(message)?this._getBackend().eventFromMessage(""+message,level,hint):this._getBackend().eventFromException(message,hint)).then((function(event){return _this._processEvent(event,hint,scope)})).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.captureEvent=function(event,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._processEvent(event,hint,scope).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.getDsn=function(){return this._dsn},BaseClient.prototype.getOptions=function(){return this._options},BaseClient.prototype.flush=function(timeout){var _this=this;return this._isClientProcessing(timeout).then((function(status){return clearInterval(status.interval),_this._getBackend().getTransport().close(timeout).then((function(transportFlushed){return status.ready&&transportFlushed}))}))},BaseClient.prototype.close=function(timeout){var _this=this;return this.flush(timeout).then((function(result){return _this.getOptions().enabled=!1,result}))},BaseClient.prototype.getIntegrations=function(){return this._integrations||{}},BaseClient.prototype.getIntegration=function(integration){try{return this._integrations[integration.id]||null}catch(_oO){return logger.a.warn("Cannot retrieve integration "+integration.id+" from the current Client"),null}},BaseClient.prototype._isClientProcessing=function(timeout){var _this=this;return new syncpromise.a((function(resolve){var ticked=0,interval=0;clearInterval(interval),interval=setInterval((function(){_this._processing?(ticked+=1,timeout&&ticked>=timeout&&resolve({interval:interval,ready:!1})):resolve({interval:interval,ready:!0})}),1)}))},BaseClient.prototype._getBackend=function(){return this._backend},BaseClient.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},BaseClient.prototype._prepareEvent=function(event,scope,hint){var _this=this,_a=this.getOptions(),environment=_a.environment,release=_a.release,dist=_a.dist,_b=_a.maxValueLength,maxValueLength=void 0===_b?250:_b,_c=_a.normalizeDepth,normalizeDepth=void 0===_c?3:_c,prepared=tslib_es6.a({},event);void 0===prepared.environment&&void 0!==environment&&(prepared.environment=environment),void 0===prepared.release&&void 0!==release&&(prepared.release=release),void 0===prepared.dist&&void 0!==dist&&(prepared.dist=dist),prepared.message&&(prepared.message=Object(string.c)(prepared.message,maxValueLength));var exception=prepared.exception&&prepared.exception.values&&prepared.exception.values[0];exception&&exception.value&&(exception.value=Object(string.c)(exception.value,maxValueLength));var request=prepared.request;request&&request.url&&(request.url=Object(string.c)(request.url,maxValueLength)),void 0===prepared.event_id&&(prepared.event_id=hint&&hint.event_id?hint.event_id:Object(misc.n)()),this._addIntegrations(prepared.sdk);var result=syncpromise.a.resolve(prepared);return scope&&(result=scope.applyToEvent(prepared,hint)),result.then((function(evt){return"number"==typeof normalizeDepth&&normalizeDepth>0?_this._normalizeEvent(evt,normalizeDepth):evt}))},BaseClient.prototype._normalizeEvent=function(event,depth){return event?tslib_es6.a({},event,event.breadcrumbs&&{breadcrumbs:event.breadcrumbs.map((function(b){return tslib_es6.a({},b,b.data&&{data:normalize(b.data,depth)})}))},event.user&&{user:normalize(event.user,depth)},event.contexts&&{contexts:normalize(event.contexts,depth)},event.extra&&{extra:normalize(event.extra,depth)}):null},BaseClient.prototype._addIntegrations=function(sdkInfo){var integrationsArray=Object.keys(this._integrations);sdkInfo&&integrationsArray.length>0&&(sdkInfo.integrations=integrationsArray)},BaseClient.prototype._processEvent=function(event,hint,scope){var _this=this,_a=this.getOptions(),beforeSend=_a.beforeSend,sampleRate=_a.sampleRate;return this._isEnabled()?"number"==typeof sampleRate&&Math.random()>sampleRate?syncpromise.a.reject("This event has been sampled, will not send event."):new syncpromise.a((function(resolve,reject){_this._prepareEvent(event,scope,hint).then((function(prepared){if(null!==prepared){var finalEvent=prepared;if(hint&&hint.data&&!0===hint.data.__sentry__||!beforeSend)return _this._getBackend().sendEvent(finalEvent),void resolve(finalEvent);var beforeSendResult=beforeSend(prepared,hint);if(void 0===beforeSendResult)logger.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(is.j)(beforeSendResult))_this._handleAsyncBeforeSend(beforeSendResult,resolve,reject);else{if(null===(finalEvent=beforeSendResult))return logger.a.log("`beforeSend` returned `null`, will not send event."),void resolve(null);_this._getBackend().sendEvent(finalEvent),resolve(finalEvent)}}else reject("An event processor returned null, will not send event.")})).then(null,(function(reason){_this.captureException(reason,{data:{__sentry__:!0},originalException:reason}),reject("Event processing pipeline threw an error, original event will not be sent. Details has been sent as a new event.\nReason: "+reason)}))})):syncpromise.a.reject("SDK not enabled, will not send event.")},BaseClient.prototype._handleAsyncBeforeSend=function(beforeSend,resolve,reject){var _this=this;beforeSend.then((function(processedEvent){null!==processedEvent?(_this._getBackend().sendEvent(processedEvent),resolve(processedEvent)):reject("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){reject("beforeSend rejected with "+e)}))},BaseClient}(),noop_NoopTransport=function(){function NoopTransport(){}return NoopTransport.prototype.sendEvent=function(_){return syncpromise.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Status.Skipped})},NoopTransport.prototype.close=function(_){return syncpromise.a.resolve(!0)},NoopTransport}(),basebackend_BaseBackend=function(){function BaseBackend(options){this._options=options,this._options.dsn||logger.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend.prototype._setupTransport=function(){return new noop_NoopTransport},BaseBackend.prototype.eventFromException=function(_exception,_hint){throw new error_SentryError("Backend has to implement `eventFromException` method")},BaseBackend.prototype.eventFromMessage=function(_message,_level,_hint){throw new error_SentryError("Backend has to implement `eventFromMessage` method")},BaseBackend.prototype.sendEvent=function(event){this._transport.sendEvent(event).then(null,(function(reason){logger.a.error("Error while sending event: "+reason)}))},BaseBackend.prototype.getTransport=function(){return this._transport},BaseBackend}();var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function splitPath(filename){var parts=splitPathRe.exec(filename);return parts?parts.slice(1):[]}function dirname(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."}var external_fs_=__webpack_require__(6),lru=__webpack_require__(80);var FILE_CONTENT_CACHE=new lru.LRUMap(100);function getFunction(frame){try{return frame.functionName||frame.typeName+"."+(frame.methodName||"<anonymous>")}catch(e){return"<anonymous>"}}var mainModule=(__webpack_require__.c[__webpack_require__.s]&&__webpack_require__.c[__webpack_require__.s].filename&&dirname(__webpack_require__.c[__webpack_require__.s].filename)||global.process.cwd())+"/";function getModule(filename,base){base||(base=mainModule);var ext,f,file=(ext=".js",f=splitPath(filename)[2],ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f),n=(filename=dirname(filename)).lastIndexOf("/node_modules/");if(n>-1)return filename.substr(n+14).replace(/\//g,".")+":"+file;if(0===(n=(filename+"/").lastIndexOf(base,0))){var moduleName=filename.substr(base.length).replace(/\//g,".");return moduleName&&(moduleName+=":"),moduleName+=file}return file}function extractStackFromError(error){var err,stack=(err=error).stack?err.stack.split("\n").slice(1).map((function(line){if(line.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:line,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var lineMatch=line.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(lineMatch){var object=null,method=null,functionName=null,typeName=null,methodName=null,isNative="native"===lineMatch[5];if(lineMatch[1]){var methodStart=(functionName=lineMatch[1]).lastIndexOf(".");if("."===functionName[methodStart-1]&&methodStart--,methodStart>0){object=functionName.substr(0,methodStart),method=functionName.substr(methodStart+1);var objectEnd=object.indexOf(".Module");objectEnd>0&&(functionName=functionName.substr(objectEnd+1),object=object.substr(0,objectEnd))}typeName=null}return method&&(typeName=object,methodName=method),"<anonymous>"===method&&(methodName=null,functionName=null),{columnNumber:parseInt(lineMatch[4],10)||null,fileName:lineMatch[2]||null,functionName:functionName,lineNumber:parseInt(lineMatch[3],10)||null,methodName:methodName,native:isNative,typeName:typeName}}})).filter((function(callSite){return!!callSite})):[];return stack||[]}function parseStack(stack,options){var filesToRead=[],linesOfContext=options&&void 0!==options.frameContextLines?options.frameContextLines:7,frames=stack.map((function(frame){var parsedFrame={colno:frame.columnNumber,filename:frame.fileName||"",function:getFunction(frame),lineno:frame.lineNumber},isInternal=frame.native||parsedFrame.filename&&!parsedFrame.filename.startsWith("/")&&!parsedFrame.filename.startsWith(".")&&1!==parsedFrame.filename.indexOf(":\\");return parsedFrame.in_app=!isInternal&&void 0!==parsedFrame.filename&&-1===parsedFrame.filename.indexOf("node_modules/"),parsedFrame.filename&&(parsedFrame.module=getModule(parsedFrame.filename),!isInternal&&linesOfContext>0&&filesToRead.push(parsedFrame.filename)),parsedFrame}));if(linesOfContext<=0)return syncpromise.a.resolve(frames);try{return function(filesToRead,frames,linesOfContext){return new syncpromise.a((function(resolve){return(filenames=filesToRead,0===filenames.length?syncpromise.a.resolve({}):new syncpromise.a((function(resolve){for(var sourceFiles={},count=0,_loop_1=function(i){var filename=filenames[i],cache=FILE_CONTENT_CACHE.get(filename);if(void 0!==cache)return null!==cache&&(sourceFiles[filename]=cache),++count===filenames.length&&resolve(sourceFiles),"continue";Object(external_fs_.readFile)(filename,(function(err,data){var content=err?null:data.toString();sourceFiles[filename]=content,FILE_CONTENT_CACHE.set(filename,content),++count===filenames.length&&resolve(sourceFiles)}))},i=0;i<filenames.length;i++)_loop_1(i)}))).then((function(sourceFiles){var result=frames.map((function(frame){if(frame.filename&&sourceFiles[frame.filename])try{var lines=sourceFiles[frame.filename].split("\n");Object(misc.a)(lines,frame,linesOfContext)}catch(e){}return frame}));resolve(result)}));var filenames}))}(filesToRead,frames,linesOfContext)}catch(_){return syncpromise.a.resolve(frames)}}function getExceptionFromError(error,options){var name=error.name||error.constructor.name,stack=extractStackFromError(error);return new syncpromise.a((function(resolve){return parseStack(stack,options).then((function(frames){var result={stacktrace:{frames:prepareFramesForEvent(frames)},type:name,value:error.message};resolve(result)}))}))}function prepareFramesForEvent(stack){if(!stack||!stack.length)return[];var localStack=stack,firstFrameFunction=localStack[0].function||"";return-1===firstFrameFunction.indexOf("captureMessage")&&-1===firstFrameFunction.indexOf("captureException")||(localStack=localStack.slice(1)),localStack.reverse()}var originalFunctionToString,api_API=function(){function API(dsn){this.dsn=dsn,this._dsnObject=new dsn_Dsn(dsn)}return API.prototype.getDsn=function(){return this._dsnObject},API.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var object,auth={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+(object=auth,Object.keys(object).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(object[key])})).join("&"))},API.prototype._getBaseUrl=function(){var dsn=this._dsnObject,protocol=dsn.protocol?dsn.protocol+":":"",port=dsn.port?":"+dsn.port:"";return protocol+"//"+dsn.host+port},API.prototype.getStoreEndpointPath=function(){var dsn=this._dsnObject;return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"},API.prototype.getRequestHeaders=function(clientName,clientVersion){var dsn=this._dsnObject,header=["Sentry sentry_version=7"];return header.push("sentry_timestamp="+Object(misc.m)()),header.push("sentry_client="+clientName+"/"+clientVersion),header.push("sentry_key="+dsn.user),dsn.pass&&header.push("sentry_secret="+dsn.pass),{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}},API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this._dsnObject,endpoint=this._getBaseUrl()+(dsn.path?"/"+dsn.path:"")+"/api/embed/error-page/",encodedOptions=[];for(var key in encodedOptions.push("dsn="+dsn.toString()),dialogOptions)if("user"===key){if(!dialogOptions.user)continue;dialogOptions.user.name&&encodedOptions.push("name="+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email="+encodeURIComponent(dialogOptions.user.email))}else encodedOptions.push(encodeURIComponent(key)+"="+encodeURIComponent(dialogOptions[key]));return encodedOptions.length?endpoint+"?"+encodedOptions.join("&"):endpoint},API}(),promisebuffer_PromiseBuffer=function(){function PromiseBuffer(_limit){this._limit=_limit,this._buffer=[]}return PromiseBuffer.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},PromiseBuffer.prototype.add=function(task){var _this=this;return this.isReady()?(-1===this._buffer.indexOf(task)&&this._buffer.push(task),task.then((function(){return _this.remove(task)})).then(null,(function(){return _this.remove(task).then(null,(function(){}))})),task):syncpromise.a.reject(new error_SentryError("Not adding Promise due to buffer limit reached."))},PromiseBuffer.prototype.remove=function(task){return this._buffer.splice(this._buffer.indexOf(task),1)[0]},PromiseBuffer.prototype.length=function(){return this._buffer.length},PromiseBuffer.prototype.drain=function(timeout){var _this=this;return new syncpromise.a((function(resolve){var capturedSetTimeout=setTimeout((function(){timeout&&timeout>0&&resolve(!1)}),timeout);syncpromise.a.all(_this._buffer).then((function(){clearTimeout(capturedSetTimeout),resolve(!0)})).then(null,(function(){resolve(!0)}))}))},PromiseBuffer}(),SDK_NAME="sentry.javascript.node",SDK_VERSION="5.12.4",base_BaseTransport=function(){function BaseTransport(options){this.options=options,this._buffer=new promisebuffer_PromiseBuffer(30),this._disabledUntil=new Date(Date.now()),this._api=new api_API(options.dsn)}return BaseTransport.prototype._getRequestOptions=function(){var headers=tslib_es6.a({},this._api.getRequestHeaders(SDK_NAME,SDK_VERSION),this.options.headers),dsn=this._api.getDsn(),options={agent:this.client,headers:headers,hostname:dsn.host,method:"POST",path:this._api.getStoreEndpointPath(),port:dsn.port,protocol:dsn.protocol+":"};return this.options.caCerts&&(options.ca=external_fs_.readFileSync(this.options.caCerts)),options},BaseTransport.prototype._sendWithModule=function(httpModule,event){return tslib_es6.b(this,void 0,void 0,(function(){var _this=this;return tslib_es6.d(this,(function(_a){return new Date(Date.now())<this._disabledUntil?[2,Promise.reject(new error_SentryError("Transport locked till "+this._disabledUntil+" due to too many requests."))]:this._buffer.isReady()?[2,this._buffer.add(new Promise((function(resolve,reject){var req=httpModule.request(_this._getRequestOptions(),(function(res){var statusCode=res.statusCode||500,status=Status.fromHttpCode(statusCode);if(res.setEncoding("utf8"),status===Status.Success)resolve({status:status});else{if(status===Status.RateLimit){var now=Date.now(),header=res.headers?res.headers["Retry-After"]:"";header=Array.isArray(header)?header[0]:header,_this._disabledUntil=new Date(now+Object(misc.k)(now,header)),logger.a.warn("Too many requests, backing off till: "+_this._disabledUntil)}var rejectionMessage="HTTP Error ("+statusCode+")";res.headers&&res.headers["x-sentry-error"]&&(rejectionMessage+=": "+res.headers["x-sentry-error"]),reject(new error_SentryError(rejectionMessage))}res.on("data",(function(){})),res.on("end",(function(){}))}));req.on("error",reject),req.end(JSON.stringify(event))})))]:[2,Promise.reject(new error_SentryError("Not adding Promise due to buffer limit reached."))]}))}))},BaseTransport.prototype.sendEvent=function(_){throw new error_SentryError("Transport Class has to implement `sendEvent` method.")},BaseTransport.prototype.close=function(timeout){return this._buffer.drain(timeout)},BaseTransport}(),external_http_=__webpack_require__(33),http_HTTPTransport=function(_super){function HTTPTransport(options){var _this=_super.call(this,options)||this;_this.options=options;var proxy=options.httpProxy||process.env.http_proxy;return _this.module=external_http_,_this.client=proxy?new(__webpack_require__(66))(proxy):new external_http_.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),_this}return tslib_es6.c(HTTPTransport,_super),HTTPTransport.prototype.sendEvent=function(event){if(!this.module)throw new error_SentryError("No module available in HTTPTransport");return this._sendWithModule(this.module,event)},HTTPTransport}(base_BaseTransport),external_https_=__webpack_require__(34),https_HTTPSTransport=function(_super){function HTTPSTransport(options){var _this=_super.call(this,options)||this;_this.options=options;var proxy=options.httpsProxy||options.httpProxy||process.env.https_proxy||process.env.http_proxy;return _this.module=external_https_,_this.client=proxy?new(__webpack_require__(66))(proxy):new external_https_.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),_this}return tslib_es6.c(HTTPSTransport,_super),HTTPSTransport.prototype.sendEvent=function(event){if(!this.module)throw new error_SentryError("No module available in HTTPSTransport");return this._sendWithModule(this.module,event)},HTTPSTransport}(base_BaseTransport),backend_NodeBackend=function(_super){function NodeBackend(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6.c(NodeBackend,_super),NodeBackend.prototype._setupTransport=function(){if(!this._options.dsn)return _super.prototype._setupTransport.call(this);var dsn=new dsn_Dsn(this._options.dsn),transportOptions=tslib_es6.a({},this._options.transportOptions,this._options.httpProxy&&{httpProxy:this._options.httpProxy},this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy},this._options.caCerts&&{caCerts:this._options.caCerts},{dsn:this._options.dsn});return this._options.transport?new this._options.transport(transportOptions):"http"===dsn.protocol?new http_HTTPTransport(transportOptions):new https_HTTPSTransport(transportOptions)},NodeBackend.prototype.eventFromException=function(exception,hint){var _this=this,ex=exception,mechanism={handled:!0,type:"generic"};if(!Object(is.b)(exception)){if(Object(is.e)(exception)){var message="Non-Error exception captured with keys: "+function(exception,maxLength){void 0===maxLength&&(maxLength=40);var keys=Object.keys(getWalkSource(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return Object(string.c)(keys[0],maxLength);for(var includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:Object(string.c)(serialized,maxLength)}return""}(exception);Object(esm_hub.b)().configureScope((function(scope){scope.setExtra("__serialized__",function normalizeToSize(object,depth,maxSize){void 0===depth&&(depth=3),void 0===maxSize&&(maxSize=102400);var serialized=normalize(object,depth);return jsonSize(serialized)>maxSize?normalizeToSize(object,depth-1,maxSize):serialized}(exception))})),(ex=hint&&hint.syntheticException||new Error(message)).message=message}else ex=hint&&hint.syntheticException||new Error(exception);mechanism.synthetic=!0}return new syncpromise.a((function(resolve,reject){return(error=ex,options=_this._options,new syncpromise.a((function(resolve){return getExceptionFromError(error,options).then((function(exception){resolve({exception:{values:[exception]}})}))}))).then((function(event){Object(misc.c)(event,void 0,void 0),Object(misc.b)(event,mechanism),resolve(tslib_es6.a({},event,{event_id:hint&&hint.event_id}))})).then(null,reject);var error,options}))},NodeBackend.prototype.eventFromMessage=function(message,level,hint){var _this=this;void 0===level&&(level=Severity.Info);var event={event_id:hint&&hint.event_id,level:level,message:message};return new syncpromise.a((function(resolve){_this._options.attachStacktrace&&hint&&hint.syntheticException?parseStack(hint.syntheticException?extractStackFromError(hint.syntheticException):[],_this._options).then((function(frames){event.stacktrace={frames:prepareFramesForEvent(frames)},resolve(event)})).then(null,(function(){resolve(event)})):resolve(event)}))},NodeBackend}(basebackend_BaseBackend),client_NodeClient=function(_super){function NodeClient(options){return _super.call(this,backend_NodeBackend,options)||this}return tslib_es6.c(NodeClient,_super),NodeClient.prototype._prepareEvent=function(event,scope,hint){return event.platform=event.platform||"node",event.sdk=tslib_es6.a({},event.sdk,{name:SDK_NAME,packages:tslib_es6.f(event.sdk&&event.sdk.packages||[],[{name:"npm:@sentry/node",version:SDK_VERSION}]),version:SDK_VERSION}),this.getOptions().serverName&&(event.server_name=this.getOptions().serverName),_super.prototype._prepareEvent.call(this,event,scope,hint)},NodeClient}(baseclient_BaseClient),FunctionToString=function(){function FunctionToString(){this.name=FunctionToString.id}return FunctionToString.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=this.__sentry_original__||this;return originalFunctionToString.apply(context,args)}},FunctionToString.id="FunctionToString",FunctionToString}(),DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],inboundfilters_InboundFilters=function(){function InboundFilters(_options){void 0===_options&&(_options={}),this._options=_options,this.name=InboundFilters.id}return InboundFilters.prototype.setupOnce=function(){Object(esm_scope.b)((function(event){var hub=Object(esm_hub.b)();if(!hub)return event;var self=hub.getIntegration(InboundFilters);if(self){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=self._mergeOptions(clientOptions);if(self._shouldDropEvent(event,options))return null}return event}))},InboundFilters.prototype._shouldDropEvent=function(event,options){return this._isSentryError(event,options)?(logger.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(misc.f)(event)),!0):this._isIgnoredError(event,options)?(logger.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(misc.f)(event)),!0):this._isBlacklistedUrl(event,options)?(logger.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(misc.f)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0):!this._isWhitelistedUrl(event,options)&&(logger.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(misc.f)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0)},InboundFilters.prototype._isSentryError=function(event,options){if(void 0===options&&(options={}),!options.ignoreInternal)return!1;try{return event&&event.exception&&event.exception.values&&event.exception.values[0]&&"SentryError"===event.exception.values[0].type||!1}catch(_oO){return!1}},InboundFilters.prototype._isIgnoredError=function(event,options){return void 0===options&&(options={}),!(!options.ignoreErrors||!options.ignoreErrors.length)&&this._getPossibleEventMessages(event).some((function(message){return options.ignoreErrors.some((function(pattern){return Object(string.a)(message,pattern)}))}))},InboundFilters.prototype._isBlacklistedUrl=function(event,options){if(void 0===options&&(options={}),!options.blacklistUrls||!options.blacklistUrls.length)return!1;var url=this._getEventFilterUrl(event);return!!url&&options.blacklistUrls.some((function(pattern){return Object(string.a)(url,pattern)}))},InboundFilters.prototype._isWhitelistedUrl=function(event,options){if(void 0===options&&(options={}),!options.whitelistUrls||!options.whitelistUrls.length)return!0;var url=this._getEventFilterUrl(event);return!url||options.whitelistUrls.some((function(pattern){return Object(string.a)(url,pattern)}))},InboundFilters.prototype._mergeOptions=function(clientOptions){return void 0===clientOptions&&(clientOptions={}),{blacklistUrls:tslib_es6.f(this._options.blacklistUrls||[],clientOptions.blacklistUrls||[]),ignoreErrors:tslib_es6.f(this._options.ignoreErrors||[],clientOptions.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:tslib_es6.f(this._options.whitelistUrls||[],clientOptions.whitelistUrls||[])}},InboundFilters.prototype._getPossibleEventMessages=function(event){if(event.message)return[event.message];if(event.exception)try{var _a=event.exception.values&&event.exception.values[0]||{},_b=_a.type,type=void 0===_b?"":_b,_c=_a.value,value=void 0===_c?"":_c;return[""+value,type+": "+value]}catch(oO){return logger.a.error("Cannot extract message for event "+Object(misc.f)(event)),[]}return[]},InboundFilters.prototype._getEventFilterUrl=function(event){try{if(event.stacktrace){var frames_1=event.stacktrace.frames;return frames_1&&frames_1[frames_1.length-1].filename||null}if(event.exception){var frames_2=event.exception.values&&event.exception.values[0].stacktrace&&event.exception.values[0].stacktrace.frames;return frames_2&&frames_2[frames_2.length-1].filename||null}return null}catch(oO){return logger.a.error("Cannot extract url for event "+Object(misc.f)(event)),null}},InboundFilters.id="InboundFilters",InboundFilters}();var external_domain_=__webpack_require__(35),external_util_=__webpack_require__(14),console_Console=function(){function Console(){this.name=Console.id}return Console.prototype.setupOnce=function(){var e_1,_a,consoleModule=__webpack_require__(163);try{for(var _b=tslib_es6.g(["debug","info","warn","error","log"]),_c=_b.next();!_c.done;_c=_b.next()){var level=_c.value;fill(consoleModule,level,createConsoleWrapper(level))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Console.id="Console",Console}();function createConsoleWrapper(level){return function(originalConsoleMethod){var sentryLevel;switch(level){case"debug":sentryLevel=Severity.Debug;break;case"error":sentryLevel=Severity.Error;break;case"info":sentryLevel=Severity.Info;break;case"warn":sentryLevel=Severity.Warning;break;default:sentryLevel=Severity.Log}return function(){Object(esm_hub.b)().getIntegration(console_Console)&&Object(esm_hub.b)().addBreadcrumb({category:"console",level:sentryLevel,message:external_util_.format.apply(void 0,arguments)},{input:tslib_es6.f(arguments),level:level}),originalConsoleMethod.apply(this,arguments)}}}var SpanStatus,NODE_VERSION=Object(misc.l)(process.versions.node),http_Http=function(){function Http(options){void 0===options&&(options={}),this.name=Http.id,this._breadcrumbs=void 0===options.breadcrumbs||options.breadcrumbs,this._tracing=void 0!==options.tracing&&options.tracing}return Http.prototype.setupOnce=function(){if(this._breadcrumbs||this._tracing){var breadcrumbsEnabled,tracingEnabled,handlerWrapper=(breadcrumbsEnabled=this._breadcrumbs,tracingEnabled=this._tracing,function(originalHandler){return function(options){var span,requestUrl=extractUrl(options);return isSentryRequest(requestUrl)?originalHandler.apply(this,arguments):(tracingEnabled&&(span=Object(esm_hub.b)().startSpan({description:("string"!=typeof options&&options.method?options.method:"GET")+"|"+requestUrl,op:"request"})),originalHandler.apply(this,arguments).once("response",(function(res){breadcrumbsEnabled&&addRequestBreadcrumb("response",requestUrl,this,res),tracingEnabled&&span&&(span.setHttpStatus(res.statusCode),span.finish())})).once("error",(function(){breadcrumbsEnabled&&addRequestBreadcrumb("error",requestUrl,this),tracingEnabled&&span&&(span.setHttpStatus(500),span.finish())})))}}),httpModule=__webpack_require__(33);if(fill(httpModule,"get",handlerWrapper),fill(httpModule,"request",handlerWrapper),NODE_VERSION.major&&NODE_VERSION.major>8){var httpsModule=__webpack_require__(34);fill(httpsModule,"get",handlerWrapper),fill(httpsModule,"request",handlerWrapper)}}},Http.id="Http",Http}();function addRequestBreadcrumb(event,url,req,res){Object(esm_hub.b)().getIntegration(http_Http)&&Object(esm_hub.b)().addBreadcrumb({category:"http",data:{method:req.method,status_code:res&&res.statusCode,url:url},type:"http"},{event:event,request:req,response:res})}function extractUrl(options){return"string"==typeof options?options:(options.protocol||"")+"//"+(options.hostname||options.host||"")+(options.port&&80!==options.port&&443!==options.port?":"+options.port:"")+(options.path||"/")}function isSentryRequest(url){var client=Object(esm_hub.b)().getClient();if(!url||!client)return!1;var dsn=client.getDsn();return!!dsn&&-1!==url.indexOf(dsn.host)}!function(SpanStatus){SpanStatus.Ok="ok",SpanStatus.DeadlineExceeded="deadline_exceeded",SpanStatus.Unauthenticated="unauthenticated",SpanStatus.PermissionDenied="permission_denied",SpanStatus.NotFound="not_found",SpanStatus.ResourceExhausted="resource_exhausted",SpanStatus.InvalidArgument="invalid_argument",SpanStatus.Unimplemented="unimplemented",SpanStatus.Unavailable="unavailable",SpanStatus.InternalError="internal_error",SpanStatus.UnknownError="unknown_error",SpanStatus.Cancelled="cancelled",SpanStatus.AlreadyExists="already_exists",SpanStatus.FailedPrecondition="failed_precondition",SpanStatus.Aborted="aborted",SpanStatus.OutOfRange="out_of_range",SpanStatus.DataLoss="data_loss"}(SpanStatus||(SpanStatus={})),function(SpanStatus){SpanStatus.fromHttpCode=function(httpStatus){if(httpStatus<400)return SpanStatus.Ok;if(httpStatus>=400&&httpStatus<500)switch(httpStatus){case 401:return SpanStatus.Unauthenticated;case 403:return SpanStatus.PermissionDenied;case 404:return SpanStatus.NotFound;case 409:return SpanStatus.AlreadyExists;case 413:return SpanStatus.FailedPrecondition;case 429:return SpanStatus.ResourceExhausted;default:return SpanStatus.InvalidArgument}if(httpStatus>=500&&httpStatus<600)switch(httpStatus){case 501:return SpanStatus.Unimplemented;case 503:return SpanStatus.Unavailable;case 504:return SpanStatus.DeadlineExceeded;default:return SpanStatus.InternalError}return SpanStatus.UnknownError}}(SpanStatus||(SpanStatus={}));var TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),SpanRecorder=function(){function SpanRecorder(maxlen){this._openSpanCount=0,this.finishedSpans=[],this._maxlen=maxlen}return SpanRecorder.prototype.startSpan=function(span){this._openSpanCount+=1,this._openSpanCount>this._maxlen&&(span.spanRecorder=void 0)},SpanRecorder.prototype.finishSpan=function(span){this.finishedSpans.push(span)},SpanRecorder}(),span_Span=function(){function Span(spanContext,hub){if(this._hub=Object(esm_hub.b)(),this._traceId=Object(misc.n)(),this._spanId=Object(misc.n)().substring(16),this.startTimestamp=Object(misc.m)(),this.tags={},this.data={},Object(is.d)(hub,esm_hub.a)&&(this._hub=hub),!spanContext)return this;spanContext.traceId&&(this._traceId=spanContext.traceId),spanContext.spanId&&(this._spanId=spanContext.spanId),spanContext.parentSpanId&&(this._parentSpanId=spanContext.parentSpanId),"sampled"in spanContext&&(this.sampled=spanContext.sampled),spanContext.transaction&&(this.transaction=spanContext.transaction),spanContext.op&&(this.op=spanContext.op),spanContext.description&&(this.description=spanContext.description),spanContext.data&&(this.data=spanContext.data),spanContext.tags&&(this.tags=spanContext.tags)}return Span.prototype.initFinishedSpans=function(maxlen){void 0===maxlen&&(maxlen=1e3),this.spanRecorder||(this.spanRecorder=new SpanRecorder(maxlen)),this.spanRecorder.startSpan(this)},Span.prototype.child=function(spanContext){var span=new Span(tslib_es6.a({},spanContext,{parentSpanId:this._spanId,sampled:this.sampled,traceId:this._traceId}));return span.spanRecorder=this.spanRecorder,span},Span.fromTraceparent=function(traceparent,spanContext){var matches=traceparent.match(TRACEPARENT_REGEXP);if(matches){var sampled=void 0;return"1"===matches[3]?sampled=!0:"0"===matches[3]&&(sampled=!1),new Span(tslib_es6.a({},spanContext,{parentSpanId:matches[2],sampled:sampled,traceId:matches[1]}))}},Span.prototype.setTag=function(key,value){var _a;return this.tags=tslib_es6.a({},this.tags,((_a={})[key]=value,_a)),this},Span.prototype.setData=function(key,value){var _a;return this.data=tslib_es6.a({},this.data,((_a={})[key]=value,_a)),this},Span.prototype.setStatus=function(value){return this.setTag("status",value),this},Span.prototype.setHttpStatus=function(httpStatus){this.setTag("http.status_code",String(httpStatus));var spanStatus=SpanStatus.fromHttpCode(httpStatus);return spanStatus!==SpanStatus.UnknownError&&this.setStatus(spanStatus),this},Span.prototype.isSuccess=function(){return this.tags.status===SpanStatus.Ok},Span.prototype.finish=function(useLastSpanTimestamp){var _this=this;if(void 0===useLastSpanTimestamp&&(useLastSpanTimestamp=!1),void 0===this.timestamp&&(this.timestamp=Object(misc.m)(),void 0!==this.spanRecorder&&(this.spanRecorder.finishSpan(this),void 0!==this.transaction))){if(void 0!==this.sampled){var finishedSpans=this.spanRecorder?this.spanRecorder.finishedSpans.filter((function(s){return s!==_this})):[];return useLastSpanTimestamp&&finishedSpans.length>0&&(this.timestamp=finishedSpans[finishedSpans.length-1].timestamp),this._hub.captureEvent({contexts:{trace:this.getTraceContext()},spans:finishedSpans,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.timestamp,transaction:this.transaction,type:"transaction"})}logger.a.warn("Discarding transaction Span without sampling decision")}},Span.prototype.toTraceparent=function(){var sampledString="";return void 0!==this.sampled&&(sampledString=this.sampled?"-1":"-0"),this._traceId+"-"+this._spanId+sampledString},Span.prototype.getTraceContext=function(){return dropUndefinedKeys({data:this.data,description:this.description,op:this.op,parent_span_id:this._parentSpanId,span_id:this._spanId,status:this.tags.status,tags:this.tags,trace_id:this._traceId})},Span.prototype.toJSON=function(){return dropUndefinedKeys({data:this.data,description:this.description,op:this.op,parent_span_id:this._parentSpanId,sampled:this.sampled,span_id:this._spanId,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.timestamp,trace_id:this._traceId,transaction:this.transaction})},Span}();var cookie=__webpack_require__(81),external_os_=__webpack_require__(13),external_url_=__webpack_require__(32);function tracingHandler(){return function(req,res,next){var reqMethod=(req.method||"").toUpperCase(),reqUrl=req.url,hub=Object(esm_hub.b)(),transaction=hub.startSpan({transaction:reqMethod+"|"+reqUrl});hub.configureScope((function(scope){scope.setSpan(transaction)})),res.once("finish",(function(){transaction.setHttpStatus(res.statusCode),transaction.finish()})),next()}}var DEFAULT_REQUEST_KEYS=["cookies","data","headers","method","query_string","url"];var DEFAULT_USER_KEYS=["id","username","email"];function parseRequest(event,req,options){if((options=tslib_es6.a({request:!0,serverName:!0,transaction:!0,user:!0,version:!0},options)).version&&(event.extra=tslib_es6.a({},event.extra,{node:global.process.version})),options.request&&(event.request=tslib_es6.a({},event.request,function(req,keys){var request={},attributes=Array.isArray(keys)?keys:DEFAULT_REQUEST_KEYS,headers=req.headers||req.header||{},method=req.method,host=req.hostname||req.host||headers.host||"<no host>",protocol="https"===req.protocol||req.secure||(req.socket||{}).encrypted?"https":"http",originalUrl=req.originalUrl||req.url,absoluteUrl=protocol+"://"+host+originalUrl;return attributes.forEach((function(key){switch(key){case"headers":request.headers=headers;break;case"method":request.method=method;break;case"url":request.url=absoluteUrl;break;case"cookies":request.cookies=cookie.parse(headers.cookie||"");break;case"query_string":request.query_string=external_url_.parse(originalUrl||"",!1).query;break;case"data":var data=req.body;"GET"!==method&&"HEAD"!==method||void 0===data&&(data="<unavailable>"),data&&!Object(is.h)(data)&&(data=JSON.stringify(normalize(data))),request.data=data;break;default:({}).hasOwnProperty.call(req,key)&&(request[key]=req[key])}})),request}(req,options.request))),options.serverName&&(event.server_name=global.process.env.SENTRY_NAME||external_os_.hostname()),options.user&&req.user&&(event.user=tslib_es6.a({},event.user,function(req,keys){var user={};(Array.isArray(keys)?keys:DEFAULT_USER_KEYS).forEach((function(key){req.user&&key in req.user&&(user[key]=req.user[key])}));var ip=req.ip||req.connection&&req.connection.remoteAddress;return ip&&(user.ip_address=ip),user}(req,options.user))),options.transaction&&!event.transaction){var transaction=function(req,type){try{var request=req;switch(type){case"path":return request.route.path;case"handler":return request.route.stack[0].name;case"methodPath":default:return request.method.toUpperCase()+"|"+request.route.path}}catch(_oO){return}}(req,options.transaction);transaction&&(event.transaction=transaction)}return event}function requestHandler(options){return function(req,res,next){if(options&&options.flushTimeout&&options.flushTimeout>0){var _end_1=res.end;res.end=function(chunk,encoding,cb){var _this=this;flush(options.flushTimeout).then((function(){_end_1.call(_this,chunk,encoding,cb)})).then(null,(function(e){logger.a.error(e)}))}}var local=external_domain_.create();local.add(req),local.add(res),local.on("error",next),local.run((function(){Object(esm_hub.b)().configureScope((function(scope){return scope.addEventProcessor((function(event){return parseRequest(event,req,options)}))})),next()}))}}function defaultShouldHandleError(error){return function(error){var statusCode=error.status||error.statusCode||error.status_code||error.output&&error.output.statusCode;return statusCode?parseInt(statusCode,10):500}(error)>=500}function errorHandler(options){return function(error,req,res,next){(options&&options.shouldHandleError||defaultShouldHandleError)(error)?withScope((function(scope){if(req.headers&&Object(is.h)(req.headers["sentry-trace"])){var span=span_Span.fromTraceparent(req.headers["sentry-trace"]);scope.setSpan(span)}var eventId=captureException(error);res.sentry=eventId,next(error)})):next(error)}}function logAndExitProcess(error){console.error(error&&error.stack?error.stack:error);var client=Object(esm_hub.b)().getClient();if(void 0===client)return logger.a.warn("No NodeClient was defined, we are exiting the process now."),void global.process.exit(1);var options=client.getOptions(),timeout=options&&options.shutdownTimeout&&options.shutdownTimeout>0&&options.shutdownTimeout||2e3;client.close(timeout).then((function(result){result||logger.a.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)})).then(null,(function(e){console.error(e)}))}var moduleCache,onuncaughtexception_OnUncaughtException=function(){function OnUncaughtException(_options){void 0===_options&&(_options={}),this._options=_options,this.name=OnUncaughtException.id,this.handler=this._makeErrorHandler()}return OnUncaughtException.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},OnUncaughtException.prototype._makeErrorHandler=function(){var firstError,_this=this,caughtFirstError=!1,caughtSecondError=!1,calledFatalError=!1;return function(error){var onFatalError=logAndExitProcess,client=Object(esm_hub.b)().getClient();if(_this._options.onFatalError?onFatalError=_this._options.onFatalError:client&&client.getOptions().onFatalError&&(onFatalError=client.getOptions().onFatalError),caughtFirstError)calledFatalError?(logger.a.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),logAndExitProcess(error)):caughtSecondError||(caughtSecondError=!0,setTimeout((function(){calledFatalError||(calledFatalError=!0,onFatalError(firstError,error))}),2e3));else{var hub_1=Object(esm_hub.b)();firstError=error,caughtFirstError=!0,hub_1.getIntegration(OnUncaughtException)?hub_1.withScope((function(scope){scope.setLevel(Severity.Fatal),hub_1.captureException(error,{originalException:error}),calledFatalError||(calledFatalError=!0,onFatalError(error))})):calledFatalError||(calledFatalError=!0,onFatalError(error))}}},OnUncaughtException.id="OnUncaughtException",OnUncaughtException}(),onunhandledrejection_OnUnhandledRejection=function(){function OnUnhandledRejection(_options){void 0===_options&&(_options={mode:"warn"}),this._options=_options,this.name=OnUnhandledRejection.id}return OnUnhandledRejection.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},OnUnhandledRejection.prototype.sendUnhandledPromise=function(reason,promise){var hub=Object(esm_hub.b)();if(hub.getIntegration(OnUnhandledRejection)){var context=promise.domain&&promise.domain.sentryContext||{};hub.withScope((function(scope){scope.setExtra("unhandledPromiseRejection",!0),context.user&&scope.setUser(context.user),context.tags&&scope.setTags(context.tags),context.extra&&scope.setExtras(context.extra),hub.captureException(reason,{originalException:promise})})),this._handleRejection(reason)}else this._handleRejection(reason)},OnUnhandledRejection.prototype._handleRejection=function(reason){var rejectionWarning="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===this._options.mode?Object(misc.d)((function(){console.warn(rejectionWarning),console.error(reason&&reason.stack?reason.stack:reason)})):"strict"===this._options.mode&&(Object(misc.d)((function(){console.warn(rejectionWarning)})),logAndExitProcess(reason))},OnUnhandledRejection.id="OnUnhandledRejection",OnUnhandledRejection}(),linkederrors_LinkedErrors=function(){function LinkedErrors(options){void 0===options&&(options={}),this.name=LinkedErrors.id,this._key=options.key||"cause",this._limit=options.limit||5}return LinkedErrors.prototype.setupOnce=function(){Object(esm_scope.b)((function(event,hint){var self=Object(esm_hub.b)().getIntegration(LinkedErrors);return self?self.handler(event,hint):event}))},LinkedErrors.prototype.handler=function(event,hint){var _this=this;return event.exception&&event.exception.values&&hint&&Object(is.d)(hint.originalException,Error)?new syncpromise.a((function(resolve){_this.walkErrorTree(hint.originalException,_this._key).then((function(linkedErrors){event&&event.exception&&event.exception.values&&(event.exception.values=tslib_es6.f(linkedErrors,event.exception.values)),resolve(event)})).then(null,(function(){resolve(event)}))})):syncpromise.a.resolve(event)},LinkedErrors.prototype.walkErrorTree=function(error,key,stack){var _this=this;return void 0===stack&&(stack=[]),!Object(is.d)(error[key],Error)||stack.length+1>=this._limit?syncpromise.a.resolve(stack):new syncpromise.a((function(resolve,reject){getExceptionFromError(error[key]).then((function(exception){_this.walkErrorTree(error[key],key,tslib_es6.f([exception],stack)).then(resolve).then(null,(function(){reject()}))})).then(null,(function(){reject()}))}))},LinkedErrors.id="LinkedErrors",LinkedErrors}(),external_path_=__webpack_require__(8);var modules_Modules=function(){function Modules(){this.name=Modules.id}return Modules.prototype.setupOnce=function(addGlobalEventProcessor,getCurrentHub){var _this=this;addGlobalEventProcessor((function(event){return getCurrentHub().getIntegration(Modules)?tslib_es6.a({},event,{modules:_this._getModules()}):event}))},Modules.prototype._getModules=function(){var mainPaths,paths,infos,seen;return moduleCache||(mainPaths=__webpack_require__.c[__webpack_require__.s]&&__webpack_require__.c[__webpack_require__.s].paths||[],paths=__webpack_require__.c?Object.keys(__webpack_require__.c):[],infos={},seen={},paths.forEach((function(path){var dir=path,updir=function(){var orig=dir;if((dir=Object(external_path_.dirname)(orig))&&orig!==dir&&!seen[orig]){if(mainPaths.indexOf(dir)<0)return updir();var pkgfile=Object(external_path_.join)(orig,"package.json");if(seen[orig]=!0,!Object(external_fs_.existsSync)(pkgfile))return updir();try{var info=JSON.parse(Object(external_fs_.readFileSync)(pkgfile,"utf8"));infos[info.name]=info.version}catch(_oO){}}};updir()})),moduleCache=infos),moduleCache},Modules.id="Modules",Modules}(),sdk_defaultIntegrations=[new integrations_namespaceObject.InboundFilters,new integrations_namespaceObject.FunctionToString,new console_Console,new http_Http,new onuncaughtexception_OnUncaughtException,new onunhandledrejection_OnUnhandledRejection,new linkederrors_LinkedErrors];function init(options){if(void 0===options&&(options={}),void 0===options.defaultIntegrations&&(options.defaultIntegrations=sdk_defaultIntegrations),void 0===options.dsn&&process.env.SENTRY_DSN&&(options.dsn=process.env.SENTRY_DSN),void 0===options.release){var global_1=Object(misc.h)();process.env.SENTRY_RELEASE?options.release=process.env.SENTRY_RELEASE:global_1.SENTRY_RELEASE&&global_1.SENTRY_RELEASE.id&&(options.release=global_1.SENTRY_RELEASE.id)}void 0===options.environment&&process.env.SENTRY_ENVIRONMENT&&(options.environment=process.env.SENTRY_ENVIRONMENT),external_domain_.active&&Object(esm_hub.e)(Object(esm_hub.d)(),Object(esm_hub.b)()),function(clientClass,options){!0===options.debug&&logger.a.enable(),Object(esm_hub.b)().bindClient(new clientClass(options))}(client_NodeClient,options)}function lastEventId(){return Object(esm_hub.b)().lastEventId()}function flush(timeout){return tslib_es6.b(this,void 0,void 0,(function(){var client;return tslib_es6.d(this,(function(_a){return(client=Object(esm_hub.b)().getClient())?[2,client.flush(timeout)]:[2,Promise.reject(!1)]}))}))}function sdk_close(timeout){return tslib_es6.b(this,void 0,void 0,(function(){var client;return tslib_es6.d(this,(function(_a){return(client=Object(esm_hub.b)().getClient())?[2,client.close(timeout)]:[2,Promise.reject(!1)]}))}))}var INTEGRATIONS=tslib_es6.a({},integrations_namespaceObject,esm_integrations_namespaceObject)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"v1",(function(){return esm_node_v1})),__webpack_require__.d(__webpack_exports__,"v3",(function(){return esm_node_v3})),__webpack_require__.d(__webpack_exports__,"v4",(function(){return esm_node_v4})),__webpack_require__.d(__webpack_exports__,"v5",(function(){return esm_node_v5})),__webpack_require__.d(__webpack_exports__,"NIL",(function(){return nil})),__webpack_require__.d(__webpack_exports__,"version",(function(){return esm_node_version})),__webpack_require__.d(__webpack_exports__,"validate",(function(){return esm_node_validate})),__webpack_require__.d(__webpack_exports__,"stringify",(function(){return esm_node_stringify})),__webpack_require__.d(__webpack_exports__,"parse",(function(){return esm_node_parse}));var external_crypto_=__webpack_require__(15),external_crypto_default=__webpack_require__.n(external_crypto_);const rnds8=new Uint8Array(16);function rng(){return external_crypto_default.a.randomFillSync(rnds8)}var regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var esm_node_validate=function(uuid){return"string"==typeof uuid&&regex.test(uuid)};const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));var esm_node_stringify=function(arr,offset=0){const uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!esm_node_validate(uuid))throw TypeError("Stringified UUID is invalid");return uuid};let _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;var esm_node_v1=function(options,buf,offset){let i=buf&&offset||0;const b=buf||new Array(16);let node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){const seedBytes=options.random||(options.rng||rng)();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}let msecs=void 0!==options.msecs?options.msecs:Date.now(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1;const dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;const tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;const tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(let n=0;n<6;++n)b[i+n]=node[n];return buf||esm_node_stringify(b)};var esm_node_parse=function(uuid){if(!esm_node_validate(uuid))throw TypeError("Invalid UUID");let v;const arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};var v35=function(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function(str){str=unescape(encodeURIComponent(str));const bytes=[];for(let i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_node_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),bytes=hashfunc(bytes),bytes[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(let i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return esm_node_stringify(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID};var esm_node_v3=v35("v3",48,(function(bytes){return Array.isArray(bytes)?bytes=Buffer.from(bytes):"string"==typeof bytes&&(bytes=Buffer.from(bytes,"utf8")),external_crypto_default.a.createHash("md5").update(bytes).digest()}));var esm_node_v4=function(options,buf,offset){const rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_node_stringify(rnds)};var esm_node_v5=v35("v5",80,(function(bytes){return Array.isArray(bytes)?bytes=Buffer.from(bytes):"string"==typeof bytes&&(bytes=Buffer.from(bytes,"utf8")),external_crypto_default.a.createHash("sha1").update(bytes).digest()})),nil="00000000-0000-0000-0000-000000000000";var esm_node_version=function(uuid){if(!esm_node_validate(uuid))throw TypeError("Invalid UUID");return parseInt(uuid.substr(14,1),16)}},,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Hub})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getMainCarrier})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCurrentHub})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getHubFromCarrier})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setHubOnCarrier}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_sentry_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_sentry_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82),_scope__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(36),Hub=function(){function Hub(client,scope,_version){void 0===scope&&(scope=new _scope__WEBPACK_IMPORTED_MODULE_3__.a),void 0===_version&&(_version=3),this._version=_version,this._stack=[],this._stack.push({client:client,scope:scope})}return Hub.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var top=this.getStackTop();top&&top.client&&top.client[method]&&(_a=top.client)[method].apply(_a,tslib__WEBPACK_IMPORTED_MODULE_0__.f(args,[top.scope]))},Hub.prototype.isOlderThan=function(version){return this._version<version},Hub.prototype.bindClient=function(client){this.getStackTop().client=client},Hub.prototype.pushScope=function(){var stack=this.getStack(),parentScope=stack.length>0?stack[stack.length-1].scope:void 0,scope=_scope__WEBPACK_IMPORTED_MODULE_3__.a.clone(parentScope);return this.getStack().push({client:this.getClient(),scope:scope}),scope},Hub.prototype.popScope=function(){return void 0!==this.getStack().pop()},Hub.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}finalHint={originalException:exception,syntheticException:syntheticException}}return this._invokeClient("captureException",exception,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException:syntheticException}}return this._invokeClient("captureMessage",message,level,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureEvent=function(event,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)();return this._invokeClient("captureEvent",event,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},hint,{event_id:eventId})),eventId},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(breadcrumb,hint){var top=this.getStackTop();if(top.scope&&top.client){var _a=top.client.getOptions&&top.client.getOptions()||{},_b=_a.beforeBreadcrumb,beforeBreadcrumb=void 0===_b?null:_b,_c=_a.maxBreadcrumbs,maxBreadcrumbs=void 0===_c?100:_c;if(!(maxBreadcrumbs<=0)){var timestamp=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.m)(),mergedBreadcrumb=tslib__WEBPACK_IMPORTED_MODULE_0__.a({timestamp:timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.d)((function(){return beforeBreadcrumb(mergedBreadcrumb,hint)})):mergedBreadcrumb;null!==finalBreadcrumb&&top.scope.addBreadcrumb(finalBreadcrumb,Math.min(maxBreadcrumbs,100))}}},Hub.prototype.setUser=function(user){var top=this.getStackTop();top.scope&&top.scope.setUser(user)},Hub.prototype.setTags=function(tags){var top=this.getStackTop();top.scope&&top.scope.setTags(tags)},Hub.prototype.setExtras=function(extras){var top=this.getStackTop();top.scope&&top.scope.setExtras(extras)},Hub.prototype.setTag=function(key,value){var top=this.getStackTop();top.scope&&top.scope.setTag(key,value)},Hub.prototype.setExtra=function(key,extra){var top=this.getStackTop();top.scope&&top.scope.setExtra(key,extra)},Hub.prototype.setContext=function(name,context){var top=this.getStackTop();top.scope&&top.scope.setContext(name,context)},Hub.prototype.configureScope=function(callback){var top=this.getStackTop();top.scope&&top.client&&callback(top.scope)},Hub.prototype.run=function(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}},Hub.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return _sentry_utils__WEBPACK_IMPORTED_MODULE_2__.a.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(spanOrSpanContext,forceNoChild){return void 0===forceNoChild&&(forceNoChild=!1),this._callExtensionMethod("startSpan",spanOrSpanContext,forceNoChild)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var carrier=getMainCarrier(),sentry=carrier.__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method])return sentry.extensions[method].apply(this,args);_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.a.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub}();function getMainCarrier(){var carrier=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.h)();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}function getCurrentHub(){var registry=getMainCarrier();return hasHubOnCarrier(registry)&&!getHubFromCarrier(registry).isOlderThan(3)||setHubOnCarrier(registry,new Hub),Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.j)()?function(registry){try{var activeDomain=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.e)(module,"domain").active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(3)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,_scope__WEBPACK_IMPORTED_MODULE_3__.a.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch(_Oo){return getHubFromCarrier(registry)}}(registry):getHubFromCarrier(registry)}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub||(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new Hub),carrier.__SENTRY__.hub}function setHubOnCarrier(carrier,hub){return!!carrier&&(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0)}}).call(this,__webpack_require__(152)(module))}]);