(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UIAction=void 0;const action_1=__webpack_require__(740);exports.UIAction={...action_1.DefaultUIAction,REQUEST_INSTALLED_DRIVERS:"REQUEST:INSTALLED_DRIVERS",REQUEST_OPEN_CONNECTION_FILE:"REQUEST:OPEN_CONNECTION_FILE",REQUEST_EDIT_CONNECTION:"REQUEST:EDIT_CONNECTION",REQUEST_SYNC_CONSOLE_MESSAGES:"REQUEST:SYNC_CONSOLE_MESSAGES",REQUEST_CREATE_CONNECTION:"REQUEST:CREATE_CONNECTION",REQUEST_UPDATE_CONNECTION:"REQUEST:UPDATE_CONNECTION",REQUEST_TEST_CONNECTION:"REQUEST:TEST_CONNECTION",REQUEST_DRIVER_SCHEMAS:"REQUEST:DRIVER_SCHEMAS",RESPONSE_DRIVER_SCHEMAS:"RESPONSE:DRIVER_SCHEMAS",RESPONSE_INSTALLED_DRIVERS:"RESPONSE:INSTALLED_DRIVERS",RESPONSE_QUERY_RESULTS:"RESPONSE:QUERY_RESULTS",RESPONSE_UPDATE_CONNECTION_SUCCESS:"RESPONSE:UPDATE_CONNECTION_SUCCESS",RESPONSE_UPDATE_CONNECTION_ERROR:"RESPONSE:UPDATE_CONNECTION_ERROR",RESPONSE_CREATE_CONNECTION_SUCCESS:"RESPONSE:CREATE_CONNECTION_SUCCESS",RESPONSE_CREATE_CONNECTION_ERROR:"RESPONSE:CREATE_CONNECTION_ERROR",RESPONSE_TEST_CONNECTION_WARNING:"RESPONSE:TEST_CONNECTION_WARNING",RESPONSE_TEST_CONNECTION_SUCCESS:"RESPONSE:TEST_CONNECTION_SUCCESS",RESPONSE_TEST_CONNECTION_ERROR:"RESPONSE:TEST_CONNECTION_ERROR"}},199:function(module,exports,__webpack_require__){"use strict";let logger;Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLogger=void 0;logger=__webpack_require__(743).default,exports.createLogger=function(ns,bindings={}){return ns?logger.child({...bindings,ns:ns}):logger},exports.default=logger},200:function(module,exports,__webpack_require__){module.exports={sortLabel:"_3VvGPGuEXPnbzgbQeR15W",selectedRow:"_2fSche_W9g9vUNScTCAIzI",tableCell:"_2CS4sB8ixj8xRF1mLahnpG",tableCellSyntax:"_3g03abZJdw1fkU3uYtPgRq _2CS4sB8ixj8xRF1mLahnpG",filterCell:"_2eeKI2Q6Qh6V3nZsg38waB",filterCellActive:"_2I7Y4TULV3zM-gs4HCtKuk _2eeKI2Q6Qh6V3nZsg38waB"}},255:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),style_m_scss_1=__importDefault(__webpack_require__(503));exports.default=({type:type,className:className="",...props})=>react_1.default.createElement("span",Object.assign({className:`${style_m_scss_1.default[type]} ${className}`},props))},256:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),style_m_scss_1=__importDefault(__webpack_require__(505));exports.default=({driver:driver})=>driver&&driver.icon?react_1.default.createElement("img",{className:style_m_scss_1.default.driverIcon,src:driver.icon}):null},302:function(module,exports,__webpack_require__){"use strict";function int(v){return exports.notEmpty(v)?parseInt(v,10):null}function bool(v){return void 0!==v&&("1"===(v=v.toString().toLowerCase())||"true"===v||"yes"===v||"y"===v)}function inRange(max,min){return value=>(value=int(value))>=min&&value<=max}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toRegEx=exports.clipboardInsert=exports.inRange=exports.gtz=exports.notEmpty=exports.bool=exports.int=void 0,exports.int=int,exports.bool=bool,exports.notEmpty=function(value){return value&&value.toString().trim().length>0},exports.notEmpty.errorMessage="{0} can't be empty",exports.gtz=function(value){return(value=int(value))>0},exports.gtz.errorMessage="{0} should be greater than zero",exports.inRange=inRange,exports.clipboardInsert=(value,format="text/plain")=>{value="string"==typeof value?value:JSON.stringify(value,null,2);const listener=function(e){e.clipboardData.setData(format,value),e.preventDefault()};document.addEventListener("copy",listener),document.execCommand("copy"),document.removeEventListener("copy",listener)};const isRegExMatcher=/^\/(.+)\/(\w+)?$/gi;function toRegEx(value){if(value instanceof RegExp)return value;try{if(isRegExMatcher.test(value))try{return eval(value.replace(isRegExMatcher,"/($1)/$2"))}catch(ee){}return new RegExp(value,"gi")}catch(e){}return value}exports.toRegEx=toRegEx},303:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendMessage=exports.messageLog=void 0;const src_1=__webpack_require__(199),vscode_1=__importDefault(__webpack_require__(450));exports.messageLog=src_1.createLogger(),exports.sendMessage=(action,payload)=>{vscode_1.default().postMessage({action:action,payload:payload}),exports.messageLog.debug("sent => %s %O",action,payload)},exports.default=exports.sendMessage},374:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),core_1=__webpack_require__(85),style_m_scss_1=__importDefault(__webpack_require__(501));exports.default=()=>react_1.default.createElement("div",{className:style_m_scss_1.default.loading},react_1.default.createElement("div",null,react_1.default.createElement(core_1.CircularProgress,{size:"100px"})))},377:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.totalSteps=exports.Step=void 0,function(Step){Step[Step.CONNECTION_TYPE=1]="CONNECTION_TYPE",Step[Step.CONNECTION_FORM=2]="CONNECTION_FORM",Step[Step.CONNECTION_CREATED=3]="CONNECTION_CREATED"}(exports.Step||(exports.Step={})),exports.totalSteps=3},378:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),style_m_scss_1=__importDefault(__webpack_require__(508));exports.default=({className:className="",style:style={},fg:fg,float:float,bg:bg,a:useAnchor,...props})=>{const composedProps={className:`${style_m_scss_1.default.button} ${className}`,style:{color:fg,background:bg,float:float,...style},...props};return useAnchor?react_1.default.createElement("a",Object.assign({},composedProps)):react_1.default.createElement("button",Object.assign({},composedProps))}},448:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),utils_1=__webpack_require__(302);__webpack_require__(738);class Syntax extends react_1.default.Component{constructor(props){super(props),this.id="syntax-"+(1e3*Math.random()).toFixed(0),this.copyCode=()=>{utils_1.clipboardInsert(JSON.stringify(this.props.code,null,2)),this.setState({copyMsg:"Copied!"},()=>{setTimeout(()=>{this.setState({copyMsg:"Copy"})},1e3)})},this.renderCode=code=>"json"===this.props.language&&"object"==typeof code?JSON.stringify(code,null,2).replace(/( *)(".+") *:/g,'$1<span class="key">$2</span>:').replace(/: *(".+")/g,': <span class="string">$1</span>').replace(/: *([0-9]+(\.[0-9]+)?)/g,': <span class="number">$1</span>').replace(/: *(null|true|false)/g,': <span class="bool">$1</span>'):"string"==typeof code?code:JSON.stringify(code),this.state={copyMsg:"Copy"}}render(){return react_1.default.createElement("div",{className:"relative syntax-container",style:{width:this.props.width,...this.props.style}},react_1.default.createElement("div",{id:this.id,className:`syntax ${this.props.language} ${this.props.strong?"strong-bg":""}`,dangerouslySetInnerHTML:{__html:this.renderCode(this.props.code)}}),this.props.allowCopy&&react_1.default.createElement("button",{className:"copy-code",type:"button",onClick:this.copyCode},this.state.copyMsg))}}exports.default=Syntax},450:function(module,exports,__webpack_require__){"use strict";let vscode;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return vscode=vscode||acquireVsCodeApi(),vscode}},451:function(module,exports,__webpack_require__){module.exports={"vscode-dark":"_2dVJrPT6dxiE4stduX5Xh-",blur:"_3UDGGMws0yJNRRJ4Wg8-9W",blurActive:"LphiChl1-Mladd-CcgiH7 _3UDGGMws0yJNRRJ4Wg8-9W",fullscreenContainer:"zqyYB4u8ICjtheV1dauj2",colorError:"_2HquK3QQxScexfLUgDEm3Z",cWarning:"_1YFI6g29ZrfSVoJ9P_dwxJ"}},452:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),core_1=__webpack_require__(85),theme_1=__importDefault(__webpack_require__(749));exports.default=({children:children})=>react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.ThemeProvider,{theme:theme_1.default},children))},453:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuActions=exports.availableFilterOperations=void 0,exports.availableFilterOperations=["contains","equal","notEqual","startsWith","endsWith","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","regex"],function(MenuActions){MenuActions.FilterByValueOption="Filter By {contextAction}",MenuActions.ReRunQueryOption="Re-Run This Query",MenuActions.ClearSelection="Clear Selection",MenuActions.ClearFiltersOption="Clear All Filters",MenuActions.CopyCellOption="Copy {contextAction}",MenuActions.CopyRowOption="Copy Selected JSON Row(s)",MenuActions.SaveCSVOption="Save Results as CSV",MenuActions.SaveJSONOption="Save Results as JSON",MenuActions.OpenEditorWithValueOption="Open Editor With {contextAction}",MenuActions.OpenEditorWithRowOption="Open Editor With Selected JSON Row(s)",MenuActions.Divider="sep"}(exports.MenuActions||(exports.MenuActions={}))},454:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterPredicate=void 0;const dx_react_grid_1=__webpack_require__(13);exports.filterPredicate=(value,filter,row)=>{if("regex"!==filter.operation)return dx_react_grid_1.IntegratedFiltering.defaultPredicate(value,filter,row);try{return-1!==(""+value).search(filter.regex||filter.value)}catch(error){return!1}}},497:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),Loading_1=__importDefault(__webpack_require__(374)),core_1=__webpack_require__(85),DriverSelector_1=__importDefault(__webpack_require__(502)),steps_1=__webpack_require__(377),ConnectionSettingsForm_1=__importDefault(__webpack_require__(507)),ConnectionCreated_1=__importDefault(__webpack_require__(742)),src_1=__webpack_require__(199),messages_1=__importDefault(__webpack_require__(303)),actions_1=__webpack_require__(155),Header_1=__importDefault(__webpack_require__(747)),generic_m_scss_1=__importDefault(__webpack_require__(451)),log=src_1.createLogger("settings");class SettingsScreen extends react_1.default.Component{constructor(){super(...arguments),this.messagesHandler=({action:action,payload:payload})=>{if(action)switch(log.info("Message received: %s %O",action,payload||"NO_PAYLOAD"),action){case actions_1.UIAction.REQUEST_EDIT_CONNECTION:return this.setState({action:actions_1.UIAction.REQUEST_EDIT_CONNECTION,loading:!1,step:steps_1.Step.CONNECTION_FORM,externalMessage:null,externalMessageType:null,...payload});case actions_1.UIAction.RESPONSE_UPDATE_CONNECTION_SUCCESS:case actions_1.UIAction.RESPONSE_CREATE_CONNECTION_SUCCESS:return this.setState({step:steps_1.Step.CONNECTION_CREATED,loading:!1,action:action,saved:!0,...payload});case actions_1.UIAction.RESPONSE_TEST_CONNECTION_SUCCESS:return this.setState({loading:!1,externalMessage:"Successfully connected!",externalMessageType:"success"});case actions_1.UIAction.RESPONSE_TEST_CONNECTION_WARNING:return this.setState({loading:!1,externalMessage:((payload&&payload.message?payload.message:payload)||"").toString(),externalMessageType:"warning"});case actions_1.UIAction.RESPONSE_INSTALLED_DRIVERS:const installedDrivers=payload;return installedDrivers&&0!==installedDrivers.length||(this.checkDriversInterval=this.checkDriversInterval||setInterval(()=>{messages_1.default(actions_1.UIAction.REQUEST_INSTALLED_DRIVERS)},2e3)),installedDrivers.length>0&&(clearInterval(this.checkDriversInterval),this.checkDriversInterval=null),this.setState({loading:!1,installedDrivers:installedDrivers});case actions_1.UIAction.RESPONSE_DRIVER_SCHEMAS:const{schema:schema={},uiSchema:uiSchema={}}=payload;return this.setState({loading:!1,schema:schema,uiSchema:uiSchema},()=>this.goTo(steps_1.Step.CONNECTION_FORM));case actions_1.UIAction.RESPONSE_UPDATE_CONNECTION_ERROR:case actions_1.UIAction.RESPONSE_CREATE_CONNECTION_ERROR:case actions_1.UIAction.RESPONSE_TEST_CONNECTION_ERROR:return this.setState({loading:!1,externalMessageType:"error",...payload,externalMessage:payload.externalMessage||payload.message||"Connection failed."});case actions_1.UIAction.REQUEST_RESET:return this.reset();default:log.warn("No handler set for %s",action)}},this.reset=()=>{this.setState(this.initialState,()=>this.loadDrivers())},this.initialState={action:actions_1.UIAction.REQUEST_CREATE_CONNECTION,loading:!1,driver:null,step:steps_1.Step.CONNECTION_TYPE,externalMessage:null,externalMessageType:null,installedDrivers:[],schema:{},uiSchema:{},formData:{}},this.state=this.initialState,this.loadDrivers=()=>{this.setState({loading:!0},()=>{messages_1.default(actions_1.UIAction.REQUEST_INSTALLED_DRIVERS)})},this.onSelectDriver=driver=>{if(!driver)return this.setState({loading:!1,driver:driver,formData:{}});this.setState({loading:!0,driver:driver,formData:{driver:driver.value}},()=>{messages_1.default(actions_1.UIAction.REQUEST_DRIVER_SCHEMAS,{driver:this.state.driver.value})})},this.onSubmitSetting=data=>{if(data.errors.length>0)return;const{id:editId,...connInfo}=data.formData;this.setState({loading:!0},()=>{messages_1.default(editId?actions_1.UIAction.REQUEST_UPDATE_CONNECTION:actions_1.UIAction.REQUEST_CREATE_CONNECTION,{editId:editId,connInfo:connInfo,globalSetting:!1})})},this.onChangeFormData=data=>{this.setState({formData:data.formData})},this.onTestConnection=()=>{this.setState({loading:!0},()=>{messages_1.default(actions_1.UIAction.REQUEST_TEST_CONNECTION,{connInfo:this.state.formData})})},this.goTo=step=>this.setState({step:step}),this.onOpenConnectionFile=()=>messages_1.default(actions_1.UIAction.REQUEST_OPEN_CONNECTION_FILE)}componentDidMount(){window.addEventListener("message",ev=>this.messagesHandler(ev.data)),messages_1.default(actions_1.UIAction.NOTIFY_VIEW_READY,!0),this.loadDrivers()}render(){const{step:step,driver:driver,loading:loading,installedDrivers:installedDrivers,saved:saved,action:action,schema:schema,uiSchema:uiSchema,formData:formData,externalMessage:externalMessage,externalMessageType:externalMessageType}=this.state;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Container,{maxWidth:"md",className:loading?generic_m_scss_1.default.blurActive:generic_m_scss_1.default.blur},react_1.default.createElement(Header_1.default,{step:step,driver:driver,saved:saved,goTo:this.goTo}),step===steps_1.Step.CONNECTION_TYPE&&react_1.default.createElement(DriverSelector_1.default,{loading:loading,drivers:installedDrivers,onSelect:this.onSelectDriver,selected:driver}),step===steps_1.Step.CONNECTION_FORM&&react_1.default.createElement(ConnectionSettingsForm_1.default,{schema:schema,uiSchema:uiSchema,installedDrivers:installedDrivers,onSubmit:this.onSubmitSetting,testConnection:this.onTestConnection,openConnectionFile:this.onOpenConnectionFile,action:action,driver:driver,onChange:this.onChangeFormData,formData:formData,testResults:{externalMessage:externalMessage,externalMessageType:externalMessageType}}),step===steps_1.Step.CONNECTION_CREATED&&react_1.default.createElement(ConnectionCreated_1.default,{formData:formData,driver:driver,action:action,reset:this.reset})),loading&&react_1.default.createElement(Loading_1.default,null))}}exports.default=SettingsScreen},501:function(module,exports,__webpack_require__){module.exports={loading:"Sel5npmOJ7nwd8_LVLXBj"}},502:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),Container_1=__importDefault(__webpack_require__(177)),Grid_1=__importDefault(__webpack_require__(137)),Message_1=__importDefault(__webpack_require__(255)),core_1=__webpack_require__(85),DriverItem_1=__webpack_require__(504);exports.default=({onSelect:onSelect,selected:selected,drivers:drivers=[],loading:loading})=>react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("h5",null,"Select your database driver"),react_1.default.createElement("hr",null),react_1.default.createElement(Container_1.default,{maxWidth:"sm"},drivers.length>0&&react_1.default.createElement(Grid_1.default,{container:!0,spacing:2,autoCapitalize:"center"},drivers.map(driver=>react_1.default.createElement(DriverItem_1.DriverItem,{key:driver.value,selected:selected&&selected.value===driver.value,driver:driver,onSelect:()=>onSelect(driver)}))),!loading&&0===drivers.length&&react_1.default.createElement(Grid_1.default,{style:{textAlign:"center",height:"400px",justifyContent:"space-evenly",flexDirection:"column",display:"flex",boxSizing:"content-box"}},react_1.default.createElement("div",null,react_1.default.createElement(Message_1.default,null,"Couldn't find any drivers installed yet.",react_1.default.createElement("p",null,react_1.default.createElement("a",{href:"command:workbench.extensions.search?"+encodeURIComponent('"@tag:sqltools-driver"')},"Search VSCode marketplace")))),react_1.default.createElement("div",null,react_1.default.createElement(core_1.CircularProgress,{size:"20px"}),react_1.default.createElement("p",null,react_1.default.createElement("strong",null,"Don't worry, we are still looking up for drivers.",react_1.default.createElement("br",null),"Try to install drivers before move forward.")))),!loading&&drivers.length>0&&react_1.default.createElement(Grid_1.default,{style:{textAlign:"center",height:"120px",justifyContent:"space-evenly",flexDirection:"column",display:"flex",boxSizing:"content-box"}},react_1.default.createElement("p",null,react_1.default.createElement("a",{href:"command:workbench.extensions.search?"+encodeURIComponent('"@tag:sqltools-driver"')},"Get more drivers")))))},503:function(module,exports,__webpack_require__){module.exports={message:"_180lKATBk8UMIa4dS28psw",success:"_2RT5pQEK34F79CQ_9AN7q0 _180lKATBk8UMIa4dS28psw",error:"_1B_YY_JBdEANqUhZkKFWe _180lKATBk8UMIa4dS28psw",warning:"_27IGSSnnE6o3PC9c3HXUEU _180lKATBk8UMIa4dS28psw"}},504:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DriverItem=void 0;const react_1=__importDefault(__webpack_require__(0)),Grid_1=__importDefault(__webpack_require__(137)),DriverIcon_1=__importDefault(__webpack_require__(256)),style_m_scss_1=__importDefault(__webpack_require__(506));exports.DriverItem=({driver:driver,selected:selected,onSelect:onSelect})=>react_1.default.createElement(Grid_1.default,{item:!0,xs:3,className:selected?style_m_scss_1.default.itemSelected:style_m_scss_1.default.item},react_1.default.createElement("div",{onClick:onSelect},react_1.default.createElement(DriverIcon_1.default,{driver:driver}),react_1.default.createElement("div",null,driver.displayName)))},505:function(module,exports,__webpack_require__){module.exports={driverIcon:"_3ixrvSbUJkmUkdIuVgkuOl"}},506:function(module,exports,__webpack_require__){module.exports={item:"G7o2JalGk_sxG_6nghxcy",itemSelected:"_3UFP_zGHDpbTNkzk2FuRs_ G7o2JalGk_sxG_6nghxcy"}},507:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),DriverIcon_1=__importDefault(__webpack_require__(256)),Button_1=__importDefault(__webpack_require__(378)),core_1=__importDefault(__webpack_require__(775)),FileWidget_1=(__importDefault(__webpack_require__(448)),__importDefault(__webpack_require__(739))),actions_1=__webpack_require__(155),Message_1=__importDefault(__webpack_require__(255)),ConnectionSettingsForm_m_scss_1=__importDefault(__webpack_require__(741)),ConnectionSettingsForm=({onSubmit:onSubmit,onChange:onChange,testConnection:testConnection,openConnectionFile:openConnectionFile,formData:formData={},schema:schema={},uiSchema:uiSchema={},driver:driver,action:action,testResults:{externalMessage:externalMessage,externalMessageType:externalMessageType}={}})=>react_1.default.createElement("div",{className:ConnectionSettingsForm_m_scss_1.default.formContainer},react_1.default.createElement("h5",null,"Connection Settings"),react_1.default.createElement("hr",null),react_1.default.createElement(DriverIcon_1.default,{driver:driver}),react_1.default.createElement(core_1.default,{schema:schema,uiSchema:uiSchema,onSubmit:onSubmit,onChange:onChange,formData:formData,widgets:widgets,showErrorList:!1,noHtml5Validate:!0},externalMessage&&react_1.default.createElement("div",null,react_1.default.createElement(Message_1.default,{type:externalMessageType},externalMessage)),react_1.default.createElement(ConnectionSettingsForm.Footer,{action:action,testConnection:testConnection,openConnectionFile:openConnectionFile})),!1);ConnectionSettingsForm.Footer=({testConnection:testConnection,action:action,openConnectionFile:openConnectionFile})=>react_1.default.createElement("footer",{className:ConnectionSettingsForm_m_scss_1.default.footer},react_1.default.createElement(Button_1.default,{bg:"var(--vscode-list-highlightForeground)",type:"submit"},"Save Connection"),react_1.default.createElement(Button_1.default,{onClick:testConnection,float:"right",type:"button"},"Test Connection"),!(""+(action||actions_1.UIAction.REQUEST_CREATE_CONNECTION)).toLowerCase().includes("create")&&react_1.default.createElement("a",{onClick:openConnectionFile},"Open settings"));const widgets={FileWidget:FileWidget_1.default};exports.default=ConnectionSettingsForm},508:function(module,exports,__webpack_require__){module.exports={common:"_1ggVT-3pS3WP8VYb-N_7ds",button:"_3kpN0gvXA6VJVPAjz5-ktO _1ggVT-3pS3WP8VYb-N_7ds"}},738:function(module,exports,__webpack_require__){},739:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0));class FileWidget extends react_1.Component{constructor(props){super(props),this.state={value:""},this.onChange=event=>{const value=event.target.files&&event.target.files.length>0?event.target.files[0].path:void 0;this.setState({value:value},this.callOnChange)},this.onChangeInput=event=>{const value=event.target.value;this.setState({value:value},this.callOnChange)},this.callOnChange=()=>this.props.onChange(this.state.value),this.inputRef=null;const{value:value}=props;this.state={...this.state,value:value}}componentDidUpdate(prevProps){prevProps.value!==this.props.value&&this.setState({value:this.props.value},this.callOnChange)}render(){const{id:id,readonly:readonly,disabled:disabled,options:options}=this.props,{value:value}=this.state;return react_1.default.createElement("span",{title:value,className:"file-field"},react_1.default.createElement("input",{type:"text",value:value||"",disabled:readonly||disabled,onChange:this.onChangeInput}),react_1.default.createElement("button",{type:"button",disabled:readonly||disabled},react_1.default.createElement("input",{ref:ref=>this.inputRef=ref,id:id,type:"file",disabled:readonly||disabled,onChange:this.onChange,accept:options.accept}),"Select File"))}}exports.default=FileWidget},740:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultUIAction=void 0,exports.DefaultUIAction={CALL:"call",NOTIFY_VIEW_READY:"NOTIFY:VIEW_READY",REQUEST_RESET:"REQUEST:RESET",REQUEST_STATE:"REQUEST:STATE",RESPONSE_STATE:"RESPONSE:STATE"}},741:function(module,exports,__webpack_require__){module.exports={formContainer:"_1KzBd-Iat1pGgGX7W3fmdb",footer:"_15LEfr2FdHntx1OPVsm94H"}},742:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),Syntax_1=__importDefault(__webpack_require__(448)),Button_1=__importDefault(__webpack_require__(378)),DriverIcon_1=__importDefault(__webpack_require__(256)),actions_1=__webpack_require__(155);exports.default=({formData:formData,action:action,reset:reset,driver:driver})=>{const{id:id,...connSettings}=formData;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("h5",null,"Review connection details"),react_1.default.createElement("hr",null),react_1.default.createElement(DriverIcon_1.default,{driver:driver}),react_1.default.createElement("div",{style:{minHeight:"150px"}},react_1.default.createElement("h4",null,action===actions_1.UIAction.RESPONSE_CREATE_CONNECTION_SUCCESS&&formData.name+" was added to your settings!",action===actions_1.UIAction.RESPONSE_UPDATE_CONNECTION_SUCCESS&&formData.name+" updated!"),react_1.default.createElement("details",{open:!0},react_1.default.createElement("summary",null,"Review JSON Syntax"),react_1.default.createElement(Syntax_1.default,{code:connSettings,language:"json",width:"calc(100% - 100px)"})),react_1.default.createElement("div",{style:{paddingTop:"50px"}},react_1.default.createElement(Button_1.default,{a:!0,onClick:reset,bg:"var(--vscode-list-highlightForeground)",href:encodeURI("command:sqltools.selectConnection?"+JSON.stringify(formData.id))},"Connect now"),react_1.default.createElement(Button_1.default,{a:!0,onClick:reset,bg:"var(--vscode-editorError-foreground)",float:"right",href:encodeURI("command:sqltools.deleteConnection?"+JSON.stringify(formData.id))},"Delete ",formData.name),react_1.default.createElement(Button_1.default,{onClick:reset,float:"right"},"Create another"))))}},743:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const factory_1=__importDefault(__webpack_require__(744));exports.default=factory_1.default()},744:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const pino_1=__importDefault(__webpack_require__(745));exports.default=function(opts={},stream){const logger=pino_1.default({name:"ui",base:{},level:"info",formatters:{level:level=>({level:level})},prettyPrint:!0,...opts},stream);return logger.show=()=>{},logger}},747:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),steps_1=__webpack_require__(377),style_m_scss_1=__importDefault(__webpack_require__(748));exports.default=({step:step,driver:driver,saved:saved,goTo:goTo})=>react_1.default.createElement("h3",{className:style_m_scss_1.default.header},"Connection Assistant",react_1.default.createElement("small",null,step-1>=steps_1.Step.CONNECTION_TYPE&&react_1.default.createElement("a",{onClick:()=>goTo(step-1)},"<"),"Step ",step,"/",steps_1.totalSteps,step+1<=steps_1.Step.CONNECTION_CREATED&&driver&&(step+1!==steps_1.Step.CONNECTION_CREATED||saved)&&react_1.default.createElement("a",{onClick:()=>goTo(step+1)},">")))},748:function(module,exports,__webpack_require__){module.exports={header:"eajllyYQHarZVG3QTSAdy"}},749:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultColors=exports.MuiTabHeight=void 0;const core_1=__webpack_require__(85);exports.MuiTabHeight="36px",exports.defaultColors={backgroundColor:"var(--vscode-editor-background)",color:"var(--vscode-editor-foreground)"};const theme=core_1.createMuiTheme({palette:{background:{default:exports.defaultColors.backgroundColor,paper:exports.defaultColors.backgroundColor}},overrides:{MuiPaper:{root:{borderCollapse:"collapse",...exports.defaultColors},rounded:{borderRadius:"1px"}},MuiTable:{root:{borderCollapse:"collapse !important",...exports.defaultColors}},MuiMenu:{paper:{backgroundColor:"var(--vscode-menu-background)",color:"var(--vscode-menu-foreground)"}},MuiMenuItem:{root:{minHeight:"auto"},gutters:{padding:"4px 24px","&:hover":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"}}},MuiList:{padding:{padding:"4px 0px"}},MuiListItem:{root:{flexDirection:"row",alignItems:"center","&$selected":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"},"&:hover":{background:"var(--vscode-menu-selectionBackground)",color:"var(--vscode-menu-selectionForeground)"}}},MuiDivider:{root:{backgroundColor:"var(--vscode-menu-separatorBackground)",margin:"4px 0",opacity:"0.4"}},MuiListItemIcon:{root:{color:"inherit"}},MuiListItemText:{root:{margin:0}},MuiTab:{root:{minHeight:exports.MuiTabHeight},textColorPrimary:{color:"var(--vscode-tab-inactiveForeground)",background:"var(--vscode-tab-inactiveBackground)","&$selected":{color:"var(--vscode-tab-activeForeground)",background:"var(--vscode-tab-activeBackground)"}}},MuiTabs:{root:{minHeight:exports.MuiTabHeight,background:"var(--vscode-tab-inactiveBackground)"},indicator:{backgroundColor:"var(--vscode-tab-activeModifiedBorder)"}},MuiTableCell:{root:{padding:"var(--sqltool-table-cell-padding, 2px 4px) !important",fontWeight:"normal",fontSize:"inherit"},body:{color:"inherit",border:"1px solid var(--vscode-input-border)","&.syntax":{fontFamily:"var(--vscode-editor-font-family, var(--font-family))",height:"300px",overflow:"auto"}},head:{fontWeight:"bold",color:"inherit",border:"1px solid var(--vscode-input-border)",background:"var(--vscode-panelSectionHeader-background)",borderBottom:"none"}},MuiInput:{root:{margin:"0 !important"},underline:{"&:before":{display:"none"},"&:after":{display:"none"}}},MuiIconButton:{root:{color:"inherit",padding:"0 4px"},label:{color:"inherit"}},MuiInputBase:{input:{color:"var(--vscode-input-foreground)",height:"1em",padding:"4px"}},MuiTableSortLabel:{root:{color:"inherit !important"},icon:{color:"inherit !important"}}}});exports.default=theme},750:function(module,exports,__webpack_require__){},751:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const core_1=__webpack_require__(85),src_1=__webpack_require__(199),react_1=__importStar(__webpack_require__(0)),actions_1=__webpack_require__(155),Loading_1=__importDefault(__webpack_require__(374)),messages_1=__importStar(__webpack_require__(303)),vscode_1=__importDefault(__webpack_require__(450)),QueryTabs_1=__importDefault(__webpack_require__(752)),Table_1=__importDefault(__webpack_require__(753)),ViewContainer_1=__importDefault(__webpack_require__(769)),constants_1=__webpack_require__(453),useReducer_base_1=__importDefault(__webpack_require__(770));__webpack_require__(771);const log=src_1.createLogger("results"),initialState={loading:!0,error:null,resultTabs:[],activeTab:0};var ACTION;!function(ACTION){ACTION.RESET="RESET",ACTION.RESULTS_RECEIVED="RESULTS_RECEIVED",ACTION.TOGGLE_TAB="TOGGLE_TAB",ACTION.SET="SET"}(ACTION||(ACTION={}));const getCurrentQueryOptions=activeResult=>({requestId:activeResult.requestId,resultId:activeResult.resultId,baseQuery:activeResult.baseQuery,connId:activeResult.connId});function reducer(state,action){switch(action.type){case ACTION.RESET:return{...initialState};case ACTION.RESULTS_RECEIVED:return{...state,...action.payload};case ACTION.TOGGLE_TAB:return{...state,activeTab:action.payload};case ACTION.SET:return{...state,...action.payload};default:throw new Error}}exports.default=()=>{const[state,dispatch,stateRef]=useReducer_base_1.default(reducer,initialState),{loading:loading,error:error,resultTabs:results,activeTab:activeTab}=state,getCurrentResult=s=>{const{resultTabs:queryResults,activeTab:index}=s||state;return queryResults[index]},set=payload=>dispatch({type:ACTION.SET,payload:payload}),focusMessages=()=>messages_1.default(actions_1.UIAction.CALL,{command:"sqltoolsViewConsoleMessages.focus"}),exportResults=choice=>{const activeResult=getCurrentResult(stateRef.current);activeResult&&messages_1.default(actions_1.UIAction.CALL,{command:"sqltools.saveResults",args:[{...getCurrentQueryOptions(activeResult),fileType:Object.values(constants_1.MenuActions).includes(choice)?choice===constants_1.MenuActions.SaveJSONOption?"json":"csv":void 0}]})},reRunQuery=()=>{const activeResult=getCurrentResult(stateRef.current);if(!activeResult)return;const{queryType:queryType,query:query,queryParams:queryParams,pageSize:pageSize,page:page}=activeResult;return queryType?(messages_1.default(actions_1.UIAction.CALL,{command:"sqltools."+queryType,args:[queryParams,{...getCurrentQueryOptions(activeResult),page:page,pageSize:pageSize||50}]}),set({loading:!0})):(messages_1.default(actions_1.UIAction.CALL,{command:"sqltools.executeQuery",args:[query,getCurrentQueryOptions(activeResult)]}),set({loading:!0}))},messagesHandler=({action:action,payload:payload})=>{if(action)switch(messages_1.messageLog.info("received => %s %O",action,payload||"NO_PAYLOAD"),action){case actions_1.UIAction.RESPONSE_QUERY_RESULTS:const changes={resultTabs:payload,activeTab:0,loading:!1,error:payload.find(r=>!!r.error)};return changes.error,(changes=>dispatch({type:ACTION.RESULTS_RECEIVED,payload:changes}))(changes);case actions_1.UIAction.REQUEST_RESET:return dispatch({type:ACTION.RESET});case actions_1.UIAction.REQUEST_STATE:return messages_1.default(actions_1.UIAction.RESPONSE_STATE,stateRef.current);default:return log.warn("No handler set for %s",action)}};react_1.useEffect(()=>{const listener=ev=>messagesHandler(ev.data);return window.addEventListener("message",listener),messages_1.default(actions_1.UIAction.NOTIFY_VIEW_READY,!0),()=>{window.removeEventListener("message",listener)}},[]),react_1.useEffect(()=>(vscode_1.default().setState(stateRef.current),()=>{vscode_1.default().setState(null)}),[state,state.resultTabs,state.resultTabs.length]),react_1.useEffect(()=>{const{resultTabs:results,activeTab:index}=stateRef.current,activeResult=results[index];messages_1.default(actions_1.UIAction.REQUEST_SYNC_CONSOLE_MESSAGES,activeResult&&activeResult.messages||[])},[activeTab,state.resultTabs,state.resultTabs.length]),react_1.useEffect(()=>{error&&focusMessages()},[error]);const activeResult=state.resultTabs[activeTab],pageSize=activeResult&&activeResult.pageSize||50,showPagination=!activeResult||!activeResult.results||Math.max(activeResult.total||0,activeResult.results.length)>pageSize,columns=(activeResult&&activeResult.cols&&activeResult.cols.length>0?activeResult.cols:[""]).map(title=>({name:title,title:title}));return react_1.default.createElement(ViewContainer_1.default,{className:results.length>1?"has-tabs":""},react_1.default.createElement(QueryTabs_1.default,{active:activeTab,items:results.map(r=>r.label||r.query),onChange:value=>dispatch({type:ACTION.TOGGLE_TAB,payload:value})}),activeResult&&react_1.default.createElement(Table_1.default,{columns:columns,rows:activeResult.results||[],columnNames:activeResult.cols,page:activeResult.page,query:activeResult.query,queryType:activeResult.queryType,queryParams:activeResult.queryParams,total:activeResult.total,showPagination:showPagination,pageSize:pageSize,error:error,changePage:page=>{set({loading:!0});const activeResult=state.resultTabs[activeTab];messages_1.default(actions_1.UIAction.CALL,{command:"sqltools."+activeResult.queryType,args:[activeResult.queryParams,{page:page,pageSize:activeResult.pageSize||50,requestId:activeResult.requestId}]})},queryOptions:getCurrentQueryOptions(activeResult),menuActions:{[constants_1.MenuActions.ReRunQueryOption]:reRunQuery,[constants_1.MenuActions.SaveCSVOption]:exportResults,[constants_1.MenuActions.SaveJSONOption]:exportResults},footerButtons:react_1.default.createElement("div",{className:"buttons"},react_1.default.createElement(core_1.Button,{onClick:focusMessages,className:"action-button"},"Console"),react_1.default.createElement(core_1.Button,{onClick:reRunQuery,className:"action-button"},"Re-Run Query"),react_1.default.createElement(core_1.Button,{onClick:exportResults,className:"action-button"},"Export"),react_1.default.createElement(core_1.Button,{onClick:choice=>{const activeResult=getCurrentResult(stateRef.current);activeResult&&messages_1.default(actions_1.UIAction.CALL,{command:"sqltools.openResults",args:[{...getCurrentQueryOptions(activeResult),fileType:Object.values(constants_1.MenuActions).includes(choice)?choice===constants_1.MenuActions.SaveJSONOption?"json":"csv":void 0}]})},className:"action-button"},"Open"))}),loading&&react_1.default.createElement(Loading_1.default,null))}},752:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),core_1=__webpack_require__(85);exports.default=({items:items,active:active,onChange:onChange})=>items.length<=1?null:react_1.default.createElement(core_1.Tabs,{value:active,onChange:(_e,index)=>onChange(index),indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},items.map((name,index)=>react_1.default.createElement(core_1.Tab,{disableFocusRipple:!0,disableRipple:!0,key:index,label:react_1.default.createElement(core_1.Typography,{variant:"inherit",noWrap:!0,style:{width:"100%",textTransform:"initial"}},name)})))},753:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const React=__importStar(__webpack_require__(0)),Paper_1=__importDefault(__webpack_require__(51)),dx_react_grid_1=__webpack_require__(13),dx_react_grid_material_ui_1=__webpack_require__(97),utils_1=__webpack_require__(302),constants_1=__webpack_require__(453),utils_2=__webpack_require__(302),Menu_1=__importDefault(__webpack_require__(755)),ErrorIcon_1=__importDefault(__webpack_require__(756)),TableFilterRowCell_1=__importDefault(__webpack_require__(757)),PagingPanelContainer_1=__importDefault(__webpack_require__(758)),FilterIcon_1=__importDefault(__webpack_require__(759)),TableCell_1=__importDefault(__webpack_require__(761)),GridRoot_1=__importDefault(__webpack_require__(763)),generateColumnExtensions_1=__importDefault(__webpack_require__(765)),state_1=__webpack_require__(766),messages_1=__importDefault(__webpack_require__(303)),TableRow_1=__importDefault(__webpack_require__(767)),actions_1=__webpack_require__(155),filterPredicate_1=__webpack_require__(454),Message_1=__importDefault(__webpack_require__(255)),SortLabel_1=__importDefault(__webpack_require__(768)),generic_m_scss_1=__importDefault(__webpack_require__(451));class Table extends React.PureComponent{constructor(){super(...arguments),this.state=state_1.initialState,this.changeFilters=(filters=[])=>{filters=filters.map(filter=>("regex"===filter.operation&&(filter.regex=utils_1.toRegEx(filter.value)),filter)),this.setState({filters:filters})},this.openContextMenu=(e,row,column,index)=>{const options=this.tableContextOptions(row,column);options&&0!==options.length&&this.setState({contextMenu:{row:row,column:column,options:options,anchorEl:e.currentTarget,position:{x:e.clientX,y:e.clientY}},selection:this.state.selection.includes(index)?this.state.selection:[index]})},this.closeContextMenu=()=>{this.setState({contextMenu:state_1.initialState.contextMenu})},this.onMenuSelect=choice=>{const{contextMenu:contextMenu}=this.state;let selectedRows=this.state.selection.map(index=>this.props.rows[index]);selectedRows=1===selectedRows.length?selectedRows[0]:selectedRows;const cellValue=contextMenu.row[contextMenu.column.name];switch(choice){case constants_1.MenuActions.FilterByValueOption:const{filters:filters=[]}=this.state,filterIndex=filters.findIndex(filter=>filter.columnName===contextMenu.column.name);return-1!==filterIndex&&filters.splice(filterIndex,1),filters.push({columnName:contextMenu.column.name,operation:"equal",value:contextMenu.row[contextMenu.column.name]}),this.setState({filters:filters,contextMenu:state_1.initialState.contextMenu,selection:[]});case constants_1.MenuActions.CopyCellOption:case constants_1.MenuActions.CopyRowOption:return utils_2.clipboardInsert(choice===constants_1.MenuActions.CopyCellOption?cellValue:selectedRows),this.setState({contextMenu:state_1.initialState.contextMenu});case constants_1.MenuActions.ClearFiltersOption:return this.setState({filters:[],contextMenu:state_1.initialState.contextMenu,selection:[]});case constants_1.MenuActions.ClearSelection:return this.setState({contextMenu:state_1.initialState.contextMenu,selection:[]});case constants_1.MenuActions.OpenEditorWithValueOption:case constants_1.MenuActions.OpenEditorWithRowOption:messages_1.default(actions_1.UIAction.CALL,{command:"sqltools.insertText",args:[choice===constants_1.MenuActions.OpenEditorWithValueOption?""+cellValue:JSON.stringify(selectedRows,null,2)]});case constants_1.MenuActions.ReRunQueryOption:case constants_1.MenuActions.SaveCSVOption:case constants_1.MenuActions.SaveJSONOption:return this.setState({contextMenu:state_1.initialState.contextMenu},()=>this.props.menuActions[choice](choice))}},this.updateWidths=columnExtensions=>{this.setState({columnExtensions:columnExtensions.map(c=>({...c,predicate:c.predicate||filterPredicate_1.filterPredicate}))})},this.tableContextOptions=(row,column)=>{let cellValue=row[column.name];const cellValueIsObject=cellValue&&(Array.isArray(cellValue)||"[object Object]"===cellValue.toString()),replaceString=cellValueIsObject?"Cell Value":`'${cellValue}'`,isMultiSelection=this.state.selection.length>1,cellOptions=[],filterOptions=[],queryOptions=[constants_1.MenuActions.ReRunQueryOption],rowOptions=[constants_1.MenuActions.CopyRowOption,constants_1.MenuActions.OpenEditorWithRowOption],resultOptions=[constants_1.MenuActions.SaveCSVOption,constants_1.MenuActions.SaveJSONOption];void 0===cellValue||cellValueIsObject||cellOptions.push({label:constants_1.MenuActions.FilterByValueOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.FilterByValueOption}),this.state.filters.length>0&&filterOptions.push(constants_1.MenuActions.ClearFiltersOption),isMultiSelection&&filterOptions.push(constants_1.MenuActions.ClearSelection),cellOptions.push({label:constants_1.MenuActions.CopyCellOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.CopyCellOption},{label:constants_1.MenuActions.OpenEditorWithValueOption.replace("{contextAction}",replaceString),value:constants_1.MenuActions.OpenEditorWithValueOption});let options=[];return cellOptions.length>0&&(options=options.concat(cellOptions),options.push(constants_1.MenuActions.Divider)),filterOptions.length>0&&(options=options.concat(filterOptions),options.push(constants_1.MenuActions.Divider)),rowOptions.length>0&&(options=options.concat(rowOptions),options.push(constants_1.MenuActions.Divider)),queryOptions.length>0&&(options=options.concat(queryOptions),options.push(constants_1.MenuActions.Divider)),resultOptions.length>0&&(options=options.concat(resultOptions)),options},this.renderError=footerButtons=>React.createElement("div",{className:"queryError",style:{flexGrow:1,textAlign:"center",alignItems:"center",flexDirection:"column",display:"flex",justifyContent:"center",height:"100%"}},React.createElement("div",null,React.createElement(ErrorIcon_1.default,{className:generic_m_scss_1.default.colorError})),React.createElement("div",{style:{margin:"30px"}},"Query with errors. Please, check the error below."),React.createElement("div",null,footerButtons)),this.setSelection=(selection=[])=>this.setState({selection:selection})}render(){const{rows:rows,columns:columns,columnNames:columnNames,pageSize:pageSize,footerButtons:footerButtons,error:error,showPagination:showPagination,page:page,total:total,changePage:changePage}=this.props,{filters:filters,selection:selection,contextMenu:contextMenu}=this.state,columnExtensions=this.state.columnExtensions||generateColumnExtensions_1.default(columnNames,rows);let pagingProps={};return pagingProps="number"==typeof page?{currentPage:page,onCurrentPageChange:changePage}:{defaultCurrentPage:0},React.createElement(Paper_1.default,{square:!0,elevation:0,className:"result"},error?this.renderError(footerButtons):React.createElement(React.Fragment,null,0===(total||rows.length)?React.createElement("div",{style:{textAlign:"center",flex:1,justifyContent:"space-around",display:"flex",flexDirection:"column",fontSize:"1.3rem"}},React.createElement(Message_1.default,{type:"success"},"Query returned 0 rows")):React.createElement(dx_react_grid_material_ui_1.Grid,{rows:rows,columns:columns,rootComponent:GridRoot_1.default},React.createElement(dx_react_grid_1.DataTypeProvider,{for:columnNames,availableFilterOperations:constants_1.availableFilterOperations}),React.createElement(dx_react_grid_1.SortingState,null),React.createElement(dx_react_grid_1.IntegratedSorting,null),React.createElement(dx_react_grid_1.FilteringState,{filters:filters,onFiltersChange:this.changeFilters}),React.createElement(dx_react_grid_1.IntegratedFiltering,{columnExtensions:columnExtensions}),React.createElement(dx_react_grid_1.PagingState,Object.assign({pageSize:pageSize},pagingProps)),React.createElement(dx_react_grid_1.CustomPaging,{totalCount:total||rows.length}),React.createElement(dx_react_grid_1.SelectionState,{selection:selection,onSelectionChange:this.setSelection}),React.createElement(dx_react_grid_material_ui_1.VirtualTable,{cellComponent:TableCell_1.default(this.openContextMenu)}),React.createElement(dx_react_grid_material_ui_1.TableColumnResizing,{columnWidths:columnExtensions,onColumnWidthsChange:this.updateWidths}),React.createElement(dx_react_grid_material_ui_1.TableHeaderRow,{showSortingControls:!0,sortLabelComponent:SortLabel_1.default}),React.createElement(dx_react_grid_material_ui_1.TableSelection,{selectByRowClick:!0,highlightRow:!0,showSelectionColumn:!1,rowComponent:TableRow_1.default.Selected}),React.createElement(dx_react_grid_material_ui_1.TableFilterRow,{cellComponent:TableFilterRowCell_1.default,showFilterSelector:!0,iconComponent:FilterIcon_1.default,messages:{regex:"RegEx"}}),React.createElement(dx_react_grid_material_ui_1.PagingPanel,{containerComponent:PagingPanelContainer_1.default(footerButtons,showPagination)})),React.createElement(Menu_1.default,{anchorEl:contextMenu.anchorEl,width:300,onClose:this.closeContextMenu,position:contextMenu.position,onSelect:this.onMenuSelect,options:contextMenu.options})))}}exports.default=Table},755:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),MenuItem_1=__importDefault(__webpack_require__(114)),core_1=__webpack_require__(85);exports.default=({position:position,onSelect:onSelect,onClose:onClose,anchorEl:anchorEl,options:options=[],width:width=200})=>{if(!anchorEl)return null;const{x:x,y:y}=position||{};return react_1.default.createElement(core_1.Menu,{id:"context-menu",anchorReference:"anchorPosition",anchorEl:anchorEl,open:!!anchorEl,onClose:()=>(onClose&&onClose(),onSelect(null)),disablePortal:!0,anchorPosition:{top:y,left:x},PaperProps:{style:{width:width}}},options.map((opt,index)=>"sep"===opt||"sep"===opt.value?react_1.default.createElement(core_1.Divider,{key:index,variant:"fullWidth",component:"li"}):react_1.default.createElement(MenuItem_1.default,{key:opt.value||opt.label||opt,onClick:()=>onSelect(opt.value||opt.label||opt),disabled:opt.disabled},react_1.default.createElement(core_1.Typography,{variant:"inherit",noWrap:!0},opt.label||opt.value||opt))))}},756:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0));exports.default=props=>react_1.default.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667",width:"50",height:"50"},props),react_1.default.createElement("path",{fill:"currentColor",d:"M213.333,0C95.514,0,0,95.514,0,213.333s95.514,213.333,213.333,213.333\n      s213.333-95.514,213.333-213.333S331.153,0,213.333,0z M330.995,276.689l-54.302,54.306l-63.36-63.356l-63.36,63.36l-54.302-54.31\n      l63.356-63.356l-63.356-63.36l54.302-54.302l63.36,63.356l63.36-63.356l54.302,54.302l-63.356,63.36L330.995,276.689z"}))},757:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97),style_m_scss_1=__importDefault(__webpack_require__(200));exports.default=props=>react_1.default.createElement(dx_react_grid_material_ui_1.TableFilterRow.Cell,Object.assign({},props,{className:style_m_scss_1.default.filterCell+(props.filter&&void 0!==props.filter.value?style_m_scss_1.default.filterCellActive:style_m_scss_1.default.filterCell)}))},758:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97);exports.default=(buttons,showPagination)=>props=>react_1.default.createElement("div",{className:"resultsPagination"},buttons,react_1.default.createElement("div",{className:"paginator "+(showPagination?"":"no-buttons")},react_1.default.createElement(dx_react_grid_material_ui_1.PagingPanel.Container,Object.assign({},props))))},759:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97),Code_1=__importDefault(__webpack_require__(760));exports.default=({type:type,...restProps})=>"regex"===type?react_1.default.createElement(Code_1.default,Object.assign({},restProps)):react_1.default.createElement(dx_react_grid_material_ui_1.TableFilterRow.Icon,Object.assign({type:type},restProps))},761:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97),ValueRender_1=__webpack_require__(762),style_m_scss_1=__importDefault(__webpack_require__(200));exports.default=openContextMenu=>props=>react_1.default.createElement(dx_react_grid_material_ui_1.Table.Cell,Object.assign({},props,{className:`${props.className||""} ${style_m_scss_1.default.tableCell} ${"object"==typeof props.value||Array.isArray(props.value)?"td-syntax "+style_m_scss_1.default.tableCellSyntax:""}`,onContextMenu:e=>openContextMenu(e,props.row,props.column,props.tableRow.rowId),title:"object"==typeof props.value||Array.isArray(props.value)?JSON.stringify(props.value,null,2):""+props.value}),react_1.default.createElement(ValueRender_1.ValueRender,{value:props.value}))},762:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValueRender=void 0;const react_1=__importDefault(__webpack_require__(0));exports.ValueRender=({value:value})=>null===value?react_1.default.createElement("small",{className:"cell-value value-null"},"NULL"):"number"==typeof value?react_1.default.createElement("span",{className:"cell-value value-number"},value):!0===value||!1===value?react_1.default.createElement("span",{className:"cell-value value-bool "+value.toString()},value.toString().toUpperCase()):"object"==typeof value||Array.isArray(value)?react_1.default.createElement(react_1.default.Fragment,null,JSON.stringify(value,null,2)):react_1.default.createElement(react_1.default.Fragment,null,String(value)),exports.default=exports.ValueRender},763:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97),style_m_scss_1=__importDefault(__webpack_require__(764));exports.default=({className:className="",...props})=>react_1.default.createElement(dx_react_grid_material_ui_1.Grid.Root,Object.assign({className:`${style_m_scss_1.default.root} ${className}`},props))},764:function(module,exports,__webpack_require__){module.exports={root:"_2QE7KqS3j1qI2ZRlnssMqa"}},765:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const filterPredicate_1=__webpack_require__(454),get_1=__importDefault(__webpack_require__(202));exports.default=(colNames,rows)=>colNames.map(columnName=>({columnName:columnName,predicate:filterPredicate_1.filterPredicate,width:Math.min(7.5*Math.max(20,JSON.stringify(get_1.default(rows,[0,columnName],"")).length-2,JSON.stringify(get_1.default(rows,[1,columnName],"")).length-2,JSON.stringify(get_1.default(rows,[2,columnName],"")).length-2,JSON.stringify(get_1.default(rows,[3,columnName],"")).length-2,JSON.stringify(get_1.default(rows,[4,columnName],"")).length-2),600)}))},766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialState=void 0,exports.initialState={filters:[],contextMenu:{row:null,column:null,options:[],position:{x:null,y:null},anchorEl:null},selection:[],columnExtensions:null}},767:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),TableRow_1=__importDefault(__webpack_require__(156)),styles_1=__webpack_require__(201),style_m_scss_1=__importDefault(__webpack_require__(200)),TableRow={Selected:styles_1.withStyles(()=>styles_1.createStyles({selected:{background:"var(--vscode-editor-selectionBackground)",color:"var(--vscode-editor-selectionForeground)"}}),{name:"TableSelectRow"})(({classes:classes,onToggle:onToggle,selectByRowClick:selectByRowClick,highlighted:highlighted,tableRow:tableRow,...restProps})=>react_1.default.createElement(TableRow_1.default,Object.assign({className:highlighted?`${classes.selected} ${style_m_scss_1.default.selectedRow}`:void 0,onClick:e=>{selectByRowClick&&(e.stopPropagation(),onToggle())}},restProps)))};exports.default=TableRow},768:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),dx_react_grid_material_ui_1=__webpack_require__(97),style_m_scss_1=__importDefault(__webpack_require__(200));exports.default=props=>{return react_1.default.createElement(dx_react_grid_material_ui_1.TableHeaderRow.SortLabel,Object.assign({},props,{getMessage:(column=props.column,()=>react_1.default.createElement("span",{className:style_m_scss_1.default.sortLabel},"Sort ",react_1.default.createElement("strong",null,column.title||column.name)))}));var column}},769:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0));exports.default=({className:className,...props})=>react_1.default.createElement("div",Object.assign({className:("query-results-container "+(className||"")).trim()},props))},770:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),log=__webpack_require__(199).createLogger();exports.default=(reducer,initialState)=>{let stateRef=react_1.useRef(initialState);const[state,dispatchOriginal]=react_1.useReducer(reducer,initialState);return react_1.useEffect(()=>{log.info("prev state => %O",stateRef.current),log.info("curr state => %O",state),stateRef.current=state},[state]),[state,action=>(log.info("action => %s %O",action.type,action),dispatchOriginal(action)),stateRef]}},771:function(module,exports,__webpack_require__){},789:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),react_dom_1=__webpack_require__(16),Screen_1=__importDefault(__webpack_require__(497)),Themed_1=__importDefault(__webpack_require__(452));__webpack_require__(750),react_dom_1.render(react_1.default.createElement(Themed_1.default,null,react_1.default.createElement(Screen_1.default,null)),document.getElementById("app-root"))},801:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),react_dom_1=__webpack_require__(16),Main_1=__importDefault(__webpack_require__(751)),Themed_1=__importDefault(__webpack_require__(452));react_dom_1.render(react_1.default.createElement(Themed_1.default,null,react_1.default.createElement(Main_1.default,null)),document.getElementById("app-root"))}}]);